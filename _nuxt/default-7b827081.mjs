import{h as bn,q as E,G as oe,H as en,o as C,m as ae,F as Ge,r as Ze,t as Pe,I as Er,D as Oe,J as Ss,w as je,n as we,K as Rs,L as ws,_ as tn,d as rn,M as Ps,c as X,a as he,p as nn,N as Os,O as Sn,x as js}from"./entry-72c54a1b.mjs";import xs from"./Logo-654bf534.mjs";import Fs from"./ContentNavigation-284ac9cd.mjs";function _s(e,t,r){if(!e)throw new Error("You need to provide `widgetName` in your data");var n=["ais-"+e];return t&&n.push("-"+t),r&&n.push("--"+r),n.join("")}var W=function(e){var t=e.name;return{props:{classNames:{type:Object,default:void 0}},methods:{suit:function(r,n){var i=_s(t,r,n),a=this.classNames&&this.classNames[i];return a?[i,a].join(" "):i}}}};function it(e){for(var t=arguments,r=1;r<arguments.length;r++){var n=t[r]!=null?t[r]:{},i=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),i.forEach(function(a){$s(e,a,n[a])})}return e}function $s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Is=!1,Es=!0;function _t(e){function t(r,n,i){if(typeof n=="object"&&(n.attrs||n.props)){var a=Object.assign({},n,n.attrs,n.props);return delete a.attrs,delete a.props,bn(r,a,i)}return bn(r,n,i)}return function(){return e.call(this,t)}}function ur(e){return e.$slots.default&&e.$slots.default()}var Rn=new Set;function Ot(e){Rn.has(e)||(Rn.add(e),console.warn(e))}var B=function(e,t){var r;e===void 0&&(e={});var n=e.connector;return t===void 0&&(t={}),(r={inject:{instantSearchInstance:{from:"$_ais_instantSearchInstance",default:function(){var i=this.$options._componentTag;throw new TypeError('It looks like you forgot to wrap your Algolia search component "<'+i+'>" inside of an "<ais-instant-search>" component.')}},getParentIndex:{from:"$_ais_getParentIndex",default:function(){var i=this;return function(){return i.instantSearchInstance.mainIndex}}}},data:function(){return{state:null}},created:function(){if(typeof n=="function"){if(this.factory=n(this.updateState,function(){}),this.widget=it(this.factory(this.widgetParams),t),this.getParentIndex().addWidgets([this.widget]),this.instantSearchInstance._initialResults&&!this.instantSearchInstance.started){if(typeof this.instantSearchInstance.__forceRender!="function")throw new Error("You are using server side rendering with <ais-instant-search> instead of <ais-instant-search-ssr>.");this.instantSearchInstance.__forceRender(this.widget,this.getParentIndex())}}else n!==!0&&Ot(`You are using the InstantSearch widget mixin, but didn't provide a connector.
While this is technically possible, and will give you access to the Helper,
it's not the recommended way of making custom components.

If you want to disable this message, pass { connector: true } to the mixin.

Read more on using connectors: https://alg.li/vue-custom`)}}).beforeUnmount=function(){this.widget&&this.getParentIndex().removeWidgets([this.widget])},r.watch={widgetParams:{handler:function(i){this.state=null,this.getParentIndex().removeWidgets([this.widget]),this.widget=it(this.factory(i),t),this.getParentIndex().addWidgets([this.widget])},deep:!0}},r.methods={updateState:function(i,a){i===void 0&&(i={}),a||(this.state=i)}},r},As=Promise.resolve(),Ts=function(t){var r=null,n=!1,i=function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];r===null&&(r=As.then(function(){if(r=null,n){n=!1;return}t.apply(void 0,u)}))};return i.wait=function(){if(r===null)throw new Error("The deferred function should be called before calling `wait()`");return r},i.cancel=function(){r!==null&&(n=!0)},i},yt=Ts;function an(e){return e.filter(function(t,r,n){return n.indexOf(t)===r})}function at(e,t){for(var r,n=0;n<e.length;n++)if(r=e[n],t(r,n,e))return r}function Hs(e){return typeof e=="string"?e.replace(/^\\-/,"-"):e}function Rt(e){return typeof e=="number"&&e<0||typeof e=="string"?String(e).replace(/^-/,"\\-"):e}function hr(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:[],a={type:t,attribute:r,name:n,escapedValue:Rt(n)},s=at(i,function(o){return o.name===r}),u;return t==="hierarchical"?function(){for(var o=e.getHierarchicalFacetByName(r),c=n.split(o.separator),f=function(g){return function(h){return g[h]}},d=function(g){s=s&&s.data&&at(Object.keys(s.data).map(f(s.data)),function(h){return h.name===c[g]})},l=0;s!==void 0&&l<c.length;++l)d(l);u=s&&s.count}():u=s&&s.data&&s.data[a.name],u!==void 0&&(a.count=u),s&&s.exhaustive!==void 0&&(a.exhaustive=s.exhaustive),a}function sn(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=[],i=t.facetsRefinements,a=i===void 0?{}:i,s=t.facetsExcludes,u=s===void 0?{}:s,o=t.disjunctiveFacetsRefinements,c=o===void 0?{}:o,f=t.hierarchicalFacetsRefinements,d=f===void 0?{}:f,l=t.numericRefinements,m=l===void 0?{}:l,g=t.tagRefinements,h=g===void 0?[]:g;return Object.keys(a).forEach(function(p){var v=a[p];v.forEach(function(S){n.push(hr(t,"facet",p,S,e.facets))})}),Object.keys(u).forEach(function(p){var v=u[p];v.forEach(function(S){n.push({type:"exclude",attribute:p,name:S,exclude:!0})})}),Object.keys(c).forEach(function(p){var v=c[p];v.forEach(function(S){n.push(hr(t,"disjunctive",p,Hs(S),e.disjunctiveFacets))})}),Object.keys(d).forEach(function(p){var v=d[p];v.forEach(function(S){n.push(hr(t,"hierarchical",p,S,e.hierarchicalFacets))})}),Object.keys(m).forEach(function(p){var v=m[p];Object.keys(v).forEach(function(S){var b=S,y=v[b],R=Array.isArray(y)?y:[y];R.forEach(function(P){n.push({type:"numeric",attribute:p,name:"".concat(P),numericValue:P,operator:b})})})}),h.forEach(function(p){n.push({type:"tag",attribute:"_tags",name:p})}),r&&t.query&&t.query.trim()&&n.push({attribute:"query",type:"query",name:t.query,query:t.query}),n}function wn(e){var t=e.helper,r=e.attributesToClear,n=r===void 0?[]:r,i=t.state.setPage(0);return i=n.reduce(function(a,s){return i.isNumericRefined(s)?a.removeNumericRefinement(s):i.isHierarchicalFacet(s)?a.removeHierarchicalFacetRefinement(s):i.isDisjunctiveFacet(s)?a.removeDisjunctiveFacetRefinement(s):i.isConjunctiveFacet(s)?a.removeFacetRefinement(s):a},i),n.indexOf("query")!==-1&&(i=i.setQuery("")),i}function Ds(e){return Object.prototype.toString.call(e).slice(8,-1)}function Z(e,t){if(e===void 0||typeof e!="function")throw new Error("The render function is not valid (received type ".concat(Ds(e),`).

`).concat(t))}function N(){}var gt=function(t,r){return t};function mt(e,t){var r=Array.isArray(t)?t:t.split(".");return r.reduce(function(n,i){return n&&n[i]},e)}function k(e){return typeof e=="number"&&isFinite(e)}function Ut(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ut=function(r){return typeof r}:Ut=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ut(e)}function Ls(e){return e===null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}function Cs(e){return Ut(e)==="object"&&e!==null}function ia(e){if(!Cs(e)||Ls(e)!=="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ws(e){return Qs(e)||Us(e)||Ms(e)||Ns()}function Ns(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ms(e,t){if(!!e){if(typeof e=="string")return Ar(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ar(e,t)}}function Us(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function Qs(e){if(Array.isArray(e))return Ar(e)}function Ar(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pn(e){var t=e.start,r=t===void 0?0:t,n=e.end,i=e.step,a=i===void 0?1:i,s=a===0?1:a,u=Math.round((n-r)/s);return Ws(Array(u)).map(function(o,c){return r+c*s})}function On(e){return e!==Object(e)}function $t(e,t){if(e===t)return!0;if(On(e)||On(t)||typeof e=="function"||typeof t=="function")return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t)||!$t(e[i],t[i]))return!1}return!0}var ks={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},aa=/[&<>"']/g,Bs=RegExp(aa.source);function Vs(e){return e&&Bs.test(e)?e.replace(aa,function(t){return ks[t]}):e}var qs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},sa=/&(amp|quot|lt|gt|#39);/g,zs=RegExp(sa.source);function Ks(e){return e&&zs.test(e)?e.replace(sa,function(t){return qs[t]}):e}function Tr(){return Tr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tr.apply(this,arguments)}function jn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jn(Object(r),!0).forEach(function(n){ua(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ua(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ce={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},fe={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function ca(e){return Vs(e).replace(new RegExp(Ce.highlightPreTag,"g"),fe.highlightPreTag).replace(new RegExp(Ce.highlightPostTag,"g"),fe.highlightPostTag)}function Zt(e){return ia(e)&&typeof e.value!="string"?Object.keys(e).reduce(function(t,r){return ft(ft({},t),{},ua({},r,Zt(e[r])))},{}):Array.isArray(e)?e.map(Zt):ft(ft({},e),{},{value:ca(e.value)})}function un(e){return e.__escaped===void 0&&(e=e.map(function(t){var r=Tr({},t);return r._highlightResult&&(r._highlightResult=Zt(r._highlightResult)),r._snippetResult&&(r._snippetResult=Zt(r._snippetResult)),r}),e.__escaped=!0),e}function Js(e){return e.map(function(t){return ft(ft({},t),{},{highlighted:ca(t.highlighted)})})}function oa(e){var t=fe.highlightPreTag,r=fe.highlightPostTag;return e.map(function(n){return n.isHighlighted?t+n.value+r:n.value}).join("")}function fa(e){var t=fe.highlightPostTag,r=fe.highlightPreTag,n=e.split(r),i=n.shift(),a=i?[{value:i,isHighlighted:!1}]:[];return n.forEach(function(s){var u=s.split(t);a.push({value:u[0],isHighlighted:!0}),u[1]!==""&&a.push({value:u[1],isHighlighted:!1})}),a}var Ys=new RegExp(/\w/i);function Gs(e,t){var r,n,i=e[t],a=((r=e[t+1])===null||r===void 0?void 0:r.isHighlighted)||!0,s=((n=e[t-1])===null||n===void 0?void 0:n.isHighlighted)||!0;return!Ys.test(Ks(i.value))&&s===a?s:i.isHighlighted}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xn(Object(r),!0).forEach(function(n){Zs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zs(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function la(e){return e.some(function(t){return t.isHighlighted})?e.map(function(t,r){return At(At({},t),{},{isHighlighted:!Gs(e,r)})}):e.map(function(t){return At(At({},t),{},{isHighlighted:!1})})}function Xs(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function Fn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fn(Object(r),!0).forEach(function(n){eu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tu(e,t){if(e==null)return{};var r=ru(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function ru(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var nu=function(t,r){r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts;var n=tu(r,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return t.setQueryParameters(n)},iu=function(t,r){return r.facets.reduce(function(n,i){return n.addFacet(i)},t)},au=function(t,r){return r.disjunctiveFacets.reduce(function(n,i){return n.addDisjunctiveFacet(i)},t)},su=function(t,r){return t.setQueryParameters({hierarchicalFacets:r.hierarchicalFacets.reduce(function(n,i){var a=Xs(n,function(u){return u.name===i.name});if(a===-1)return n.concat(i);var s=n.slice();return s.splice(a,1,i),s},t.hierarchicalFacets)})},uu=function(t,r){return r.tagRefinements.reduce(function(n,i){return n.addTagRefinement(i)},t)},cu=function(t,r){return t.setQueryParameters({facetsRefinements:We(We({},t.facetsRefinements),r.facetsRefinements)})},ou=function(t,r){return t.setQueryParameters({facetsExcludes:We(We({},t.facetsExcludes),r.facetsExcludes)})},fu=function(t,r){return t.setQueryParameters({disjunctiveFacetsRefinements:We(We({},t.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})},lu=function(t,r){return t.setQueryParameters({numericRefinements:We(We({},t.numericRefinements),r.numericRefinements)})},hu=function(t,r){return t.setQueryParameters({hierarchicalFacetsRefinements:We(We({},t.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)})},du=function(t,r){var n=an([].concat(t.ruleContexts).concat(r.ruleContexts).filter(Boolean));return n.length>0?t.setQueryParameters({ruleContexts:n}):t},gu=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.reduce(function(i,a){var s=hu(i,a),u=su(s,a),o=uu(u,a),c=lu(o,a),f=fu(c,a),d=ou(f,a),l=cu(d,a),m=au(l,a),g=du(m,a),h=iu(g,a);return nu(h,a)})},jt=gu,mu=function(t){for(var r=t.getParent(),n=[t.getHelper().state];r!==null;)n=[r.getHelper().state].concat(n),r=r.getParent();return n},pu=mu;function dr(e){return Array.isArray(e)?e:[e]}var vu=function(t){var r=t.name,n=t.connector,i=n===void 0?!1:n;return["https://www.algolia.com/doc/api-reference/widgets/",r,"/js/",i?"#connector":""].join("")},z=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.map(function(a){return vu(a)}).join(", ");return function(a){return[a,"See documentation: ".concat(i)].filter(Boolean).join(`

`)}};function _n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_n(Object(r),!0).forEach(function(n){yu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_n(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ha(e,t,r){return e.map(function(n,i){return $n($n({},n),{},{__position:r*t+i+1})})}function In(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?In(Object(r),!0).forEach(function(n){bu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):In(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function da(e,t){return t?e.map(function(r){return En(En({},r),{},{__queryID:t})}):e}function Su(e,t,r){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,r):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,r):e.state.isDisjunctiveFacetRefined(t,r)}function Qt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qt=function(r){return typeof r}:Qt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qt(e)}function cn(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.widgetType,a=function(){for(var u=arguments.length,o=new Array(u),c=0;c<u;c++)o[c]=arguments[c];var f=o[0],d=o[1],l=o[2],m=l===void 0?"Filter Applied":l;o.length===1&&Qt(o[0])==="object"?t.sendEventToInsights(o[0]):f==="click"&&(o.length===2||o.length===3)&&(Su(r,n,d)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:f,payload:{eventName:m,index:r.getIndex(),filters:["".concat(n,":").concat(d)]},attribute:n}))};return a}function ga(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function kt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?kt=function(r){return typeof r}:kt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},kt(e)}function Ru(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}var ma=function(t){var r=t.index,n=t.widgetType;t.methodName;var i=t.args,a=t.isSearchStalled;if(i.length===1&&kt(i[0])==="object")return[i[0]];var s=i[0],u=i[1],o=i[2];if(!u)return[];if((s==="click"||s==="conversion")&&!o)return[];var c=Array.isArray(u)?wu(u):[u];if(c.length===0)return[];var f=c[0].__queryID,d=Ru(c),l=d.map(function(g){return g.map(function(h){return h.objectID})}),m=d.map(function(g){return g.map(function(h){return h.__position})});return s==="view"?a?[]:d.map(function(g,h){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:s,payload:{eventName:o||"Hits Viewed",index:r,objectIDs:l[h]},hits:g}}):s==="click"?d.map(function(g,h){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:s,payload:{eventName:o,index:r,queryID:f,objectIDs:l[h],positions:m[h]},hits:g}}):s==="conversion"?d.map(function(g,h){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:s,payload:{eventName:o,index:r,queryID:f,objectIDs:l[h]},hits:g}}):[]};function wu(e){return e.slice()}function on(e){var t=e.instantSearchInstance,r=e.index,n=e.widgetType,i=function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];var c=ma({widgetType:n,index:r,methodName:"sendEvent",args:u,isSearchStalled:t._isSearchStalled});c.forEach(function(f){return t.sendEventToInsights(f)})};return i}function pa(e){var t=e.index,r=e.widgetType,n=function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var o=ma({widgetType:r,index:t,methodName:"bindEvent",args:s,isSearchStalled:!1});return o.length?"data-insights-event=".concat(ga(o)):""};return n}function va(e,t){if(!e)return null;var r=e.numericRefinements[t],n=[];return Object.keys(r).filter(function(i){return Array.isArray(r[i])&&r[i].length>0}).forEach(function(i){r[i].forEach(function(a){n.push("".concat(t).concat(i).concat(a))})}),n}function Pu(e,t){var r,n=(r=e.getWidgetRenderState)===null||r===void 0?void 0:r.call(e,t),i=null;if(n&&n.widgetParams){var a=n.widgetParams;a.attribute?i=a.attribute:Array.isArray(a.attributes)&&(i=a.attributes[0])}if(typeof i!="string")throw new Error(`Could not find the attribute of the widget:

`.concat(JSON.stringify(e),`

Please check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly.`));return i}function Ue(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{fallback:function(){}},r=t.fallback;return typeof window=="undefined"?r():e({window})}function Ou(e){return _u(e)||Fu(e)||xu(e)||ju()}function ju(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xu(e,t){if(!!e){if(typeof e=="string")return Hr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hr(e,t)}}function Fu(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function _u(e){if(Array.isArray(e))return Hr(e)}function Hr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function An(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function st(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?An(Object(r),!0).forEach(function(n){$u(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):An(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tn=z({name:"clear-refinements",connector:!0}),Iu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Tn()),function(n){var i=n||{},a=i.includedAttributes,s=a===void 0?[]:a,u=i.excludedAttributes,o=u===void 0?["query"]:u,c=i.transformItems,f=c===void 0?function(g){return g}:c;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(Tn("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var d={refine:N,createURL:function(){return""},attributesToClear:[]},l=function(){return d.refine()},m=function(){return d.createURL()};return{$$type:"ais.clearRefinements",init:function(h){var p=h.instantSearchInstance;t(st(st({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(st(st({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},dispose:function(){r()},getRenderState:function(h,p){return st(st({},h),{},{clearRefinements:this.getWidgetRenderState(p)})},getWidgetRenderState:function(h){var p=h.createURL,v=h.scopedResults,S=h.results;d.attributesToClear=v.reduce(function(y,R){return y.concat(Eu({scopedResult:R,includedAttributes:s,excludedAttributes:o,transformItems:f,results:S}))},[]),d.refine=function(){d.attributesToClear.forEach(function(y){var R=y.helper,P=y.items;R.setState(wn({helper:R,attributesToClear:P})).search()})},d.createURL=function(){return p(jt.apply(void 0,Ou(d.attributesToClear.map(function(y){var R=y.helper,P=y.items;return wn({helper:R,attributesToClear:P})}))))};var b=d.attributesToClear.some(function(y){return y.items.length>0});return{canRefine:b,hasRefinements:b,refine:l,createURL:m,widgetParams:n}}}}};function Eu(e){var t=e.scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,a=e.results,s=r.indexOf("query")!==-1||n.indexOf("query")===-1;return{helper:t.helper,items:i(an(sn(t.results,t.helper.state,s).map(function(u){return u.attribute}).filter(function(u){return r.length===0||r.indexOf(u)!==-1}).filter(function(u){return u==="query"&&s||n.indexOf(u)===-1})),{results:a})}}var Au=Iu;function Tu(e){return Cu(e)||Lu(e)||Du(e)||Hu()}function Hu(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Du(e,t){if(!!e){if(typeof e=="string")return Dr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dr(e,t)}}function Lu(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function Cu(e){if(Array.isArray(e))return Dr(e)}function Dr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hn(Object(r),!0).forEach(function(n){Wu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wu(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dn=z({name:"current-refinements",connector:!0}),Nu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Dn()),function(n){if((n||{}).includedAttributes&&(n||{}).excludedAttributes)throw new Error(Dn("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var i=n||{},a=i.includedAttributes,s=i.excludedAttributes,u=s===void 0?["query"]:s,o=i.transformItems,c=o===void 0?function(f){return f}:o;return{$$type:"ais.currentRefinements",init:function(d){var l=d.instantSearchInstance;t(ut(ut({},this.getWidgetRenderState(d)),{},{instantSearchInstance:l}),!0)},render:function(d){var l=d.instantSearchInstance;t(ut(ut({},this.getWidgetRenderState(d)),{},{instantSearchInstance:l}),!1)},dispose:function(){r()},getRenderState:function(d,l){return ut(ut({},d),{},{currentRefinements:this.getWidgetRenderState(l)})},getWidgetRenderState:function(d){var l=d.results,m=d.scopedResults,g=d.createURL,h=d.helper;function p(){return l?m.reduce(function(S,b){return S.concat(c(Ln({results:b.results,helper:b.helper,includedAttributes:a,excludedAttributes:u}),{results:l}))},[]):c(Ln({results:{},helper:h,includedAttributes:a,excludedAttributes:u}),{results:l})}var v=p();return{items:v,canRefine:v.length>0,refine:function(b){return ba(h,b)},createURL:function(b){return g(ya(h.state,b))},widgetParams:n}}}}};function Ln(e){var t=e.results,r=e.helper,n=e.includedAttributes,i=e.excludedAttributes,a=(n||[]).indexOf("query")!==-1||(i||[]).indexOf("query")===-1,s=n?function(o){return n.indexOf(o.attribute)!==-1}:function(o){return i.indexOf(o.attribute)===-1},u=sn(t,r.state,a).map(Uu).filter(s);return u.reduce(function(o,c){return[].concat(Tu(o.filter(function(f){return f.attribute!==c.attribute})),[{indexName:r.state.index,attribute:c.attribute,label:c.attribute,refinements:u.filter(function(f){return f.attribute===c.attribute}).sort(function(f,d){return f.type==="numeric"?f.value-d.value:0}),refine:function(d){return ba(r,d)}}])},[])}function ya(e,t){switch(t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function ba(e,t){e.setState(ya(e.state,t)).search()}function Mu(e){switch(e){case">=":return"\u2265";case"<=":return"\u2264";default:return e}}function Uu(e){var t=Qu(e),r=e.operator?"".concat(Mu(e.operator)," ").concat(e.name):e.name,n={attribute:e.attribute,type:e.type,value:t,label:r};return e.operator!==void 0&&(n.operator=e.operator),e.count!==void 0&&(n.count=e.count),e.exhaustive!==void 0&&(n.exhaustive=e.exhaustive),n}function Qu(e){return e.type==="numeric"?Number(e.name):"escapedValue"in e?e.escapedValue:e.name}var ku=Nu;function Cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cn(Object(r),!0).forEach(function(n){Bt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bu(e,t){if(e==null)return{};var r=Vu(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function Vu(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qu(e,t){return Yu(e)||Ju(e,t)||Ku(e,t)||zu()}function zu(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ku(e,t){if(!!e){if(typeof e=="string")return Wn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wn(e,t)}}function Wn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ju(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(o){i=!0,a=o}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Yu(e){if(Array.isArray(e))return e}var gr=z({name:"hierarchical-menu",connector:!0}),Nn=["name:asc"],Gu=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,gr()),function(n){var i=n||{},a=i.attributes,s=i.separator,u=s===void 0?" > ":s,o=i.rootPath,c=o===void 0?null:o,f=i.showParentLevel,d=f===void 0?!0:f,l=i.limit,m=l===void 0?10:l,g=i.showMore,h=g===void 0?!1:g,p=i.showMoreLimit,v=p===void 0?20:p,S=i.sortBy,b=S===void 0?Nn:S,y=i.transformItems,R=y===void 0?function(T){return T}:y;if(!a||!Array.isArray(a)||a.length===0)throw new Error(gr("The `attributes` option expects an array of strings."));if(h===!0&&v<=m)throw new Error(gr("The `showMoreLimit` option must be greater than `limit`."));var P=qu(a,1),w=P[0],O,j=function(){};function $(){j()}var I,H=!1;function M(T,_){return function(){H=!H,_.render(T)}}function A(){return H?v:m}function U(T){return T.slice(0,A()).map(function(_){var F=_.name,D=_.escapedValue,L=_.data;_.path;var V=Bu(_,["name","escapedValue","data","path"]),Q=se(se({},V),{},{value:D,label:F,data:null});return Array.isArray(L)&&(Q.data=U(L)),Q})}return{$$type:"ais.hierarchicalMenu",init:function(_){var F=_.instantSearchInstance;t(se(se({},this.getWidgetRenderState(_)),{},{instantSearchInstance:F}),!0)},render:function(_){var F=_.instantSearchInstance;j=M(_,this),t(se(se({},this.getWidgetRenderState(_)),{},{instantSearchInstance:F}),!1)},dispose:function(_){var F=_.state;return r(),F.removeHierarchicalFacet(w).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(_,F){return se(se({},_),{},{hierarchicalMenu:se(se({},_.hierarchicalMenu),{},Bt({},w,this.getWidgetRenderState(F)))})},getWidgetRenderState:function(_){var F=_.results,D=_.state,L=_.createURL,V=_.instantSearchInstance,Q=_.helper,K=[],ee=!1;function be($e){return L(D.resetPage().toggleFacetRefinement(w,$e))}if(O||(O=cn({instantSearchInstance:V,helper:Q,attribute:w,widgetType:this.$$type})),I||(I=function(Ie){O("click",Ie),Q.toggleFacetRefinement(w,Ie).search()}),F){var de=F.getFacetValues(w,{sortBy:b,facetOrdering:b===Nn}),Se=de&&!Array.isArray(de)&&de.data?de.data:[],ge=(D.maxValuesPerFacet||0)>A()?Se.length<=A():Se.length<A();ee=h&&(H||!ge),K=R(U(Se),{results:F})}return{items:K,refine:I,canRefine:K.length>0,createURL:be,sendEvent:O,widgetParams:n,isShowingMore:H,toggleShowMore:$,canToggleShowMore:ee}},getWidgetUiState:function(_,F){var D=F.searchParameters,L=D.getHierarchicalFacetBreadcrumb(w);return L.length?se(se({},_),{},{hierarchicalMenu:se(se({},_.hierarchicalMenu),{},Bt({},w,L))}):_},getWidgetSearchParameters:function(_,F){var D=F.uiState,L=D.hierarchicalMenu&&D.hierarchicalMenu[w];_.isHierarchicalFacet(w)&&_.getHierarchicalFacetByName(w);var V=_.removeHierarchicalFacet(w).addHierarchicalFacet({name:w,attributes:a,separator:u,rootPath:c,showParentLevel:d}),Q=V.maxValuesPerFacet||0,K=Math.max(Q,h?v:m),ee=V.setQueryParameter("maxValuesPerFacet",K);return L?ee.addHierarchicalFacetRefinement(w,L.join(u)):ee.setQueryParameters({hierarchicalFacetsRefinements:se(se({},ee.hierarchicalFacetsRefinements),{},Bt({},w,[]))})}}}},Zu=Gu;function Mn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mn(Object(r),!0).forEach(function(n){Sa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xu=z({name:"hits",connector:!0}),ec=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Xu()),function(n){var i=n||{},a=i.escapeHTML,s=a===void 0?!0:a,u=i.transformItems,o=u===void 0?function(d){return d}:u,c,f;return{$$type:"ais.hits",init:function(l){t(ke(ke({},this.getWidgetRenderState(l)),{},{instantSearchInstance:l.instantSearchInstance}),!0)},render:function(l){var m=this.getWidgetRenderState(l);t(ke(ke({},m),{},{instantSearchInstance:l.instantSearchInstance}),!1),m.sendEvent("view",m.hits)},getRenderState:function(l,m){return ke(ke({},l),{},{hits:this.getWidgetRenderState(m)})},getWidgetRenderState:function(l){var m=l.results,g=l.helper,h=l.instantSearchInstance;if(c||(c=on({instantSearchInstance:h,index:g.getIndex(),widgetType:this.$$type})),f||(f=pa({index:g.getIndex(),widgetType:this.$$type})),!m)return{hits:[],results:void 0,sendEvent:c,bindEvent:f,widgetParams:n};s&&m.hits.length>0&&(m.hits=un(m.hits));var p=ha(m.hits,m.page,m.hitsPerPage),v=da(p,m.queryID),S=o(v,{results:m});return{hits:S,results:m,sendEvent:c,bindEvent:f,widgetParams:n}},dispose:function(l){var m=l.state;return r(),s?m.setQueryParameters(Object.keys(Ce).reduce(function(g,h){return ke(ke({},g),{},Sa({},h,void 0))},{})):m},getWidgetSearchParameters:function(l){return s?l.setQueryParameters(Ce):l}}}},tc=ec;function Un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Un(Object(r),!0).forEach(function(n){rc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nc=function(t,r){return r.map(function(n){var i=at(t,function(a){return a.objectID===n});if(typeof i=="undefined")throw new Error('Could not find objectID "'.concat(n,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return i})},ic=function(t){var r=an(t.map(function(i){return i.__queryID}));if(r.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=r[0];if(typeof n!="string")throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n},ac=function(t){return t.map(function(r){return r.__position})},sc=function(t){var r=t.method,n=t.results,i=t.hits,a=t.objectIDs,s=n.index,u=nc(i,a),o=ic(u);switch(r){case"clickedObjectIDsAfterSearch":{var c=ac(u);return{index:s,queryID:o,objectIDs:a,positions:c}}case"convertedObjectIDsAfterSearch":return{index:s,queryID:o,objectIDs:a};default:throw new Error('Unsupported method passed to insights: "'.concat(r,'".'))}},uc=function(t,r,n){return function(i){for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];var o=s[0];if(!t){var c=z({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(o.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var f=sc({method:i,results:r,hits:n,objectIDs:o.objectIDs});t(i,Xt(Xt({},f),o))}};function Ra(e){return function(t,r){return e(function(n,i){var a=n.results,s=n.hits,u=n.instantSearchInstance;if(a&&s&&u){var o=uc(u.insightsClient,a,s);return t(Xt(Xt({},n),{},{insights:o}),i)}return t(n,i)},r)}}function Vt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vt=function(r){return typeof r}:Vt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vt(e)}function cc(e){var t=e.method,r=e.payload;if(Vt(r)!=="object")throw new Error("The insights helper expects the payload to be an object.");var n;try{n=ga(r)}catch{throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(n,'"')}function wa(e,t){return cc({method:e,payload:t})}var oc=Ra(tc),fc=oc;function lc(e){return mc(e)||gc(e)||dc(e)||hc()}function hc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dc(e,t){if(!!e){if(typeof e=="string")return Lr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lr(e,t)}}function gc(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function mc(e){if(Array.isArray(e))return Lr(e)}function Lr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qn(Object(r),!0).forEach(function(n){pc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Tt=z({name:"hits-per-page",connector:!0}),vc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Tt()),function(n){var i=n||{},a=i.items,s=i.transformItems,u=s===void 0?function(m){return m}:s;if(!Array.isArray(a))throw new Error(Tt("The `items` option expects an array of objects."));var o=a,c=o.filter(function(m){return m.default===!0});if(c.length===0)throw new Error(Tt("A default value must be specified in `items`."));if(c.length>1)throw new Error(Tt("More than one default value is specified in `items`."));var f=c[0],d=function(g){var h=g.hitsPerPage;return o.map(function(p){return De(De({},p),{},{isRefined:Number(p.value)===Number(h)})})},l={getRefine:function(g){return function(h){return!h&&h!==0?g.setQueryParameter("hitsPerPage",void 0).search():g.setQueryParameter("hitsPerPage",h).search()}},createURLFactory:function(g){var h=g.state,p=g.createURL;return function(v){return p(h.resetPage().setQueryParameter("hitsPerPage",!v&&v!==0?void 0:v))}}};return{$$type:"ais.hitsPerPage",init:function(g){var h=g.state,p=g.instantSearchInstance,v=o.some(function(S){return Number(h.hitsPerPage)===Number(S.value)});v||(o=[{value:"",label:""}].concat(lc(o))),t(De(De({},this.getWidgetRenderState(g)),{},{instantSearchInstance:p}),!0)},render:function(g){var h=g.instantSearchInstance;t(De(De({},this.getWidgetRenderState(g)),{},{instantSearchInstance:h}),!1)},dispose:function(g){var h=g.state;return r(),h.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(g,h){return De(De({},g),{},{hitsPerPage:this.getWidgetRenderState(h)})},getWidgetRenderState:function(g){var h=g.state,p=g.results,v=g.createURL,S=g.helper;return{items:u(d(h),{results:p}),refine:l.getRefine(S),createURL:l.createURLFactory({state:h,createURL:v}),hasNoResults:p?p.nbHits===0:!0,widgetParams:n}},getWidgetUiState:function(g,h){var p=h.searchParameters,v=p.hitsPerPage;return v===void 0||v===f.value?g:De(De({},g),{},{hitsPerPage:v})},getWidgetSearchParameters:function(g,h){var p=h.uiState;return g.setQueryParameters({hitsPerPage:p.hitsPerPage||f.value})}}}},yc=vc;function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kn(Object(r),!0).forEach(function(n){Pa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bn(e){return wc(e)||Rc(e)||Sc(e)||bc()}function bc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sc(e,t){if(!!e){if(typeof e=="string")return Cr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cr(e,t)}}function Rc(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function wc(e){if(Array.isArray(e))return Cr(e)}function Cr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pc(e,t){if(e==null)return{};var r=Oc(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function Oc(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var jc=z({name:"infinite-hits",connector:!0});function Vn(e){var t=e||{};t.page;var r=Pc(t,["page"]);return r}function xc(){var e=null,t=null;return{read:function(n){var i=n.state;return $t(t,Vn(i))?e:null},write:function(n){var i=n.state,a=n.hits;t=Vn(i),e=a}}}function Fc(e){return Object.keys(e).map(Number).sort(function(t,r){return t-r}).reduce(function(t,r){return t.concat(e[r])},[])}var _c=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,jc()),function(n){var i=n||{},a=i.escapeHTML,s=a===void 0?!0:a,u=i.transformItems,o=u===void 0?function(b){return b}:u,c=i.cache,f=c===void 0?xc():c,d,l,m,g,h=function(y,R){var P=y.page,w=P===void 0?0:P,O=Object.keys(R).map(Number);return O.length===0?w:Math.min.apply(Math,[w].concat(Bn(O)))},p=function(y,R){var P=y.page,w=P===void 0?0:P,O=Object.keys(R).map(Number);return O.length===0?w:Math.max.apply(Math,[w].concat(Bn(O)))},v=function(y){return function(){y.overrideStateWithoutTriggeringChangeEvent(xe(xe({},y.state),{},{page:h(y.state,f.read({state:y.state})||{})-1})).searchWithoutTriggeringOnStateChange()}},S=function(y){return function(){y.setPage(p(y.state,f.read({state:y.state})||{})+1).search()}};return{$$type:"ais.infiniteHits",init:function(y){t(xe(xe({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!0)},render:function(y){var R=y.instantSearchInstance,P=this.getWidgetRenderState(y);t(xe(xe({},P),{},{instantSearchInstance:R}),!1),m("view",P.currentPageHits)},getRenderState:function(y,R){return xe(xe({},y),{},{infiniteHits:this.getWidgetRenderState(R)})},getWidgetRenderState:function(y){var R=y.results,P=y.helper,w=y.state,O=y.instantSearchInstance,j,$=[],I=f.read({state:w})||{};if(!R)d=v(P),l=S(P),m=on({instantSearchInstance:O,index:P.getIndex(),widgetType:this.$$type}),g=pa({index:P.getIndex(),widgetType:this.$$type}),j=w.page===void 0||h(w,I)===0;else{var H=w.page,M=H===void 0?0:H;s&&R.hits.length>0&&(R.hits=un(R.hits));var A=ha(R.hits,R.page,R.hitsPerPage),U=da(A,R.queryID),T=o(U,{results:R});I[M]===void 0&&!R.__isArtificial&&(I[M]=T,f.write({state:w,hits:I})),$=T,j=h(w,I)===0}var _=Fc(I),F=R?R.nbPages<=p(w,I)+1:!0;return{hits:_,currentPageHits:$,sendEvent:m,bindEvent:g,results:R,showPrevious:d,showMore:l,isFirstPage:j,isLastPage:F,widgetParams:n}},dispose:function(y){var R=y.state;r();var P=R.setQueryParameter("page",void 0);return s?P.setQueryParameters(Object.keys(Ce).reduce(function(w,O){return xe(xe({},w),{},Pa({},O,void 0))},{})):P},getWidgetUiState:function(y,R){var P=R.searchParameters,w=P.page||0;return w?xe(xe({},y),{},{page:w+1}):y},getWidgetSearchParameters:function(y,R){var P=R.uiState,w=y;s&&(w=y.setQueryParameters(Ce));var O=P.page?P.page-1:0;return w.setQueryParameter("page",O)}}}},$c=_c,Ic=Ra($c),Ec=Ic;function Ac(e,t){if(e==null)return{};var r=Tc(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function Tc(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function qn(e,t){return Cc(e)||Lc(e,t)||Dc(e,t)||Hc()}function Hc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dc(e,t){if(!!e){if(typeof e=="string")return zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zn(e,t)}}function zn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Lc(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(o){i=!0,a=o}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Cc(e){if(Array.isArray(e))return e}function Kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kn(Object(r),!0).forEach(function(n){qt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mr=z({name:"menu",connector:!0}),Jn=["isRefined","name:asc"],Wc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,mr()),function(n){var i=n||{},a=i.attribute,s=i.limit,u=s===void 0?10:s,o=i.showMore,c=o===void 0?!1:o,f=i.showMoreLimit,d=f===void 0?20:f,l=i.sortBy,m=l===void 0?Jn:l,g=i.transformItems,h=g===void 0?function(O){return O}:g;if(!a)throw new Error(mr("The `attribute` option is required."));if(c===!0&&d<=u)throw new Error(mr("The `showMoreLimit` option must be greater than `limit`."));var p,v,S,b=!1,y=function(){};function R(O,j){return function(){b=!b,j.render(O)}}function P(){y()}function w(){return b?d:u}return{$$type:"ais.menu",init:function(j){var $=j.instantSearchInstance;t(ue(ue({},this.getWidgetRenderState(j)),{},{instantSearchInstance:$}),!0)},render:function(j){var $=j.instantSearchInstance;t(ue(ue({},this.getWidgetRenderState(j)),{},{instantSearchInstance:$}),!1)},dispose:function(j){var $=j.state;return r(),$.removeHierarchicalFacet(a).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(j,$){return ue(ue({},j),{},{menu:ue(ue({},j.menu),{},qt({},a,this.getWidgetRenderState($)))})},getWidgetRenderState:function(j){var $=j.results,I=j.createURL,H=j.instantSearchInstance,M=j.helper,A=[],U=!1;if(p||(p=cn({instantSearchInstance:H,helper:M,attribute:a,widgetType:this.$$type})),v||(v=function(D){return I(M.state.resetPage().toggleFacetRefinement(a,D))}),S||(S=function(D){var L=M.getHierarchicalFacetBreadcrumb(a),V=qn(L,1),Q=V[0];p("click",D||Q),M.toggleFacetRefinement(a,D||Q).search()}),j.results&&(y=R(j,this)),$){var T=$.getFacetValues(a,{sortBy:m,facetOrdering:m===Jn}),_=T&&!Array.isArray(T)&&T.data?T.data:[];U=c&&(b||_.length>w()),A=h(_.slice(0,w()).map(function(F){var D=F.name,L=F.escapedValue;F.path;var V=Ac(F,["name","escapedValue","path"]);return ue(ue({},V),{},{label:D,value:L})}),{results:$})}return{items:A,createURL:v,refine:S,sendEvent:p,canRefine:A.length>0,widgetParams:n,isShowingMore:b,toggleShowMore:P,canToggleShowMore:U}},getWidgetUiState:function(j,$){var I=$.searchParameters,H=I.getHierarchicalFacetBreadcrumb(a),M=qn(H,1),A=M[0];return A?ue(ue({},j),{},{menu:ue(ue({},j.menu),{},qt({},a,A))}):j},getWidgetSearchParameters:function(j,$){var I=$.uiState,H=I.menu&&I.menu[a],M=j.removeHierarchicalFacet(a).addHierarchicalFacet({name:a,attributes:[a]}),A=M.maxValuesPerFacet||0,U=Math.max(A,c?d:u),T=M.setQueryParameter("maxValuesPerFacet",U);return H?T.addHierarchicalFacetRefinement(a,H):T.setQueryParameters({hierarchicalFacetsRefinements:ue(ue({},T.hierarchicalFacetsRefinements),{},qt({},a,[]))})}}}},Oa=Wc;function Nc(e,t){return kc(e)||Qc(e,t)||Uc(e,t)||Mc()}function Mc(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uc(e,t){if(!!e){if(typeof e=="string")return Yn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Yn(e,t)}}function Yn(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qc(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(o){i=!0,a=o}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function kc(e){if(Array.isArray(e))return e}function Gn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gn(Object(r),!0).forEach(function(n){wt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pr=z({name:"numeric-menu",connector:!0}),ja="ais.numericMenu",Bc=function(t){var r=t.instantSearchInstance,n=t.helper,i=t.attribute;return function(){for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];if(s.length===1){r.sendEventToInsights(s[0]);return}var o=s[0],c=s[1],f=s[2],d=f===void 0?"Filter Applied":f;if(o==="click"){var l=va(Wr(n.state,i,c),i);l&&l.length>0&&r.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:ja,eventType:o,payload:{eventName:d,index:n.getIndex(),filters:l},attribute:i})}}},Vc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,pr()),function(n){var i=n||{},a=i.attribute,s=a===void 0?"":a,u=i.items,o=u===void 0?[]:u,c=i.transformItems,f=c===void 0?function(m){return m}:c;if(s==="")throw new Error(pr("The `attribute` option is required."));if(!o||o.length===0)throw new Error(pr("The `items` option expects an array of objects."));var d=function(g){return o.map(function(h){var p=h.start,v=h.end,S=h.label;return{label:S,value:encodeURI(JSON.stringify({start:p,end:v})),isRefined:xa(g,s,{start:p,end:v,label:S})}})},l={};return{$$type:ja,init:function(g){var h=g.instantSearchInstance;t(te(te({},this.getWidgetRenderState(g)),{},{instantSearchInstance:h}),!0)},render:function(g){var h=g.instantSearchInstance;t(te(te({},this.getWidgetRenderState(g)),{},{instantSearchInstance:h}),!1)},dispose:function(g){var h=g.state;return r(),h.clearRefinements(s)},getWidgetUiState:function(g,h){var p=h.searchParameters,v=p.getNumericRefinements(s),S=v["="]&&v["="][0];if(S||S===0)return te(te({},g),{},{numericMenu:te(te({},g.numericMenu),{},wt({},s,"".concat(v["="])))});var b=v[">="]&&v[">="][0]||"",y=v["<="]&&v["<="][0]||"";return b===""&&y===""?g:te(te({},g),{},{numericMenu:te(te({},g.numericMenu),{},wt({},s,"".concat(b,":").concat(y)))})},getWidgetSearchParameters:function(g,h){var p=h.uiState,v=p.numericMenu&&p.numericMenu[s],S=g.clearRefinements(s);if(!v)return S.setQueryParameters({numericRefinements:te(te({},S.numericRefinements),{},wt({},s,{}))});var b=v.indexOf(":")===-1;if(b)return S.addNumericRefinement(s,"=",Number(v));var y=v.split(":").map(parseFloat),R=Nc(y,2),P=R[0],w=R[1],O=k(P)?S.addNumericRefinement(s,">=",P):S,j=k(w)?O.addNumericRefinement(s,"<=",w):O;return j},getRenderState:function(g,h){return te(te({},g),{},{numericMenu:te(te({},g.numericMenu),{},wt({},s,this.getWidgetRenderState(h)))})},getWidgetRenderState:function(g){var h=g.results,p=g.state,v=g.instantSearchInstance,S=g.helper,b=g.createURL;return l.refine||(l.refine=function(y){var R=Wr(S.state,s,y);l.sendEvent("click",y),S.setState(R).search()}),l.createURL||(l.createURL=function(y){return function(R){return b(Wr(y,s,R))}}),l.sendEvent||(l.sendEvent=Bc({instantSearchInstance:v,helper:S,attribute:s})),{createURL:l.createURL(p),items:f(d(p),{results:h}),hasNoResults:h?h.nbHits===0:!0,refine:l.refine,sendEvent:l.sendEvent,widgetParams:n}}}}};function xa(e,t,r){var n=e.getNumericRefinements(t);return r.start!==void 0&&r.end!==void 0?r.start===r.end?Ye(n,"=",r.start):Ye(n,">=",r.start)&&Ye(n,"<=",r.end):r.start!==void 0?Ye(n,">=",r.start):r.end!==void 0?Ye(n,"<=",r.end):r.start===void 0&&r.end===void 0?Object.keys(n).every(function(i){return(n[i]||[]).length===0}):!1}function Wr(e,t,r){var n=e,i=JSON.parse(decodeURI(r)),a=n.getNumericRefinements(t);if(i.start===void 0&&i.end===void 0)return n.removeNumericRefinement(t);if(xa(n,t,i)||(n=n.removeNumericRefinement(t)),i.start!==void 0&&i.end!==void 0){if(i.start>i.end)throw new Error("option.start should be > to option.end");if(i.start===i.end)return Ye(a,"=",i.start)?n=n.removeNumericRefinement(t,"=",i.start):n=n.addNumericRefinement(t,"=",i.start),n}return i.start!==void 0&&(Ye(a,">=",i.start)&&(n=n.removeNumericRefinement(t,">=",i.start)),n=n.addNumericRefinement(t,">=",i.start)),i.end!==void 0&&(Ye(a,"<=",i.end)&&(n=n.removeNumericRefinement(t,"<=",i.end)),n=n.addNumericRefinement(t,"<=",i.end)),typeof n.page=="number"&&(n.page=0),n}function Ye(e,t,r){return e[t]!==void 0&&e[t].includes(r)}var qc=Vc;function zc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Kc(e,t,r){return t&&Zn(e.prototype,t),r&&Zn(e,r),e}function vr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jc=function(){function e(t){zc(this,e),vr(this,"currentPage",void 0),vr(this,"total",void 0),vr(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}return Kc(e,[{key:"pages",value:function(){var r=this.total,n=this.currentPage,i=this.padding;if(r===0)return[0];var a=this.nbPagesDisplayed(i,r);if(a===r)return Pn({end:r});var s=this.calculatePaddingLeft(n,i,r,a),u=a-s,o=n-s,c=n+u;return Pn({start:o,end:c})}},{key:"nbPagesDisplayed",value:function(r,n){return Math.min(2*r+1,n)}},{key:"calculatePaddingLeft",value:function(r,n,i,a){return r<=n?r:r>=i-n?a-(i-r):n}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||this.total===0}},{key:"isFirstPage",value:function(){return this.currentPage===0}}]),e}(),Yc=Jc;function Xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xn(Object(r),!0).forEach(function(n){Gc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xn(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Zc=z({name:"pagination",connector:!0}),Xc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Zc()),function(n){var i=n||{},a=i.totalPages,s=i.padding,u=s===void 0?3:s,o=new Yc({currentPage:0,total:0,padding:u}),c={};function f(d){var l=d.nbPages;return a!==void 0?Math.min(a,l):l}return{$$type:"ais.pagination",init:function(l){var m=l.instantSearchInstance;t(Be(Be({},this.getWidgetRenderState(l)),{},{instantSearchInstance:m}),!0)},render:function(l){var m=l.instantSearchInstance;t(Be(Be({},this.getWidgetRenderState(l)),{},{instantSearchInstance:m}),!1)},dispose:function(l){var m=l.state;return r(),m.setQueryParameter("page",void 0)},getWidgetUiState:function(l,m){var g=m.searchParameters,h=g.page||0;return h?Be(Be({},l),{},{page:h+1}):l},getWidgetSearchParameters:function(l,m){var g=m.uiState,h=g.page?g.page-1:0;return l.setQueryParameter("page",h)},getWidgetRenderState:function(l){var m=l.results,g=l.helper,h=l.state,p=l.createURL;c.refine||(c.refine=function(b){g.setPage(b),g.search()}),c.createURL||(c.createURL=function(b){return function(y){return p(b.setPage(y))}});var v=h.page||0,S=f(m||{nbPages:0});return o.currentPage=v,o.total=S,{createURL:c.createURL(h),refine:c.refine,canRefine:S>1,currentRefinement:v,nbHits:(m==null?void 0:m.nbHits)||0,nbPages:S,pages:m?o.pages():[],isFirstPage:o.isFirstPage(),isLastPage:o.isLastPage(),widgetParams:n}},getRenderState:function(l,m){return Be(Be({},l),{},{pagination:this.getWidgetRenderState(m)})}}}},eo=Xc;function ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ce(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ei(Object(r),!0).forEach(function(n){zt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ei(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e,t){return io(e)||no(e,t)||ro(e,t)||to()}function to(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ro(e,t){if(!!e){if(typeof e=="string")return ti(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ti(e,t)}}function ti(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function no(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(o){i=!0,a=o}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function io(e){if(Array.isArray(e))return e}var yr=z({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),ri="ais.range";function ni(e){var t=e.min,r=e.max,n=e.precision,i=Math.pow(10,n);return{min:t&&Math.floor(t*i)/i,max:r&&Math.ceil(r*i)/i}}var ao=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,yr()),function(n){var i=n||{},a=i.attribute,s=a===void 0?"":a,u=i.min,o=i.max,c=i.precision,f=c===void 0?0:c;if(!s)throw new Error(yr("The `attribute` option is required."));if(k(u)&&k(o)&&u>o)throw new Error(yr("The `max` option can't be lower than `min`."));var d=function(y){return Number(Number(y).toFixed(f))},l={from:function(y){return y.toLocaleString()},to:function(y){return d(y).toLocaleString()}},m=function(y,R,P,w){var O=y.state,j=R.min,$=R.max,I=O.getNumericRefinement(s,">=")||[],H=et(I,1),M=H[0],A=O.getNumericRefinement(s,"<=")||[],U=et(A,1),T=U[0],_=P===void 0||P==="",F=w===void 0||w==="",D=ni({min:_?void 0:parseFloat(P),max:F?void 0:parseFloat(w),precision:f}),L=D.min,V=D.max,Q;!k(u)&&j===L?Q=void 0:k(u)&&_?Q=u:Q=L;var K;!k(o)&&$===V?K=void 0:k(o)&&F?K=o:K=V;var ee=Q===void 0,be=k(j)&&j<=Q,de=ee||k(Q)&&(!k(j)||be),Se=K===void 0,ge=k(K)&&$>=K,$e=Se||k(K)&&(!k($)||ge),Ie=M!==Q,vt=T!==K;return(Ie||vt)&&de&&$e?(O=O.removeNumericRefinement(s),k(Q)&&(O=O.addNumericRefinement(s,">=",Q)),k(K)&&(O=O.addNumericRefinement(s,"<=",K)),O.resetPage()):null},g=function(y,R,P){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"Filter Applied",O=va(y,s);O&&O.length>0&&R.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:ri,eventType:"click",payload:{eventName:w,index:P.getIndex(),filters:O},attribute:s})},h=function(y,R,P){return function(){for(var w=arguments.length,O=new Array(w),j=0;j<w;j++)O[j]=arguments[j];if(O.length===1){y.sendEventToInsights(O[0]);return}var $=O[0],I=O[1],H=O[2];if($==="click"){var M=et(I,2),A=M[0],U=M[1],T=m(R,P,A,U);g(T,y,R,H)}}};function p(b){var y;k(u)?y=u:k(b.min)?y=b.min:y=0;var R;return k(o)?R=o:k(b.max)?R=b.max:R=0,ni({min:y,max:R,precision:f})}function v(b){var y=b.getNumericRefinement(s,">=")||[],R=et(y,1),P=R[0],w=b.getNumericRefinement(s,"<=")||[],O=et(w,1),j=O[0],$=k(P)?P:-1/0,I=k(j)?j:1/0;return[$,I]}function S(b,y,R){return function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[void 0,void 0],w=et(P,2),O=w[0],j=w[1],$=m(y,R,O,j);$&&(g($,b,y),y.setState($).search())}}return{$$type:ri,init:function(y){t(ce(ce({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!0)},render:function(y){t(ce(ce({},this.getWidgetRenderState(y)),{},{instantSearchInstance:y.instantSearchInstance}),!1)},getRenderState:function(y,R){return ce(ce({},y),{},{range:ce(ce({},y.range),{},zt({},s,this.getWidgetRenderState(R)))})},getWidgetRenderState:function(y){var R=y.results,P=y.helper,w=y.instantSearchInstance,O=R&&R.disjunctiveFacets||[],j=at(O,function(A){return A.name===s}),$=j&&j.stats||{min:void 0,max:void 0},I=p($),H=v(P),M;return R?M=S(w,P,I):M=S(w,P,{min:void 0,max:void 0}),{refine:M,canRefine:I.min!==I.max,format:l,range:I,sendEvent:h(w,P,I),widgetParams:ce(ce({},n),{},{precision:f}),start:H}},dispose:function(y){var R=y.state;return r(),R.removeDisjunctiveFacet(s).removeNumericRefinement(s)},getWidgetUiState:function(y,R){var P=R.searchParameters,w=P.getNumericRefinements(s),O=w[">="],j=O===void 0?[]:O,$=w["<="],I=$===void 0?[]:$;return j.length===0&&I.length===0?y:ce(ce({},y),{},{range:ce(ce({},y.range),{},zt({},s,"".concat(j,":").concat(I)))})},getWidgetSearchParameters:function(y,R){var P=R.uiState,w=y.addDisjunctiveFacet(s).setQueryParameters({numericRefinements:ce(ce({},y.numericRefinements),{},zt({},s,{}))});k(u)&&(w=w.addNumericRefinement(s,">=",u)),k(o)&&(w=w.addNumericRefinement(s,"<=",o));var O=P.range&&P.range[s];if(!O||O.indexOf(":")===-1)return w;var j=O.split(":").map(parseFloat),$=et(j,2),I=$[0],H=$[1];return k(I)&&(!k(u)||u<I)&&(w=w.removeNumericRefinement(s,">="),w=w.addNumericRefinement(s,">=",I)),k(H)&&(!k(o)||H<o)&&(w=w.removeNumericRefinement(s,"<="),w=w.addNumericRefinement(s,"<=",H)),w}}}},so=ao;function ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ii(Object(r),!0).forEach(function(n){Pt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ii(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ai(e,t){if(e==null)return{};var r=uo(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function uo(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var Ht=z({name:"refinement-list",connector:!0}),si=["isRefined","count:desc","name:asc"],co=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Ht()),function(n){var i=n||{},a=i.attribute,s=i.operator,u=s===void 0?"or":s,o=i.limit,c=o===void 0?10:o,f=i.showMore,d=f===void 0?!1:f,l=i.showMoreLimit,m=l===void 0?20:l,g=i.sortBy,h=g===void 0?si:g,p=i.escapeFacetValues,v=p===void 0?!0:p,S=i.transformItems,b=S===void 0?function(_){return _}:S;if(!a)throw new Error(Ht("The `attribute` option is required."));if(!/^(and|or)$/.test(u))throw new Error(Ht('The `operator` must one of: `"and"`, `"or"` (got "'.concat(u,'").')));if(d===!0&&m<=c)throw new Error(Ht("`showMoreLimit` should be greater than `limit`."));var y=function(F){var D=F.name,L=F.escapedValue,V=ai(F,["name","escapedValue"]);return q(q({},V),{},{value:L,label:D,highlighted:D})},R,P=[],w=!0,O,j,$=!1,I=function(){};function H(){I()}function M(_,F){return function(){$=!$,F.render(_)}}function A(){return $?m:c}var U=function(){return function(){}},T=function(F,D){return function(L){return function(V){var Q=L.instantSearchInstance,K=L.results;if(V===""&&P)t(q(q({},D.getWidgetRenderState(q(q({},L),{},{results:R}))),{},{instantSearchInstance:Q}),!1);else{var ee={highlightPreTag:v?Ce.highlightPreTag:fe.highlightPreTag,highlightPostTag:v?Ce.highlightPostTag:fe.highlightPostTag};F.searchForFacetValues(a,V,Math.min(A(),100),ee).then(function(be){var de=v?Js(be.facetHits):be.facetHits,Se=b(de.map(function(ge){var $e=ge.escapedValue,Ie=ge.value,vt=ai(ge,["escapedValue","value"]);return q(q({},vt),{},{value:$e,label:Ie})}),{results:K});t(q(q({},D.getWidgetRenderState(q(q({},L),{},{results:R}))),{},{items:Se,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:Q}),!1)})}}}};return{$$type:"ais.refinementList",init:function(F){t(q(q({},this.getWidgetRenderState(F)),{},{instantSearchInstance:F.instantSearchInstance}),!0)},render:function(F){t(q(q({},this.getWidgetRenderState(F)),{},{instantSearchInstance:F.instantSearchInstance}),!1)},getRenderState:function(F,D){return q(q({},F),{},{refinementList:q(q({},F.refinementList),{},Pt({},a,this.getWidgetRenderState(D)))})},getWidgetRenderState:function(F){var D=F.results,L=F.state,V=F.createURL,Q=F.instantSearchInstance,K=F.helper,ee=[],be=[];if((!j||!O||!U)&&(j=cn({instantSearchInstance:Q,helper:K,attribute:a,widgetType:this.$$type}),O=function(Et){j("click",Et),K.toggleFacetRefinement(a,Et).search()},U=T(K,this)),D){var de=D.getFacetValues(a,{sortBy:h,facetOrdering:h===si});be=de&&Array.isArray(de)?de:[],ee=b(be.slice(0,A()).map(y),{results:D});var Se=L.maxValuesPerFacet,ge=A();w=Se>ge?be.length<=ge:be.length<ge,R=D,P=ee,F.results&&(I=M(F,this))}var $e=U&&U(F),Ie=$&&P.length>c,vt=d&&!w,ys=Ie||vt;return{createURL:function(Et){return V(L.resetPage().toggleFacetRefinement(a,Et))},items:ee,refine:O,searchForItems:$e,isFromSearch:!1,canRefine:ee.length>0,widgetParams:n,isShowingMore:$,canToggleShowMore:ys,toggleShowMore:H,sendEvent:j,hasExhaustiveItems:w}},dispose:function(F){var D=F.state;r();var L=D.setQueryParameter("maxValuesPerFacet",void 0);return u==="and"?L.removeFacet(a):L.removeDisjunctiveFacet(a)},getWidgetUiState:function(F,D){var L=D.searchParameters,V=u==="or"?L.getDisjunctiveRefinements(a):L.getConjunctiveRefinements(a);return V.length?q(q({},F),{},{refinementList:q(q({},F.refinementList),{},Pt({},a,V))}):F},getWidgetSearchParameters:function(F,D){var L=D.uiState,V=u==="or",Q=L.refinementList&&L.refinementList[a],K=F.clearRefinements(a),ee=V?K.addDisjunctiveFacet(a):K.addFacet(a),be=ee.maxValuesPerFacet||0,de=Math.max(be,d?m:c),Se=ee.setQueryParameter("maxValuesPerFacet",de);if(!Q){var ge=V?"disjunctiveFacetsRefinements":"facetsRefinements";return Se.setQueryParameters(Pt({},ge,q(q({},Se[ge]),{},Pt({},a,[]))))}return Q.reduce(function($e,Ie){return V?$e.addDisjunctiveFacetRefinement(a,Ie):$e.addFacetRefinement(a,Ie)},Se)}}}},oo=co;function ui(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ui(Object(r),!0).forEach(function(n){fo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lo=z({name:"search-box",connector:!0}),ho=function(t,r){return r(t)},go=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,lo()),function(n){var i=n||{},a=i.queryHook,s=a===void 0?ho:a,u,o;return{$$type:"ais.searchBox",init:function(f){var d=f.instantSearchInstance;t(Ve(Ve({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!0)},render:function(f){var d=f.instantSearchInstance;t(Ve(Ve({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!1)},dispose:function(f){var d=f.state;return r(),d.setQueryParameter("query",void 0)},getRenderState:function(f,d){return Ve(Ve({},f),{},{searchBox:this.getWidgetRenderState(d)})},getWidgetRenderState:function(f){var d=f.helper,l=f.searchMetadata,m=f.state;return u||(u=function(h){s(h,function(p){return d.setQuery(p).search()})},o=function(){d.setQuery("").search()}),{query:m.query||"",refine:u,clear:o,widgetParams:n,isSearchStalled:l.isSearchStalled}},getWidgetUiState:function(f,d){var l=d.searchParameters,m=l.query||"";return m===""||f&&f.query===m?f:Ve(Ve({},f),{},{query:m})},getWidgetSearchParameters:function(f,d){var l=d.uiState;return f.setQueryParameter("query",l.query||"")}}}},mo=go;function ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ci(Object(r),!0).forEach(function(n){po(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ci(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function po(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oi=z({name:"sort-by",connector:!0}),vo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;Z(t,oi());var n={};return function(i){var a=i||{},s=a.items,u=a.transformItems,o=u===void 0?function(c){return c}:u;if(!Array.isArray(s))throw new Error(oi("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(f){var d=f.instantSearchInstance,l=this.getWidgetRenderState(f),m=l.currentRefinement;at(s,function(g){return g.value===m}),t(qe(qe({},l),{},{instantSearchInstance:d}),!0)},render:function(f){var d=f.instantSearchInstance;t(qe(qe({},this.getWidgetRenderState(f)),{},{instantSearchInstance:d}),!1)},dispose:function(f){var d=f.state;return r(),n.initialIndex?d.setIndex(n.initialIndex):d},getRenderState:function(f,d){return qe(qe({},f),{},{sortBy:this.getWidgetRenderState(d)})},getWidgetRenderState:function(f){var d=f.results,l=f.helper,m=f.state,g=f.parent;return!n.initialIndex&&g&&(n.initialIndex=g.getIndexName()),n.setIndex||(n.setIndex=function(h){l.setIndex(h).search()}),{currentRefinement:m.index,options:o(s,{results:d}),refine:n.setIndex,hasNoResults:d?d.nbHits===0:!0,widgetParams:i}},getWidgetUiState:function(f,d){var l=d.searchParameters,m=l.index;return qe(qe({},f),{},{sortBy:m!==n.initialIndex?m:void 0})},getWidgetSearchParameters:function(f,d){var l=d.uiState;return f.setQueryParameter("index",l.sortBy||n.initialIndex||f.index)}}}},yo=vo;function bo(e){return wo(e)||Ro(e)||Fa(e)||So()}function So(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ro(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function wo(e){if(Array.isArray(e))return Nr(e)}function fi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fi(Object(r),!0).forEach(function(n){Kt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Po(e,t){return xo(e)||jo(e,t)||Fa(e,t)||Oo()}function Oo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fa(e,t){if(!!e){if(typeof e=="string")return Nr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nr(e,t)}}function Nr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jo(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(o){i=!0,a=o}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function xo(e){if(Array.isArray(e))return e}var li=z({name:"rating-menu",connector:!0}),_a="ais.ratingMenu",Dt=1,Fo=function(t){var r=t.instantSearchInstance,n=t.helper,i=t.getRefinedStar,a=t.attribute;return function(){for(var s=arguments.length,u=new Array(s),o=0;o<s;o++)u[o]=arguments[o];if(u.length===1){r.sendEventToInsights(u[0]);return}var c=u[0],f=u[1],d=u[2],l=d===void 0?"Filter Applied":d;if(c==="click"){var m=i()===Number(f);m||r.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:_a,eventType:c,payload:{eventName:l,index:n.getIndex(),filters:["".concat(a,">=").concat(f)]},attribute:a})}}},_o=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,li()),function(n){var i=n||{},a=i.attribute,s=i.max,u=s===void 0?5:s,o;if(!a)throw new Error(li("The `attribute` option is required."));var c=function(h){var p,v=h.getNumericRefinements(a);if(!!((p=v[">="])!==null&&p!==void 0&&p.length))return v[">="][0]},f=function(h){var p=0;return h.forEach(function(v){var S=v.name.split("."),b=Po(S,2),y=b[1],R=y===void 0?"":y;p=Math.max(p,R.length)}),p};function d(g,h){var p=c(g)===Number(h),v=g.resetPage().removeNumericRefinement(a);return p?v:v.addNumericRefinement(a,"<=",u).addNumericRefinement(a,">=",Number(h))}var l=function(h,p){o("click",p),h.setState(d(h.state,p)).search()},m={toggleRefinementFactory:function(h){return l.bind(null,h)},createURLFactory:function(h){var p=h.state,v=h.createURL;return function(S){return v(d(p,S))}}};return{$$type:_a,init:function(h){var p=h.instantSearchInstance;t(me(me({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!0)},render:function(h){var p=h.instantSearchInstance;t(me(me({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},getRenderState:function(h,p){return me(me({},h),{},{ratingMenu:me(me({},h.ratingMenu),{},Kt({},a,this.getWidgetRenderState(p)))})},getWidgetRenderState:function(h){var p=h.helper,v=h.results,S=h.state,b=h.instantSearchInstance,y=h.createURL,R=[];if(o||(o=Fo({instantSearchInstance:b,helper:p,getRefinedStar:function(){return c(p.state)},attribute:a})),v){var P=v.getFacetValues(a,{});P.length,f(P);for(var w=c(S),O=function(H){var M=w===H,A=P.filter(function(T){return Number(T.name)>=H&&Number(T.name)<=u}).map(function(T){return T.count}).reduce(function(T,_){return T+_},0);if(w&&!M&&A===0)return"continue";var U=bo(new Array(Math.floor(u/Dt))).map(function(T,_){return _*Dt<H});R.push({stars:U,name:String(H),label:String(H),value:String(H),count:A,isRefined:M})},j=Dt;j<u;j+=Dt)var $=O(j)}return R=R.reverse(),{items:R,hasNoResults:v?v.nbHits===0:!0,canRefine:R.length>0,refine:m.toggleRefinementFactory(p),sendEvent:o,createURL:m.createURLFactory({state:S,createURL:y}),widgetParams:n}},dispose:function(h){var p=h.state;return r(),p.removeNumericRefinement(a)},getWidgetUiState:function(h,p){var v=p.searchParameters,S=c(v);return typeof S!="number"?h:me(me({},h),{},{ratingMenu:me(me({},h.ratingMenu),{},Kt({},a,S))})},getWidgetSearchParameters:function(h,p){var v=p.uiState,S=v.ratingMenu&&v.ratingMenu[a],b=h.clearRefinements(a),y=b.addDisjunctiveFacet(a);return S?y.addNumericRefinement(a,"<=",u).addNumericRefinement(a,">=",S):y.setQueryParameters({numericRefinements:me(me({},y.numericRefinements),{},Kt({},a,{}))})}}}},$o=_o;function hi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hi(Object(r),!0).forEach(function(n){Io(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Io(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Eo=z({name:"stats",connector:!0}),Ao=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Eo()),function(n){return{$$type:"ais.stats",init:function(a){var s=a.instantSearchInstance;t(ct(ct({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!0)},render:function(a){var s=a.instantSearchInstance;t(ct(ct({},this.getWidgetRenderState(a)),{},{instantSearchInstance:s}),!1)},dispose:function(){r()},getRenderState:function(a,s){return ct(ct({},a),{},{stats:this.getWidgetRenderState(s)})},getWidgetRenderState:function(a){var s=a.results,u=a.state;return s?{hitsPerPage:s.hitsPerPage,nbHits:s.nbHits,nbSortedHits:s.nbSortedHits,areHitsSorted:typeof s.appliedRelevancyStrictness!="undefined"&&s.appliedRelevancyStrictness>0&&s.nbSortedHits!==s.nbHits,nbPages:s.nbPages,page:s.page,processingTimeMS:s.processingTimeMS,query:s.query,widgetParams:n}:{hitsPerPage:u.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:u.page||0,processingTimeMS:-1,query:u.query||"",widgetParams:n}}}}},To=Ao;function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?di(Object(r),!0).forEach(function(n){Jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var gi=z({name:"toggle-refinement",connector:!0}),$a="ais.toggleRefinement",Ho=function(t){var r=t.instantSearchInstance,n=t.helper,i=t.attribute,a=t.on,s=function(){for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];if(c.length===1){r.sendEventToInsights(c[0]);return}var d=c[0],l=c[1],m=c[2],g=m===void 0?"Filter Applied":m;d!=="click"||a===void 0||l||r.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:$a,eventType:d,payload:{eventName:g,index:n.getIndex(),filters:a.map(function(h){return"".concat(i,":").concat(h)})},attribute:i})};return s},Do=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,gi()),function(n){var i=n||{},a=i.attribute,s=i.on,u=s===void 0?!0:s,o=i.off;if(!a)throw new Error(gi("The `attribute` option is required."));var c=o!==void 0,f=dr(u).map(Rt),d=c?dr(o).map(Rt):void 0,l,m=function(p){return function(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{isRefined:!1},S=v.isRefined;S?(f.forEach(function(b){return p.removeDisjunctiveFacetRefinement(a,b)}),c&&d.forEach(function(b){return p.addDisjunctiveFacetRefinement(a,b)})):(l("click",S),c&&d.forEach(function(b){return p.removeDisjunctiveFacetRefinement(a,b)}),f.forEach(function(b){return p.addDisjunctiveFacetRefinement(a,b)})),p.search()}},g={createURLFactory:function(p,v){var S=v.state,b=v.createURL;return function(){S=S.resetPage();var y=p?f:d;y&&y.forEach(function(P){S=S.removeDisjunctiveFacetRefinement(a,P)});var R=p?d:f;return R&&R.forEach(function(P){S=S.addDisjunctiveFacetRefinement(a,P)}),b(S)}}};return{$$type:$a,init:function(p){var v=p.instantSearchInstance;t(pe(pe({},this.getWidgetRenderState(p)),{},{instantSearchInstance:v}),!0)},render:function(p){var v=p.instantSearchInstance;t(pe(pe({},this.getWidgetRenderState(p)),{},{instantSearchInstance:v}),!1)},dispose:function(p){var v=p.state;return r(),v.removeDisjunctiveFacet(a)},getRenderState:function(p,v){return pe(pe({},p),{},{toggleRefinement:pe(pe({},p.toggleRefinement),{},Jt({},a,this.getWidgetRenderState(v)))})},getWidgetRenderState:function(p){var v=p.state,S=p.helper,b=p.results,y=p.createURL,R=p.instantSearchInstance,P=b?f.every(function(A){return v.isDisjunctiveFacetRefined(a,A)}):f.every(function(A){return v.isDisjunctiveFacetRefined(a,A)}),w={isRefined:P,count:0},O={isRefined:c&&!P,count:0};if(b){var j=dr(d||!1),$=b.getFacetValues(a,{})||[],I=f.map(function(A){return at($,function(U){var T=U.escapedValue;return T===Rt(String(A))})}).filter(function(A){return A!==void 0}),H=c?j.map(function(A){return at($,function(U){var T=U.escapedValue;return T===Rt(String(A))})}).filter(function(A){return A!==void 0}):[];w={isRefined:I.length?I.every(function(A){return A.isRefined}):!1,count:I.reduce(function(A,U){return A+U.count},0)||null},O={isRefined:H.length?H.every(function(A){return A.isRefined}):!1,count:H.reduce(function(A,U){return A+U.count},0)||$.reduce(function(A,U){var T=U.count;return A+T},0)}}l||(l=Ho({instantSearchInstance:R,attribute:a,on:f,helper:S}));var M=P?O:w;return{value:{name:a,isRefined:P,count:b?M.count:null,onFacetValue:w,offFacetValue:O},createURL:g.createURLFactory(P,{state:v,createURL:y}),sendEvent:l,canRefine:Boolean(b?M.count:null),refine:m(S),widgetParams:n}},getWidgetUiState:function(p,v){var S=v.searchParameters,b=f&&f.every(function(y){return S.isDisjunctiveFacetRefined(a,y)});return b?pe(pe({},p),{},{toggle:pe(pe({},p.toggle),{},Jt({},a,b))}):p},getWidgetSearchParameters:function(p,v){var S=v.uiState,b=p.clearRefinements(a).addDisjunctiveFacet(a),y=Boolean(S.toggle&&S.toggle[a]);return y?(f&&f.forEach(function(R){b=b.addDisjunctiveFacetRefinement(a,R)}),b):c?(d&&d.forEach(function(R){b=b.addDisjunctiveFacetRefinement(a,R)}),b):b.setQueryParameters({disjunctiveFacetsRefinements:pe(pe({},p.disjunctiveFacetsRefinements),{},Jt({},a,[]))})}}}},Lo=Do;function mi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mi(Object(r),!0).forEach(function(n){Ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ia(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pi(e,t){return Mo(e)||No(e,t)||Wo(e,t)||Co()}function Co(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wo(e,t){if(!!e){if(typeof e=="string")return vi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vi(e,t)}}function vi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function No(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,a=void 0;try{for(var s=e[Symbol.iterator](),u;!(n=(u=s.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(o){i=!0,a=o}finally{try{!n&&s.return!=null&&s.return()}finally{if(i)throw a}}return r}}function Mo(e){if(Array.isArray(e))return e}var yi=z({name:"breadcrumb",connector:!0}),Uo=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;Z(t,yi());var n={};return function(i){var a=i||{},s=a.attributes,u=a.separator,o=u===void 0?" > ":u,c=a.rootPath,f=c===void 0?null:c,d=a.transformItems,l=d===void 0?function(p){return p}:d;if(!s||!Array.isArray(s)||s.length===0)throw new Error(yi("The `attributes` option expects an array of strings."));var m=pi(s,1),g=m[0];function h(p,v){if(!v){var S=p.getHierarchicalFacetBreadcrumb(g);return S.length===0?p:p.resetPage().toggleFacetRefinement(g,S[0])}return p.resetPage().toggleFacetRefinement(g,v)}return{$$type:"ais.breadcrumb",init:function(v){t(ze(ze({},this.getWidgetRenderState(v)),{},{instantSearchInstance:v.instantSearchInstance}),!0)},render:function(v){t(ze(ze({},this.getWidgetRenderState(v)),{},{instantSearchInstance:v.instantSearchInstance}),!1)},dispose:function(){r()},getRenderState:function(v,S){return ze(ze({},v),{},{breadcrumb:ze(ze({},v.breadcrumb),{},Ia({},g,this.getWidgetRenderState(S)))})},getWidgetRenderState:function(v){var S=v.helper,b=v.createURL,y=v.results,R=v.state;function P(){if(!y||R.hierarchicalFacets.length===0)return[];var O=pi(R.hierarchicalFacets,1),j=O[0].name,$=y.getFacetValues(j,{}),I=Array.isArray($.data)?$.data:[],H=l(Qo(Ea(I)),{results:y});return H}var w=P();return n.createURL||(n.createURL=function(O){return b(h(S.state,O))}),n.refine||(n.refine=function(O){S.setState(h(S.state,O)).search()}),{canRefine:w.length>0,createURL:n.createURL,items:w,refine:n.refine,widgetParams:i}},getWidgetSearchParameters:function(v){return v.isHierarchicalFacet(g)?(v.getHierarchicalFacetByName(g),v):v.addHierarchicalFacet({name:g,attributes:s,separator:o,rootPath:f})}}}};function Ea(e){return e.reduce(function(t,r){return r.isRefined&&(t.push({label:r.name,value:r.escapedValue}),Array.isArray(r.data)&&(t=t.concat(Ea(r.data)))),t},[])}function Qo(e){return e.map(function(t,r){return{label:t.label,value:r+1===e.length?null:e[r+1].value}})}var ko=Uo;function Bo(e){return typeof e=="object"&&e!==null?fn(Array.isArray(e)?[]:{},e):e}function er(e){return typeof e=="function"||Array.isArray(e)||Object.prototype.toString.call(e)==="[object Object]"}function fn(e,t){if(e===t)return e;for(var r in t)if(!(!Object.prototype.hasOwnProperty.call(t,r)||r==="__proto__")){var n=t[r],i=e[r];typeof i!="undefined"&&typeof n=="undefined"||(er(i)&&er(n)?e[r]=fn(i,n):e[r]=Bo(n))}return e}function Vo(e){er(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];er(n)&&fn(e,n)}return e}var cr=Vo,ln=function(){var t=Array.prototype.slice.call(arguments);return t.reduceRight(function(r,n){return Object.keys(Object(n)).forEach(function(i){n[i]!==void 0&&(r[i]!==void 0&&delete r[i],r[i]=n[i])}),r},{})};function qo(e,t){return e.filter(function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n})}var zo=qo,or=function(t,r){if(!!Array.isArray(t)){for(var n=0;n<t.length;n++)if(r(t[n]))return t[n]}};function Aa(e){if(typeof e=="number")return e;if(typeof e=="string")return parseFloat(e);if(Array.isArray(e))return e.map(Aa);throw new Error("The value should be a number, a parsable string or an array of those.")}var Ko=Aa;function Jo(e,t){if(e===null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var hn=Jo;function Yo(e){return e&&Object.keys(e).length>0}var dn=Yo,Go=function(t){return t===null?!1:/^[a-zA-Z0-9_-]{1,64}$/.test(t)},Zo=ln,Xo=hn,ef=dn,tt={addRefinement:function(t,r,n){if(tt.isRefined(t,r,n))return t;var i=""+n,a=t[r]?t[r].concat(i):[i],s={};return s[r]=a,Zo({},s,t)},removeRefinement:function(t,r,n){if(n===void 0)return tt.clearRefinement(t,function(a,s){return r===s});var i=""+n;return tt.clearRefinement(t,function(a,s){return r===s&&i===a})},toggleRefinement:function(t,r,n){if(n===void 0)throw new Error("toggleRefinement should be used with a value");return tt.isRefined(t,r,n)?tt.removeRefinement(t,r,n):tt.addRefinement(t,r,n)},clearRefinement:function(t,r,n){if(r===void 0)return ef(t)?{}:t;if(typeof r=="string")return Xo(t,[r]);if(typeof r=="function"){var i=!1,a=Object.keys(t).reduce(function(s,u){var o=t[u]||[],c=o.filter(function(f){return!r(f,u,n)});return c.length!==o.length&&(i=!0),s[u]=c,s},{});return i?a:t}},isRefined:function(t,r,n){var i=!!t[r]&&t[r].length>0;if(n===void 0||!i)return i;var a=""+n;return t[r].indexOf(a)!==-1}},tf=tt,Mr=cr,br=ln,bi=zo,Ta=or,Sr=Ko,Si=hn,Ur=dn,rf=Go,G=tf;function gn(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(r,n){return gn(t[n],r)}):e===t}function nf(e,t){return Ta(e,function(r){return gn(r,t)})}function ve(e){var t=e?ve._parseNumbers(e):{};t.userToken!==void 0&&!rf(t.userToken)&&console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var r=this;Object.keys(t).forEach(function(n){var i=ve.PARAMETERS.indexOf(n)!==-1,a=t[n]!==void 0;!i&&a&&(r[n]=t[n])})}ve.PARAMETERS=Object.keys(new ve);ve._parseNumbers=function(e){if(e instanceof ve)return e;var t={},r=["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"];if(r.forEach(function(i){var a=e[i];if(typeof a=="string"){var s=parseFloat(a);t[i]=isNaN(s)?a:s}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(i){return Array.isArray(i)?i.map(function(a){return parseFloat(a)}):i})),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach(function(i){var a=e.numericRefinements[i]||{};n[i]={},Object.keys(a).forEach(function(s){var u=a[s],o=u.map(function(c){return Array.isArray(c)?c.map(function(f){return typeof f=="string"?parseFloat(f):f}):typeof c=="string"?parseFloat(c):c});n[i][s]=o})}),t.numericRefinements=n}return Mr({},e,t)};ve.make=function(t){var r=new ve(t),n=t.hierarchicalFacets||[];return n.forEach(function(i){if(i.rootPath){var a=r.getHierarchicalRefinement(i.name);a.length>0&&a[0].indexOf(i.rootPath)!==0&&(r=r.clearRefinements(i.name)),a=r.getHierarchicalRefinement(i.name),a.length===0&&(r=r.toggleHierarchicalFacetRefinement(i.name,i.rootPath))}}),r};ve.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&Ur(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Ur(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null};ve.prototype={constructor:ve,clearRefinements:function(t){var r={numericRefinements:this._clearNumericRefinements(t),facetsRefinements:G.clearRefinement(this.facetsRefinements,t,"conjunctiveFacet"),facetsExcludes:G.clearRefinement(this.facetsExcludes,t,"exclude"),disjunctiveFacetsRefinements:G.clearRefinement(this.disjunctiveFacetsRefinements,t,"disjunctiveFacet"),hierarchicalFacetsRefinements:G.clearRefinement(this.hierarchicalFacetsRefinements,t,"hierarchicalFacet")};return r.numericRefinements===this.numericRefinements&&r.facetsRefinements===this.facetsRefinements&&r.facetsExcludes===this.facetsExcludes&&r.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&r.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(r)},clearTags:function(){return this.tagFilters===void 0&&this.tagRefinements.length===0?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(t){return t===this.index?this:this.setQueryParameters({index:t})},setQuery:function(t){return t===this.query?this:this.setQueryParameters({query:t})},setPage:function(t){return t===this.page?this:this.setQueryParameters({page:t})},setFacets:function(t){return this.setQueryParameters({facets:t})},setDisjunctiveFacets:function(t){return this.setQueryParameters({disjunctiveFacets:t})},setHitsPerPage:function(t){return this.hitsPerPage===t?this:this.setQueryParameters({hitsPerPage:t})},setTypoTolerance:function(t){return this.typoTolerance===t?this:this.setQueryParameters({typoTolerance:t})},addNumericRefinement:function(e,t,r){var n=Sr(r);if(this.isNumericRefined(e,t,n))return this;var i=Mr({},this.numericRefinements);return i[e]=Mr({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(n)):i[e][t]=[n],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsRefinements[e]||[]:[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)?this.disjunctiveFacetsRefinements[e]||[]:[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)?this.facetsExcludes[e]||[]:[]},removeNumericRefinement:function(e,t,r){return r!==void 0?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e&&n.op===t&&gn(n.val,Sr(r))})}):this:t!==void 0?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e&&n.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(t){if(t===void 0)return Ur(this.numericRefinements)?{}:this.numericRefinements;if(typeof t=="string")return Si(this.numericRefinements,[t]);if(typeof t=="function"){var r=!1,n=this.numericRefinements,i=Object.keys(n).reduce(function(a,s){var u=n[s],o={};return u=u||{},Object.keys(u).forEach(function(c){var f=u[c]||[],d=[];f.forEach(function(l){var m=t({val:l,op:c},s,"numeric");m||d.push(l)}),d.length!==f.length&&(r=!0),o[c]=d}),a[s]=o,a},{});return r?i:this.numericRefinements}},addFacet:function(t){return this.isConjunctiveFacet(t)?this:this.setQueryParameters({facets:this.facets.concat([t])})},addDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([t])})},addHierarchicalFacet:function(t){if(this.isHierarchicalFacet(t.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+t.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([t])})},addFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return G.isRefined(this.facetsRefinements,t,r)?this:this.setQueryParameters({facetsRefinements:G.addRefinement(this.facetsRefinements,t,r)})},addExcludeRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return G.isRefined(this.facetsExcludes,t,r)?this:this.setQueryParameters({facetsExcludes:G.addRefinement(this.facetsExcludes,t,r)})},addDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return G.isRefined(this.disjunctiveFacetsRefinements,t,r)?this:this.setQueryParameters({disjunctiveFacetsRefinements:G.addRefinement(this.disjunctiveFacetsRefinements,t,r)})},addTagRefinement:function(t){if(this.isTagRefined(t))return this;var r={tagRefinements:this.tagRefinements.concat(t)};return this.setQueryParameters(r)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(r){return r!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(r){return r!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(r){return r.name!==t})}):this},removeFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return G.isRefined(this.facetsRefinements,t,r)?this.setQueryParameters({facetsRefinements:G.removeRefinement(this.facetsRefinements,t,r)}):this},removeExcludeRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return G.isRefined(this.facetsExcludes,t,r)?this.setQueryParameters({facetsExcludes:G.removeRefinement(this.facetsExcludes,t,r)}):this},removeDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return G.isRefined(this.disjunctiveFacetsRefinements,t,r)?this.setQueryParameters({disjunctiveFacetsRefinements:G.removeRefinement(this.disjunctiveFacetsRefinements,t,r)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var r={tagRefinements:this.tagRefinements.filter(function(n){return n!==t})};return this.setQueryParameters(r)},toggleRefinement:function(t,r){return this.toggleFacetRefinement(t,r)},toggleFacetRefinement:function(t,r){if(this.isHierarchicalFacet(t))return this.toggleHierarchicalFacetRefinement(t,r);if(this.isConjunctiveFacet(t))return this.toggleConjunctiveFacetRefinement(t,r);if(this.isDisjunctiveFacet(t))return this.toggleDisjunctiveFacetRefinement(t,r);throw new Error("Cannot refine the undeclared facet "+t+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:G.toggleRefinement(this.facetsRefinements,t,r)})},toggleExcludeFacetRefinement:function(t,r){if(!this.isConjunctiveFacet(t))throw new Error(t+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:G.toggleRefinement(this.facetsExcludes,t,r)})},toggleDisjunctiveFacetRefinement:function(t,r){if(!this.isDisjunctiveFacet(t))throw new Error(t+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:G.toggleRefinement(this.disjunctiveFacetsRefinements,t,r)})},toggleHierarchicalFacetRefinement:function(t,r){if(!this.isHierarchicalFacet(t))throw new Error(t+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(t)),i={},a=this.hierarchicalFacetsRefinements[t]!==void 0&&this.hierarchicalFacetsRefinements[t].length>0&&(this.hierarchicalFacetsRefinements[t][0]===r||this.hierarchicalFacetsRefinements[t][0].indexOf(r+n)===0);return a?r.indexOf(n)===-1?i[t]=[]:i[t]=[r.slice(0,r.lastIndexOf(n))]:i[t]=[r],this.setQueryParameters({hierarchicalFacetsRefinements:br({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:br({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:br({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(t){return this.isTagRefined(t)?this.removeTagRefinement(t):this.addTagRefinement(t)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return this.getHierarchicalFacetByName(e)!==void 0},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(t,r){return this.isConjunctiveFacet(t)?G.isRefined(this.facetsRefinements,t,r):!1},isExcludeRefined:function(t,r){return this.isConjunctiveFacet(t)?G.isRefined(this.facetsExcludes,t,r):!1},isDisjunctiveFacetRefined:function(t,r){return this.isDisjunctiveFacet(t)?G.isRefined(this.disjunctiveFacetsRefinements,t,r):!1},isHierarchicalFacetRefined:function(t,r){if(!this.isHierarchicalFacet(t))return!1;var n=this.getHierarchicalRefinement(t);return r?n.indexOf(r)!==-1:n.length>0},isNumericRefined:function(t,r,n){if(n===void 0&&r===void 0)return!!this.numericRefinements[t];var i=this.numericRefinements[t]&&this.numericRefinements[t][r]!==void 0;if(n===void 0||!i)return i;var a=Sr(n),s=nf(this.numericRefinements[t][r],a)!==void 0;return i&&s},isTagRefined:function(t){return this.tagRefinements.indexOf(t)!==-1},getRefinedDisjunctiveFacets:function(){var t=this,r=bi(Object.keys(this.numericRefinements).filter(function(n){return Object.keys(t.numericRefinements[n]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(n){return t.disjunctiveFacetsRefinements[n].length>0}).concat(r).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var t=this;return bi(this.hierarchicalFacets.map(function(r){return r.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(r){return t.hierarchicalFacetsRefinements[r].length>0}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return e.indexOf(t)===-1})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var t=this.managedParameters,r={},n=this;return Object.keys(this).forEach(function(i){var a=n[i];t.indexOf(i)===-1&&a!==void 0&&(r[i]=a)}),r},setQueryParameter:function(t,r){if(this[t]===r)return this;var n={};return n[t]=r,this.setQueryParameters(n)},setQueryParameters:function(t){if(!t)return this;var r=ve.validate(this,t);if(r)throw r;var n=this,i=ve._parseNumbers(t),a=Object.keys(this).reduce(function(u,o){return u[o]=n[o],u},{}),s=Object.keys(i).reduce(function(u,o){var c=u[o]!==void 0,f=i[o]!==void 0;return c&&!f?Si(u,[o]):(f&&(u[o]=i[o]),u)},a);return new this.constructor(s)},resetPage:function(){return this.page===void 0?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return typeof e.showParentLevel=="boolean"?e.showParentLevel:!0},getHierarchicalFacetByName:function(e){return Ta(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n=t.split(r);return n.map(function(i){return i.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var Ha=ve;function af(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=t!==void 0,a=t===null;if(!a&&e>t||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}function sf(e,t,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var n=e.map(function(i,a){return{criteria:t.map(function(s){return i[s]}),index:a,value:i}});return n.sort(function(a,s){for(var u=-1;++u<a.criteria.length;){var o=af(a.criteria[u],s.criteria[u]);if(o)return u>=r.length?o:r[u]==="desc"?-o:o}return a.index-s.index}),n.map(function(i){return i.value})}var Da=sf,uf=function(t){return Array.isArray(t)?t.filter(Boolean):[]},cf=function(t,r){if(!Array.isArray(t))return-1;for(var n=0;n<t.length;n++)if(r(t[n]))return n;return-1},of=or,La=function(t,r){var n=(r||[]).map(function(i){return i.split(":")});return t.reduce(function(a,s){var u=s.split(":"),o=of(n,function(c){return c[0]===u[0]});return u.length>1||!o?(a[0].push(u[0]),a[1].push(u[1]),a):(a[0].push(o[0]),a[1].push(o[1]),a)},[[],[]])};function ff(e){return typeof e!="string"?e:String(e).replace(/^-/,"\\-")}function lf(e){return typeof e!="string"?e:e.replace(/^\\-/,"-")}var mn={escapeFacetValue:ff,unescapeFacetValue:lf},hf=yf,df=Da,gf=or,mf=La,Ca=mn,pf=Ca.escapeFacetValue,vf=Ca.unescapeFacetValue;function yf(e){return function(r,n){var i=e.hierarchicalFacets[n],a=e.hierarchicalFacetsRefinements[i.name]&&e.hierarchicalFacetsRefinements[i.name][0]||"",s=e._getHierarchicalFacetSeparator(i),u=e._getHierarchicalRootPath(i),o=e._getHierarchicalShowParentLevel(i),c=mf(e._getHierarchicalFacetSortBy(i)),f=r.every(function(m){return m.exhaustive}),d=bf(c,s,u,o,a),l=r;return u&&(l=r.slice(u.split(s).length)),l.reduce(d,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:f,data:null})}}function bf(e,t,r,n,i){return function(s,u,o){var c=s;if(o>0){var f=0;for(c=s;f<o;){var d=c&&Array.isArray(c.data)?c.data:[];c=gf(d,function(m){return m.isRefined}),f++}}if(c){var l=Object.keys(u.data).map(function(m){return[m,u.data[m]]}).filter(function(m){var g=m[0];return Sf(g,c.path||r,i,t,r,n)});c.data=df(l.map(function(m){var g=m[0],h=m[1];return Rf(h,g,t,vf(i),u.exhaustive)}),e[0],e[1])}return s}}function Sf(e,t,r,n,i,a){return i&&(e.indexOf(i)!==0||i===e)?!1:!i&&e.indexOf(n)===-1||i&&e.split(n).length-i.split(n).length===1||e.indexOf(n)===-1&&r.indexOf(n)===-1||r.indexOf(e)===0||e.indexOf(t+n)===0&&(a||e.indexOf(r)===0)}function Rf(e,t,r,n,i){var a=t.split(r);return{name:a[a.length-1].trim(),path:t,escapedValue:pf(t),count:e,isRefined:n===t||n.indexOf(t+r)===0,exhaustive:i,data:null}}var wf=cr,tr=ln,Wa=Da,Rr=uf,Te=or,bt=cf,Pf=La,Na=mn,Ri=Na.escapeFacetValue,Of=Na.unescapeFacetValue,jf=hf;function wi(e){var t={};return e.forEach(function(r,n){t[r]=n}),t}function wr(e,t,r){t&&t[r]&&(e.stats=t[r])}function xf(e,t){return Te(e,function(n){var i=n.attributes||[];return i.indexOf(t)>-1})}function Xe(e,t,r){var n=t[0];this._rawResults=t;var i=this;Object.keys(n).forEach(function(f){i[f]=n[f]}),Object.keys(r||{}).forEach(function(f){i[f]=r[f]}),this.processingTimeMS=t.reduce(function(f,d){return d.processingTimeMS===void 0?f:f+d.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var a=e.getRefinedDisjunctiveFacets(),s=wi(e.facets),u=wi(e.disjunctiveFacets),o=1,c=n.facets||{};Object.keys(c).forEach(function(f){var d=c[f],l=xf(e.hierarchicalFacets,f);if(l){var m=l.attributes.indexOf(f),g=bt(e.hierarchicalFacets,function(S){return S.name===l.name});i.hierarchicalFacets[g][m]={attribute:f,data:d,exhaustive:n.exhaustiveFacetsCount}}else{var h=e.disjunctiveFacets.indexOf(f)!==-1,p=e.facets.indexOf(f)!==-1,v;h&&(v=u[f],i.disjunctiveFacets[v]={name:f,data:d,exhaustive:n.exhaustiveFacetsCount},wr(i.disjunctiveFacets[v],n.facets_stats,f)),p&&(v=s[f],i.facets[v]={name:f,data:d,exhaustive:n.exhaustiveFacetsCount},wr(i.facets[v],n.facets_stats,f))}}),this.hierarchicalFacets=Rr(this.hierarchicalFacets),a.forEach(function(f){var d=t[o],l=d&&d.facets?d.facets:{},m=e.getHierarchicalFacetByName(f);Object.keys(l).forEach(function(g){var h=l[g],p;if(m){p=bt(e.hierarchicalFacets,function(b){return b.name===m.name});var v=bt(i.hierarchicalFacets[p],function(b){return b.attribute===g});if(v===-1)return;i.hierarchicalFacets[p][v].data=wf({},i.hierarchicalFacets[p][v].data,h)}else{p=u[g];var S=n.facets&&n.facets[g]||{};i.disjunctiveFacets[p]={name:g,data:tr({},h,S),exhaustive:d.exhaustiveFacetsCount},wr(i.disjunctiveFacets[p],d.facets_stats,g),e.disjunctiveFacetsRefinements[g]&&e.disjunctiveFacetsRefinements[g].forEach(function(b){!i.disjunctiveFacets[p].data[b]&&e.disjunctiveFacetsRefinements[g].indexOf(Of(b))>-1&&(i.disjunctiveFacets[p].data[b]=0)})}}),o++}),e.getRefinedHierarchicalFacets().forEach(function(f){var d=e.getHierarchicalFacetByName(f),l=e._getHierarchicalFacetSeparator(d),m=e.getHierarchicalRefinement(f);m.length===0||m[0].split(l).length<2||t.slice(o).forEach(function(g){var h=g&&g.facets?g.facets:{};Object.keys(h).forEach(function(p){var v=h[p],S=bt(e.hierarchicalFacets,function(P){return P.name===d.name}),b=bt(i.hierarchicalFacets[S],function(P){return P.attribute===p});if(b!==-1){var y={};if(m.length>0){var R=m[0].split(l)[0];y[R]=i.hierarchicalFacets[S][b].data[R]}i.hierarchicalFacets[S][b].data=tr(y,v,i.hierarchicalFacets[S][b].data)}}),o++})}),Object.keys(e.facetsExcludes).forEach(function(f){var d=e.facetsExcludes[f],l=s[f];i.facets[l]={name:f,data:n.facets[f],exhaustive:n.exhaustiveFacetsCount},d.forEach(function(m){i.facets[l]=i.facets[l]||{name:f},i.facets[l].data=i.facets[l].data||{},i.facets[l].data[m]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(jf(e)),this.facets=Rr(this.facets),this.disjunctiveFacets=Rr(this.disjunctiveFacets),this._state=e}Xe.prototype.getFacetByName=function(e){function t(r){return r.name===e}return Te(this.facets,t)||Te(this.disjunctiveFacets,t)||Te(this.hierarchicalFacets,t)};function Ff(e,t){function r(a){return a.name===t}if(e._state.isConjunctiveFacet(t)){var n=Te(e.facets,r);return n?Object.keys(n.data).map(function(a){var s=Ri(a);return{name:a,escapedValue:s,count:n.data[a],isRefined:e._state.isFacetRefined(t,s),isExcluded:e._state.isExcludeRefined(t,a)}}):[]}else if(e._state.isDisjunctiveFacet(t)){var i=Te(e.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(a){var s=Ri(a);return{name:a,escapedValue:s,count:i.data[a],isRefined:e._state.isDisjunctiveFacetRefined(t,s)}}):[]}else if(e._state.isHierarchicalFacet(t))return Te(e.hierarchicalFacets,r)}function Ma(e,t,r,n){if(n=n||0,Array.isArray(t))return e(t,r[n]);if(!t.data||t.data.length===0)return t;var i=t.data.map(function(u){return Ma(e,u,r,n+1)}),a=e(i,r[n]),s=tr({data:a},t);return s}Xe.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"];function _f(e,t){return t.sort(e)}function $f(e,t){var r=[],n=[],i=t.order||[],a=i.reduce(function(o,c,f){return o[c]=f,o},{});e.forEach(function(o){var c=o.path||o.name;a[c]!==void 0?r[a[c]]=o:n.push(o)}),r=r.filter(function(o){return o});var s=t.sortRemainingBy,u;return s==="hidden"?r:(s==="alpha"?u=[["path","name"],["asc","asc"]]:u=[["count"],["desc"]],r.concat(Wa(n,u[0],u[1])))}function If(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}Xe.prototype.getFacetValues=function(e,t){var r=Ff(this,e);if(!!r){var n=tr({},t,{sortBy:Xe.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this,a;if(Array.isArray(r))a=[e];else{var s=i._state.getHierarchicalFacetByName(r.name);a=s.attributes}return Ma(function(u,o){if(n.facetOrdering){var c=If(i,o);if(Boolean(c))return $f(u,c)}if(Array.isArray(n.sortBy)){var f=Pf(n.sortBy,Xe.DEFAULT_SORT);return Wa(u,f[0],f[1])}else if(typeof n.sortBy=="function")return _f(n.sortBy,u);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,a)}};Xe.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return Pi(this.facets,e);if(this._state.isDisjunctiveFacet(e))return Pi(this.disjunctiveFacets,e)};function Pi(e,t){var r=Te(e,function(n){return n.name===t});return r&&r.stats}Xe.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach(function(n){e.facetsRefinements[n].forEach(function(i){r.push(Pr(e,"facet",n,i,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(n){e.facetsExcludes[n].forEach(function(i){r.push(Pr(e,"exclude",n,i,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(n){e.disjunctiveFacetsRefinements[n].forEach(function(i){r.push(Pr(e,"disjunctive",n,i,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(n){e.hierarchicalFacetsRefinements[n].forEach(function(i){r.push(Ef(e,n,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n];Object.keys(i).forEach(function(a){i[a].forEach(function(s){r.push({type:"numeric",attributeName:n,name:s,numericValue:s,operator:a})})})}),e.tagRefinements.forEach(function(n){r.push({type:"tag",attributeName:"_tags",name:n})}),r};function Pr(e,t,r,n,i){var a=Te(i,function(o){return o.name===r}),s=a&&a.data&&a.data[n]?a.data[n]:0,u=a&&a.exhaustive||!1;return{type:t,attributeName:r,name:n,count:s,exhaustive:u}}function Ef(e,t,r,n){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),s=r.split(a),u=Te(n,function(l){return l.name===t}),o=s.reduce(function(l,m){var g=l&&Te(l.data,function(h){return h.name===m});return g!==void 0?g:l},u),c=o&&o.count||0,f=o&&o.exhaustive||!1,d=o&&o.path||"";return{type:"hierarchical",attributeName:t,name:d,count:c,exhaustive:f}}var Ua=Xe;function le(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var pn=le;le.prototype._events=void 0;le.prototype._maxListeners=void 0;le.defaultMaxListeners=10;le.prototype.setMaxListeners=function(e){if(!Af(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};le.prototype.emit=function(e){var t,r,n,i,a,s;if(this._events||(this._events={}),e==="error"&&(!this._events.error||Ft(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(r=this._events[e],Qa(r))return!1;if(Qe(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(Ft(r))for(i=Array.prototype.slice.call(arguments,1),s=r.slice(),n=s.length,a=0;a<n;a++)s[a].apply(this,i);return!0};le.prototype.addListener=function(e,t){var r;if(!Qe(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Qe(t.listener)?t.listener:t),this._events[e]?Ft(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Ft(this._events[e])&&!this._events[e].warned&&(Qa(this._maxListeners)?r=le.defaultMaxListeners:r=this._maxListeners,r&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};le.prototype.on=le.prototype.addListener;le.prototype.once=function(e,t){if(!Qe(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this};le.prototype.removeListener=function(e,t){var r,n,i,a;if(!Qe(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],i=r.length,n=-1,r===t||Qe(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Ft(r)){for(a=i;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;r.length===1?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};le.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],Qe(r))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this};le.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:Qe(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};le.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Qe(t))return 1;if(t)return t.length}return 0};le.listenerCount=function(e,t){return e.listenerCount(t)};function Qe(e){return typeof e=="function"}function Af(e){return typeof e=="number"}function Ft(e){return typeof e=="object"&&e!==null}function Qa(e){return e===void 0}function Tf(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}var ka=Tf,Hf=pn,Df=ka;function fr(e,t){this.main=e,this.fn=t,this.lastResults=null}Df(fr,Hf);fr.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)};fr.prototype.getModifiedState=function(e){return this.fn(e)};var Lf=fr,Or=cr;function jr(e){return Object.keys(e).sort(function(t,r){return t.localeCompare(r)}).reduce(function(t,r){return t[r]=e[r],t},{})}var Re={_getQueries:function(t,r){var n=[];return n.push({indexName:t,params:Re._getHitsSearchParams(r)}),r.getRefinedDisjunctiveFacets().forEach(function(i){n.push({indexName:t,params:Re._getDisjunctiveFacetSearchParams(r,i)})}),r.getRefinedHierarchicalFacets().forEach(function(i){var a=r.getHierarchicalFacetByName(i),s=r.getHierarchicalRefinement(i),u=r._getHierarchicalFacetSeparator(a);if(s.length>0&&s[0].split(u).length>1){var o=s[0].split(u).slice(0,-1).reduce(function(f,d,l){return f.concat({attribute:a.attributes[l],value:l===0?d:[f[f.length-1].value,d].join(u)})},[]);o.forEach(function(c,f){var d=Re._getDisjunctiveFacetSearchParams(r,c.attribute,f===0),l=o[f-1];d.facetFilters=f>0?[l.attribute+":"+l.value]:void 0,n.push({indexName:t,params:d})})}}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Re._getHitsHierarchicalFacetsAttributes(e)),r=Re._getFacetFilters(e),n=Re._getNumericFilters(e),i=Re._getTagFilters(e),a={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:i};return r.length>0&&(a.facetFilters=r),n.length>0&&(a.numericFilters=n),jr(Or({},e.getQueryParams(),a))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=Re._getFacetFilters(e,t,r),i=Re._getNumericFilters(e,t),a=Re._getTagFilters(e),s={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};a.length>0&&(s.tagFilters=a);var u=e.getHierarchicalFacetByName(t);return u?s.facets=Re._getDisjunctiveHierarchicalFacetAttribute(e,u,r):s.facets=t,i.length>0&&(s.numericFilters=i),n.length>0&&(s.facetFilters=n),jr(Or({},e.getQueryParams(),s))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach(function(a){var s=i[a]||[];t!==n&&s.forEach(function(u){if(Array.isArray(u)){var o=u.map(function(c){return n+a+c});r.push(o)}else r.push(n+a+u)})})}),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).forEach(function(o){var c=i[o]||[];c.forEach(function(f){n.push(o+":"+f)})});var a=e.facetsExcludes||{};Object.keys(a).forEach(function(o){var c=a[o]||[];c.forEach(function(f){n.push(o+":-"+f)})});var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).forEach(function(o){var c=s[o]||[];if(!(o===t||!c||c.length===0)){var f=[];c.forEach(function(d){f.push(o+":"+d)}),n.push(f)}});var u=e.hierarchicalFacetsRefinements||{};return Object.keys(u).forEach(function(o){var c=u[o]||[],f=c[0];if(f!==void 0){var d=e.getHierarchicalFacetByName(o),l=e._getHierarchicalFacetSeparator(d),m=e._getHierarchicalRootPath(d),g,h;if(t===o){if(f.indexOf(l)===-1||!m&&r===!0||m&&m.split(l).length===f.split(l).length)return;m?(h=m.split(l).length-1,f=m):(h=f.split(l).length-2,f=f.slice(0,f.lastIndexOf(l))),g=d.attributes[h]}else h=f.split(l).length-1,g=d.attributes[h];g&&n.push([g+":"+f])}}),n},_getHitsHierarchicalFacetsAttributes:function(e){var t=[];return e.hierarchicalFacets.reduce(function(n,i){var a=e.getHierarchicalRefinement(i.name)[0];if(!a)return n.push(i.attributes[0]),n;var s=e._getHierarchicalFacetSeparator(i),u=a.split(s).length,o=i.attributes.slice(0,u+1);return n.concat(o)},t)},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(r===!0){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var s=e.getHierarchicalRefinement(t.name)[0]||"",u=s.split(n).length-1;return t.attributes.slice(0,u+1)},getSearchForFacetQuery:function(e,t,r,n){var i=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,a={facetQuery:t,facetName:e};return typeof r=="number"&&(a.maxFacetHits=r),jr(Or({},Re._getHitsSearchParams(i),a))}},Cf=Re,Ba="3.10.0",vn=Ha,Qr=Ua,Wf=Lf,ht=Cf,Nf=pn,Mf=ka,Uf=dn,Qf=hn,kf=cr,Va=Ba,Bf=mn.escapeFacetValue;function x(e,t,r){typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+Va+")"),this.setClient(e);var n=r||{};n.index=t,this.state=vn.make(n),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}Mf(x,Nf);x.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this};x.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this};x.prototype.getQuery=function(){var e=this.state;return ht._getHitsSearchParams(e)};x.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=ht._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),t){this.client.search(n).then(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(null,new Qr(r,a.results),r)}).catch(function(a){i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),t(a,null,r)});return}return this.client.search(n).then(function(a){return i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),{content:new Qr(r,a.results),state:r,_originalResponse:a}},function(a){throw i._currentNbQueries--,i._currentNbQueries===0&&i.emit("searchQueueEmpty"),a})};x.prototype.findAnswers=function(e){var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),i=kf({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:Qf(ht._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if(typeof this.client.initIndex!="function")throw new Error(a);var s=this.client.initIndex(n.index);if(typeof s.findAnswers!="function")throw new Error(a);return s.findAnswers(n.query,e.queryLanguages,i)};x.prototype.searchForFacetValues=function(e,t,r,n){var i=typeof this.client.searchForFacetValues=="function",a=typeof this.client.initIndex=="function";if(!i&&!a&&typeof this.client.search!="function")throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var s=this.state.setQueryParameters(n||{}),u=s.isDisjunctiveFacet(e),o=ht.getSearchForFacetQuery(e,t,r,s);this._currentNbQueries++;var c=this,f;return i?f=this.client.searchForFacetValues([{indexName:s.index,params:o}]):a?f=this.client.initIndex(s.index).searchForFacetValues(o):(delete o.facetName,f=this.client.search([{type:"facet",facet:e,indexName:s.index,params:o}]).then(function(l){return l.results[0]})),this.emit("searchForFacetValues",{state:s,facet:e,query:t}),f.then(function(l){return c._currentNbQueries--,c._currentNbQueries===0&&c.emit("searchQueueEmpty"),l=Array.isArray(l)?l[0]:l,l.facetHits.forEach(function(m){m.escapedValue=Bf(m.value),m.isRefined=u?s.isDisjunctiveFacetRefined(e,m.escapedValue):s.isFacetRefined(e,m.escapedValue)}),l},function(d){throw c._currentNbQueries--,c._currentNbQueries===0&&c.emit("searchQueueEmpty"),d})};x.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this};x.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this};x.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this};x.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};x.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)};x.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this};x.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this};x.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this};x.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)};x.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this};x.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)};x.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this};x.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this};x.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this};x.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)};x.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this};x.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this};x.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)};x.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this};x.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)};x.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this};x.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this};x.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)};x.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)};x.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this};x.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)};x.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this};x.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)};x.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)};function qa(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}x.prototype.setCurrentPage=qa;x.prototype.setPage=qa;x.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this};x.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this};x.prototype.setState=function(e){return this._change({state:vn.make(e),isPageReset:!1}),this};x.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new vn(e),this};x.prototype.hasRefinements=function(e){return Uf(this.state.getNumericRefinements(e))?!0:this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):this.state.isHierarchicalFacet(e)?this.state.isHierarchicalFacetRefined(e):!1};x.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)};x.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)};x.prototype.hasTag=function(e){return this.state.isTagRefined(e)};x.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)};x.prototype.getIndex=function(){return this.state.index};function za(){return this.state.page}x.prototype.getCurrentPage=za;x.prototype.getPage=za;x.prototype.getTags=function(){return this.state.tagRefinements};x.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var r=this.state.getConjunctiveRefinements(e);r.forEach(function(s){t.push({value:s,type:"conjunctive"})});var n=this.state.getExcludeRefinements(e);n.forEach(function(s){t.push({value:s,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);i.forEach(function(s){t.push({value:s,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return Object.keys(a).forEach(function(s){var u=a[s];t.push({value:u,operator:s,type:"numeric"})}),t};x.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)};x.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)};x.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=ht._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(u){var o=u.getModifiedState(t),c=ht._getQueries(o.index,o);return r.push({state:o,queriesCount:c.length,helper:u}),u.emit("search",{state:o,results:u.lastResults}),c}),a=Array.prototype.concat.apply(n,i),s=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(u){this.emit("error",{error:u})}};x.prototype._dispatchAlgoliaResponse=function(e,t,r){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,this._currentNbQueries===0&&this.emit("searchQueueEmpty");var n=r.results.slice();e.forEach(function(i){var a=i.state,s=i.queriesCount,u=i.helper,o=n.splice(0,s),c=u.lastResults=new Qr(a,o);u.emit("result",{results:c,state:a})})}};x.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),this._currentNbQueries===0&&this.emit("searchQueueEmpty"))};x.prototype.containsRefinement=function(e,t,r,n){return e||t.length!==0||r.length!==0||n.length!==0};x.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0};x.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))};x.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this};x.prototype.setClient=function(e){return this.client===e?this:(typeof e.addAlgoliaAgent=="function"&&e.addAlgoliaAgent("JS Helper ("+Va+")"),this.client=e,this)};x.prototype.getClient=function(){return this.client};x.prototype.derive=function(e){var t=new Wf(this,e);return this.derivedHelpers.push(t),t};x.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(t===-1)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)};x.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Vf=x,Ka=Vf,qf=Ha,zf=Ua;function It(e,t,r){return new Ka(e,t,r)}It.version=Ba;It.AlgoliaSearchHelper=Ka;It.SearchParameters=qf;It.SearchResults=zf;var Ae=It;function Oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Oi(Object(r),!0).forEach(function(n){Ja(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ja(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kf=z({name:"configure",connector:!0});function ji(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(r,n){return re(re({},r),{},Ja({},n,void 0))},{}))}var Jf=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return function(n){if(!n||!ia(n.searchParameters))throw new Error(Kf("The `searchParameters` option expects an object."));var i={};function a(s){return function(u){var o=ji(s.state,n),c=jt(o,new Ae.SearchParameters(u));n.searchParameters=u,s.setState(c).search()}}return{$$type:"ais.configure",init:function(u){var o=u.instantSearchInstance;t(re(re({},this.getWidgetRenderState(u)),{},{instantSearchInstance:o}),!0)},render:function(u){var o=u.instantSearchInstance;t(re(re({},this.getWidgetRenderState(u)),{},{instantSearchInstance:o}),!1)},dispose:function(u){var o=u.state;return r(),ji(o,n)},getRenderState:function(u,o){var c,f=this.getWidgetRenderState(o);return re(re({},u),{},{configure:re(re({},f),{},{widgetParams:re(re({},f.widgetParams),{},{searchParameters:jt(new Ae.SearchParameters((c=u.configure)===null||c===void 0?void 0:c.widgetParams.searchParameters),new Ae.SearchParameters(f.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(u){var o=u.helper;return i.refine||(i.refine=a(o)),{refine:i.refine,widgetParams:n}},getWidgetSearchParameters:function(u,o){var c=o.uiState;return jt(u,new Ae.SearchParameters(re(re({},c.configure),n.searchParameters)))},getWidgetUiState:function(u){return re(re({},u),{},{configure:re(re({},u.configure),n.searchParameters)})}}}},Ya=Jf;function xi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xi(Object(r),!0).forEach(function(n){Yf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yf(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fi(e){return el(e)||Xf(e)||Zf(e)||Gf()}function Gf(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zf(e,t){if(!!e){if(typeof e=="string")return kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kr(e,t)}}function Xf(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function el(e){if(Array.isArray(e))return kr(e)}function kr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _i=z({name:"configure-related-items",connector:!0});function $i(e){var t=e.attributeName,r=e.attributeValue,n=e.attributeScore;return"".concat(t,":").concat(r,"<score=").concat(n||1,">")}var tl=function(t,r){return function(n){var i=n||{},a=i.hit,s=i.matchingPatterns,u=i.transformSearchParameters,o=u===void 0?function(l){return l}:u;if(!a)throw new Error(_i("The `hit` option is required."));if(!s)throw new Error(_i("The `matchingPatterns` option is required."));var c=Object.keys(s).reduce(function(l,m){var g=s[m],h=mt(a,m),p=g.score;return Array.isArray(h)?[].concat(Fi(l),[h.map(function(v){return $i({attributeName:m,attributeValue:v,attributeScore:p})})]):typeof h=="string"?[].concat(Fi(l),[$i({attributeName:m,attributeValue:h,attributeScore:p})]):l},[]),f=xr({},o(new Ae.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(a.objectID)],optionalFilters:c}))),d=Ya(t,r);return xr(xr({},d({searchParameters:f})),{},{$$type:"ais.configureRelatedItems"})}},rl=tl;function Ii(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ii(Object(r),!0).forEach(function(n){Ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ii(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ga(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var nl=z({name:"autocomplete",connector:!0}),il=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,nl()),function(n){var i=n||{},a=i.escapeHTML,s=a===void 0?!0:a,u={};return{$$type:"ais.autocomplete",init:function(c){var f=c.instantSearchInstance;t(Fe(Fe({},this.getWidgetRenderState(c)),{},{instantSearchInstance:f}),!0)},render:function(c){var f=c.instantSearchInstance,d=this.getWidgetRenderState(c);d.indices.forEach(function(l){var m=l.sendEvent,g=l.hits;m("view",g)}),t(Fe(Fe({},d),{},{instantSearchInstance:f}),!1)},getRenderState:function(c,f){return Fe(Fe({},c),{},{autocomplete:this.getWidgetRenderState(f)})},getWidgetRenderState:function(c){var f=this,d=c.helper,l=c.state,m=c.scopedResults,g=c.instantSearchInstance;u.refine||(u.refine=function(p){d.setQuery(p).search()});var h=m.map(function(p){p.results.hits=s?un(p.results.hits):p.results.hits;var v=on({instantSearchInstance:g,index:p.results.index,widgetType:f.$$type});return{indexId:p.indexId,indexName:p.results.index,hits:p.results.hits,results:p.results,sendEvent:v}});return{currentRefinement:l.query||"",indices:h,refine:u.refine,widgetParams:n}},getWidgetUiState:function(c,f){var d=f.searchParameters,l=d.query||"";return l===""||c&&c.query===l?c:Fe(Fe({},c),{},{query:l})},getWidgetSearchParameters:function(c,f){var d=f.uiState,l={query:d.query||""};return s?c.setQueryParameters(Fe(Fe({},l),Ce)):c.setQueryParameters(l)},dispose:function(c){var f=c.state;r();var d=f.setQueryParameter("query",void 0);return s?d.setQueryParameters(Object.keys(Ce).reduce(function(l,m){return Fe(Fe({},l),{},Ga({},m,void 0))},{})):d}}}},al=il;function Ei(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ei(Object(r),!0).forEach(function(n){sl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ei(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rr(e){return fl(e)||ol(e)||cl(e)||ul()}function ul(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cl(e,t){if(!!e){if(typeof e=="string")return Br(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Br(e,t)}}function ol(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function fl(e){if(Array.isArray(e))return Br(e)}function Br(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ai=z({name:"query-rules",connector:!0});function ll(e){return[e.disjunctiveFacetsRefinements,e.facetsRefinements,e.hierarchicalFacetsRefinements,e.numericRefinements].some(function(t){return Boolean(t&&Object.keys(t).length>0)})}function hl(e){return e.replace(/[^a-z0-9-_]+/gi,"_")}function dl(e){var t=e.helper,r=e.sharedHelperState,n=e.trackedFilters,i=Object.keys(n).reduce(function(a,s){var u=sn(t.lastResults||{},r,!0).filter(function(f){return f.attribute===s}).map(function(f){return f.numericValue||f.name}),o=n[s],c=o(u);return[].concat(rr(a),rr(u.filter(function(f){return c.includes(f)}).map(function(f){return hl("ais-".concat(s,"-").concat(f))})))},[]);return i}function gl(e){var t=this.helper,r=this.initialRuleContexts,n=this.trackedFilters,i=this.transformRuleContexts,a=e.state,s=a.ruleContexts||[],u=dl({helper:t,sharedHelperState:a,trackedFilters:n}),o=[].concat(rr(r),rr(u)),c=i(o).slice(0,10);$t(s,c)||t.overrideStateWithoutTriggeringChangeEvent(Je(Je({},a),{},{ruleContexts:c}))}var ml=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Ai()),function(n){var i=n||{},a=i.trackedFilters,s=a===void 0?{}:a,u=i.transformRuleContexts,o=u===void 0?function(g){return g}:u,c=i.transformItems,f=c===void 0?function(g){return g}:c;Object.keys(s).forEach(function(g){if(typeof s[g]!="function")throw new Error(Ai(`'The "`.concat(g,'" filter value in the `trackedFilters` option expects a function.')))});var d=Object.keys(s).length>0,l=[],m;return{$$type:"ais.queryRules",init:function(h){var p=h.helper,v=h.state,S=h.instantSearchInstance;l=v.ruleContexts||[],m=gl.bind({helper:p,initialRuleContexts:l,trackedFilters:s,transformRuleContexts:o}),d&&((ll(v)||Boolean(n.transformRuleContexts))&&m({state:v}),p.on("change",m)),t(Je(Je({},this.getWidgetRenderState(h)),{},{instantSearchInstance:S}),!0)},render:function(h){var p=h.instantSearchInstance;t(Je(Je({},this.getWidgetRenderState(h)),{},{instantSearchInstance:p}),!1)},getWidgetRenderState:function(h){var p=h.results,v=p||{},S=v.userData,b=S===void 0?[]:S,y=f(b,{results:p});return{items:y,widgetParams:n}},getRenderState:function(h,p){return Je(Je({},h),{},{queryRules:this.getWidgetRenderState(p)})},dispose:function(h){var p=h.helper,v=h.state;return r(),d?(p.removeListener("change",m),v.setQueryParameter("ruleContexts",l)):v}}}},Za=ml;function Ti(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ti(Object(r),!0).forEach(function(n){pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ti(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vl=function(t){var r=t.searchAsYouSpeak,n=t.language,i=t.onQueryChange,a=t.onStateChange,s=window.webkitSpeechRecognition||window.SpeechRecognition,u=function(w){return{status:w,transcript:"",isSpeechFinal:!1,errorCode:void 0}},o=u("initial"),c,f=function(){return Boolean(s)},d=function(){return o.status==="askingPermission"||o.status==="waiting"||o.status==="recognizing"},l=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};o=Hi(Hi({},o),w),a()},m=function(){return o},g=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"initial";l(u(w))},h=function(){l({status:"waiting"})},p=function(w){l({status:"error",errorCode:w.error})},v=function(w){l({status:"recognizing",transcript:w.results[0]&&w.results[0][0]&&w.results[0][0].transcript||"",isSpeechFinal:w.results[0]&&w.results[0].isFinal}),r&&o.transcript&&i(o.transcript)},S=function(){!o.errorCode&&o.transcript&&!r&&i(o.transcript),o.status!=="error"&&l({status:"finished"})},b=function(){c=new s,c&&(g("askingPermission"),c.interimResults=!0,n&&(c.lang=n),c.addEventListener("start",h),c.addEventListener("error",p),c.addEventListener("result",v),c.addEventListener("end",S),c.start())},y=function(){!c||(c.stop(),c.removeEventListener("start",h),c.removeEventListener("error",p),c.removeEventListener("result",v),c.removeEventListener("end",S),c=void 0)},R=function(){y(),g("finished")};return{getState:m,isBrowserSupported:f,isListening:d,startListening:b,stopListening:R,dispose:y}},yl=vl;function Di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Di(Object(r),!0).forEach(function(n){bl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Di(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sl=z({name:"voice-search",connector:!0}),Rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Sl()),function(n){var i=n.searchAsYouSpeak,a=i===void 0?!1:i,s=n.language,u=n.additionalQueryParameters,o=n.createVoiceSearchHelper,c=o===void 0?yl:o;return{$$type:"ais.voiceSearch",init:function(d){var l=d.instantSearchInstance;t(_e(_e({},this.getWidgetRenderState(d)),{},{instantSearchInstance:l}),!0)},render:function(d){var l=d.instantSearchInstance;t(_e(_e({},this.getWidgetRenderState(d)),{},{instantSearchInstance:l}),!1)},getRenderState:function(d,l){return _e(_e({},d),{},{voiceSearch:this.getWidgetRenderState(l)})},getWidgetRenderState:function(d){var l=this,m=d.helper,g=d.instantSearchInstance;this._refine||(this._refine=function(R){if(R!==m.state.query){var P=s?[s.split("-")[0]]:void 0;m.setQueryParameter("queryLanguages",P),typeof u=="function"&&m.setState(m.state.setQueryParameters(_e({ignorePlurals:!0,removeStopWords:!0,optionalWords:R},u({query:R})))),m.setQuery(R).search()}}),this._voiceSearchHelper||(this._voiceSearchHelper=c({searchAsYouSpeak:a,language:s,onQueryChange:function(P){return l._refine(P)},onStateChange:function(){t(_e(_e({},l.getWidgetRenderState(d)),{},{instantSearchInstance:g}),!1)}}));var h=this._voiceSearchHelper,p=h.isBrowserSupported,v=h.isListening,S=h.startListening,b=h.stopListening,y=h.getState;return{isBrowserSupported:p(),isListening:v(),toggleListening:function(){!p()||(v()?b():S())},voiceListeningState:y(),widgetParams:n}},dispose:function(d){var l=d.state;this._voiceSearchHelper.dispose(),r();var m=l;if(typeof u=="function"){var g=u({query:""}),h=g?Object.keys(g).reduce(function(p,v){return p[v]=void 0,p},{}):{};m=l.setQueryParameters(_e({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},h))}return m.setQueryParameter("query",void 0)},getWidgetUiState:function(d,l){var m=l.searchParameters,g=m.query||"";return g?_e(_e({},d),{},{query:g}):d},getWidgetSearchParameters:function(d,l){var m=l.uiState;return d.setQueryParameter("query",m.query||"")}}}},wl=Rl;function Li(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Li(Object(r),!0).forEach(function(n){Pl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Li(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ol=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:N,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return function(n){var i={};return{$$type:"ais.relevantSort",init:function(s){var u=s.instantSearchInstance;t(Ke(Ke({},this.getWidgetRenderState(s)),{},{instantSearchInstance:u}),!0)},render:function(s){var u=s.instantSearchInstance;t(Ke(Ke({},this.getWidgetRenderState(s)),{},{instantSearchInstance:u}),!1)},dispose:function(s){var u=s.state;return r(),u.setQueryParameter("relevancyStrictness",void 0)},getRenderState:function(s,u){return Ke(Ke({},s),{},{relevantSort:this.getWidgetRenderState(u)})},getWidgetRenderState:function(s){var u=s.results,o=s.helper;i.refine||(i.refine=function(l){o.setQueryParameter("relevancyStrictness",l).search()});var c=u||{},f=c.appliedRelevancyStrictness,d=f!==void 0;return{isRelevantSorted:typeof f!="undefined"&&f>0,isVirtualReplica:d,canRefine:d,refine:i.refine,widgetParams:n}},getWidgetSearchParameters:function(s,u){var o,c=u.uiState;return s.setQueryParameter("relevancyStrictness",(o=c.relevantSort)!==null&&o!==void 0?o:s.relevancyStrictness)},getWidgetUiState:function(s,u){var o=u.searchParameters;return Ke(Ke({},s),{},{relevantSort:o.relevancyStrictness||s.relevantSort})}}}},jl=Ol;function Ci(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ci(Object(r),!0).forEach(function(n){xl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ci(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xl(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yt=function(r){return typeof r}:Yt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yt(e)}var Lt=z({name:"dynamic-widgets",connector:!0}),Fl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:N;return Z(t,Lt()),function(n){var i=n.widgets,a=n.maxValuesPerFacet,s=a===void 0?20:a,u=n.facets,o=u===void 0?["*"]:u,c=n.transformItems,f=c===void 0?function(m){return m}:c,d=n.fallbackWidget;if(!(i&&Array.isArray(i)&&i.every(function(m){return Yt(m)==="object"})))throw new Error(Lt("The `widgets` option expects an array of widgets."));if(!(Array.isArray(o)&&o.length<=1&&(o[0]==="*"||o[0]===void 0)))throw new Error(Lt('The `facets` option only accepts [] or ["*"], you passed '.concat(JSON.stringify(o))));var l=new Map;return{$$type:"ais.dynamicWidgets",init:function(g){i.forEach(function(h){var p=Pu(h,g);l.set(p,{widget:h,isMounted:!1})}),t(ot(ot({},this.getWidgetRenderState(g)),{},{instantSearchInstance:g.instantSearchInstance}),!0)},render:function(g){var h=g.parent,p=this.getWidgetRenderState(g),v=[],S=[];d&&p.attributesToRender.forEach(function(b){if(!l.has(b)){var y=d({attribute:b});l.set(b,{widget:y,isMounted:!1})}}),l.forEach(function(b,y){var R=b.widget,P=b.isMounted,w=p.attributesToRender.indexOf(y)>-1;!P&&w?(S.push(R),l.set(y,{widget:R,isMounted:!0})):P&&!w&&(v.push(R),l.set(y,{widget:R,isMounted:!1}))}),h.addWidgets(S),setTimeout(function(){return h.removeWidgets(v)},0),t(ot(ot({},p),{},{instantSearchInstance:g.instantSearchInstance}),!1)},dispose:function(g){var h=g.parent,p=[];l.forEach(function(v){var S=v.widget,b=v.isMounted;b&&p.push(S)}),h.removeWidgets(p),r()},getWidgetSearchParameters:function(g){return o.reduce(function(h,p){return h.addFacet(p)},g.setQueryParameters({maxValuesPerFacet:Math.max(s||0,g.maxValuesPerFacet||0)}))},getRenderState:function(g,h){return ot(ot({},g),{},{dynamicWidgets:this.getWidgetRenderState(h)})},getWidgetRenderState:function(g){var h,p,v,S,b=g.results;if(g.state,!b)return{attributesToRender:[],widgetParams:n};var y=f((h=(p=b.renderingContent)===null||p===void 0||(v=p.facetOrdering)===null||v===void 0||(S=v.facets)===null||S===void 0?void 0:S.order)!==null&&h!==void 0?h:[],{results:b});if(!Array.isArray(y))throw new Error(Lt("The `transformItems` option expects a function that returns an Array."));return{attributesToRender:y,widgetParams:n}}}}},Xa=Fl;gt(Xa);B({connector:al},{$$widgetType:"ais.autocomplete"}),W({name:"Autocomplete"});E("p",null,"This widget doesn't render anything without a filled in default slot.",-1);E("p",null,"query, function to refine and results are provided.",-1);E("pre",null,"refine: Function",-1);E("summary",null,[E("code",null,"indices"),oe(":")],-1);function _l(e){return{all:e=e||new Map,on:function(t,r){var n=e.get(t);n&&n.push(r)||e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&n.splice(n.indexOf(r)>>>0,1)},emit:function(t,r){(e.get(t)||[]).slice().map(function(n){n(r)}),(e.get("*")||[]).slice().map(function(n){n(t,r)})}}}var $l=function(){var e;return(e={props:{emitter:{type:Object,required:!1,default:function(){return _l()}}},provide:function(){var t;return(t={}).instantSearchPanelEmitter=this.emitter,t},data:function(){return{canRefine:!0}},created:function(){var t=this;this.emitter.on("PANEL_CHANGE_EVENT",function(r){t.updateCanRefine(r)})}}).beforeUnmount=function(){this.emitter.all.clear()},e.methods={updateCanRefine:function(t){this.canRefine=t}},e},ye=function(e){var t=e.mapStateToCanRefine;return{inject:{emitter:{from:"instantSearchPanelEmitter",default:function(){return{emit:function(){}}}}},data:function(){return{state:null,hasAlreadyEmitted:!1}},watch:{state:{immediate:!0,handler:function(r,n){if(r){var i=t(n||{}),a=t(r);this.hasAlreadyEmitted&&i===a||(this.emitter.emit("PANEL_CHANGE_EVENT",a),this.hasAlreadyEmitted=!0)}}}}}};B({connector:ko},{$$widgetType:"ais.breadcrumb"}),ye({mapStateToCanRefine:function(e){return Boolean(e.canRefine)}}),W({name:"Breadcrumb"});oe("Home");oe("Home");oe(">");B({connector:Au},{$$widgetType:"ais.clearRefinements"}),ye({mapStateToCanRefine:function(e){return Boolean(e.hasRefinements)}}),W({name:"ClearRefinements"});oe("Clear refinements");W({name:"Configure"}),B({connector:Ya},{$$widgetType:"ais.configure"}),_t(function(e){var t=this.$slots.default;return this.state&&t?e("div",{class:this.suit()},[t({refine:this.state.refine,searchParameters:this.state.widgetParams.searchParameters})]):null});B({connector:rl},{$$widgetType:"ais.configureRelatedItems"});W({name:"CurrentRefinements"}),B({connector:ku},{$$widgetType:"ais.currentRefinements"}),ye({mapStateToCanRefine:function(e){return Boolean(e.items)&&e.items.length>0}});var Vr={name:"HierarchicalMenuList",props:{items:{type:Array,required:!0},level:{type:Number,required:!0},refine:{type:Function,required:!0},createURL:{type:Function,required:!0},suit:{type:Function,required:!0}}};function Il(e,t,r,n,i,a){var s=en("hierarchical-menu-list",!0);return C(),ae("ul",{class:[r.suit("list"),r.level>0&&r.suit("list","child"),r.suit("list","lvl"+r.level)]},[(C(!0),ae(Ge,null,Ze(r.items,function(u){return C(),ae("li",{key:u.value,class:[r.suit("item"),u.data&&r.suit("item","parent"),u.isRefined&&r.suit("item","selected")]},[E("a",{href:r.createURL(u.value),class:r.suit("link"),onClick:Er(function(o){return r.refine(u.value)},["prevent"])},[E("span",{class:r.suit("label")},Pe(u.label),3),E("span",{class:r.suit("count")},Pe(u.count),3)],10,["href","onClick"]),u.data?(C(),ae(s,{key:0,items:u.data,level:r.level+1,refine:r.refine,createURL:r.createURL,suit:r.suit},null,8,["items","level","refine","createURL","suit"])):Oe("v-if",!0)],2)}),128))],2)}Vr.render=Il,Vr.__file="src/components/HierarchicalMenuList.vue";var Wi=function(e){return Boolean(e.items)&&e.items.length>0};W({name:"HierarchicalMenu"}),B({connector:Zu},{$$widgetType:"ais.hierarchicalMenu"}),ye({mapStateToCanRefine:Wi});var El={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},es=/&(?:amp|lt|gt|quot|#39);/g,Al=RegExp(es.source);function Ni(e){return e&&Al.test(e)?e.replace(es,function(t){return El[t]}):e}var Mi={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"};function Ui(e){var t=e.preTag,r=e.postTag,n=e.highlightedValue;n===void 0&&(n="");var i=n.split(t),a=i.shift(),s=a===""?[]:[{value:a,isHighlighted:!1}];if(r===t){var u=!0;i.forEach(function(o){s.push({value:o,isHighlighted:u}),u=!u})}else i.forEach(function(o){var c=o.split(r);s.push({value:c[0],isHighlighted:!0}),c[1]!==""&&s.push({value:c[1]===" "?"  ":c[1],isHighlighted:!1})});return s}function Tl(e){var t=e.preTag;t===void 0&&(t=Mi.highlightPreTag);var r=e.postTag;r===void 0&&(r=Mi.highlightPostTag);var n=e.highlightProperty,i=e.attribute,a=e.hit;if(!a)throw new Error("`hit`, the matching record, must be provided");var s=mt(a[n],i)||{};return Array.isArray(s)?s.map(function(u){return Ui({preTag:t,postTag:r,highlightedValue:Ni(u.value)})}):Ui({preTag:t,postTag:r,highlightedValue:Ni(s.value)})}var Hl=function(e,t){return t.slots.default()},nr={name:"AisHighlighter",props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"},suit:{type:Function,required:!0},highlightProperty:{type:String,required:!0},preTag:{type:String,required:!0},postTag:{type:String,required:!0}},data:function(){return{TextNode:Hl}},computed:{parsedHighlights:function(){return Tl({attribute:this.attribute,hit:this.hit,highlightProperty:this.highlightProperty,preTag:this.preTag,postTag:this.postTag})}}};function Dl(e,t,r,n,i,a){return C(),ae("span",{class:r.suit()},[(C(!0),ae(Ge,null,Ze(a.parsedHighlights,function(s,u){var o=s.value,c=s.isHighlighted;return C(),ae(Ss(c?r.highlightedTagName:i.TextNode),{class:[c&&r.suit("highlighted")],key:u},{default:je(function(){return[oe(Pe(o),1)]}),_:2},1032,["class"])}),128))],2)}nr.render=Dl,nr.__file="src/components/Highlighter.vue";var qr={name:"AisHighlight",mixins:[W({name:"Highlight"})],components:{AisHighlighter:nr},props:{hit:{type:Object,required:!0},attribute:{type:String,required:!0},highlightedTagName:{type:String,default:"mark"}}};function Ll(e,t,r,n,i,a){var s=en("ais-highlighter");return C(),ae(s,{hit:r.hit,attribute:r.attribute,"highlighted-tag-name":r.highlightedTagName,suit:e.suit,"highlight-property":"_highlightResult","pre-tag":"<mark>","post-tag":"</mark>"},null,8,["hit","attribute","highlighted-tag-name","suit"])}qr.render=Ll,qr.__file="src/components/Highlight.vue";var zr={name:"AisHits",mixins:[B({connector:fc},{$$widgetType:"ais.hits"}),W({name:"Hits"})],props:{escapeHTML:{type:Boolean,default:!0},transformItems:{type:Function,default:void 0}},computed:{items:function(){return this.state.hits},widgetParams:function(){return{escapeHTML:this.escapeHTML,transformItems:this.transformItems}}}};function Cl(e,t,r,n,i,a){return e.state?(C(),ae("div",{key:0,class:e.suit()},[we(e.$slots,"default",{items:a.items,insights:e.state.insights,sendEvent:e.state.sendEvent},function(){return[E("ol",{class:e.suit("list")},[(C(!0),ae(Ge,null,Ze(a.items,function(s,u){return C(),ae("li",{key:s.objectID,class:e.suit("item")},[we(e.$slots,"item",{item:s,index:u,insights:e.state.insights},function(){return[oe("objectID: "+Pe(s.objectID)+", index: "+Pe(u),1)]})],2)}),128))],2)]})],2)):Oe("v-if",!0)}zr.render=Cl,zr.__file="src/components/Hits.vue";W({name:"HitsPerPage"}),B({connector:yc},{$$widgetType:"ais.hitsPerPage"}),ye({mapStateToCanRefine:function(e){return e.hasNoResults===!1}});function Qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qi(Object(r),!0).forEach(function(n){ir(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ir(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ts(e){return Ul(e)||Ml(e)||Nl(e)||Wl()}function Wl(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nl(e,t){if(!!e){if(typeof e=="string")return Kr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kr(e,t)}}function Ml(e){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(e))return Array.from(e)}function Ul(e){if(Array.isArray(e))return Kr(e)}function Kr(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ql(e,t){if(e==null)return{};var r=kl(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function kl(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var St=z({name:"index-widget"});function pt(e){return e.$$type==="ais.index"}function rs(e,t){var r=t.state,n=t.isPageReset,i=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:n,_uiState:i}))}function Ct(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.reduce(function(n,i){return pt(i)||!i.getWidgetUiState&&!i.getWidgetState?n:i.getWidgetUiState?i.getWidgetUiState(n,t):i.getWidgetState(n,t)},r)}function Wt(e,t){var r=t.initialSearchParameters,n=Ql(t,["initialSearchParameters"]);return e.filter(function(i){return!pt(i)}).reduce(function(i,a){return a.getWidgetSearchParameters?a.getWidgetSearchParameters(i,n):i},r)}function ns(e){var t=e.filter(pt);t.length!==0&&t.forEach(function(r){var n=r.getHelper();rs(n,{state:n.state.resetPage(),isPageReset:!0}),ns(r.getWidgets())})}function is(e){var t=e.filter(pt);return t.reduce(function(r,n){return r.concat.apply(r,[{indexId:n.getIndexId(),results:n.getResults(),helper:n.getHelper()}].concat(ts(is(n.getWidgets()))))},[])}var Bl=function(t){if(t===void 0||t.indexName===void 0)throw new Error(St("The `indexName` option is required."));var r=t.indexName,n=t.indexId,i=n===void 0?r:n,a=[],s={},u=null,o=null,c=null,f=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return r},getIndexId:function(){return i},getHelper:function(){return c},getResults:function(){return f&&f.lastResults},getScopedResults:function(){var l=this.getParent(),m=l?l.getWidgets():[this];return is(m)},getParent:function(){return o},createURL:function(l){return u._createURL(ir({},i,Ct(a,{searchParameters:l,helper:c})))},getWidgets:function(){return a},addWidgets:function(l){var m=this;if(!Array.isArray(l))throw new Error(St("The `addWidgets` method expects an array of widgets."));if(l.some(function(g){return typeof g.init!="function"&&typeof g.render!="function"}))throw new Error(St("The widget definition expects a `render` and/or an `init` method."));return a=a.concat(l),u&&Boolean(l.length)&&(rs(c,{state:Wt(a,{uiState:s,initialSearchParameters:c.state}),_uiState:s}),l.forEach(function(g){if(g.getRenderState){var h=g.getRenderState(u.renderState[m.getIndexId()]||{},{uiState:u._initialUiState,helper:m.getHelper(),parent:m,instantSearchInstance:u,state:c.state,renderState:u.renderState,templatesConfig:u.templatesConfig,createURL:m.createURL,scopedResults:[],searchMetadata:{isSearchStalled:u._isSearchStalled}});Fr({renderState:h,instantSearchInstance:u,parent:m})}}),l.forEach(function(g){g.init&&g.init({helper:c,parent:m,uiState:u._initialUiState,instantSearchInstance:u,state:c.state,renderState:u.renderState,templatesConfig:u.templatesConfig,createURL:m.createURL,scopedResults:[],searchMetadata:{isSearchStalled:u._isSearchStalled}})}),u.scheduleSearch()),this},removeWidgets:function(l){var m=this;if(!Array.isArray(l))throw new Error(St("The `removeWidgets` method expects an array of widgets."));if(l.some(function(h){return typeof h.dispose!="function"}))throw new Error(St("The widget definition expects a `dispose` method."));if(a=a.filter(function(h){return l.indexOf(h)===-1}),u&&Boolean(l.length)){var g=l.reduce(function(h,p){var v=p.dispose({helper:c,state:h,parent:m});return v||h},c.state);s=Ct(a,{searchParameters:g,helper:c}),c.setState(Wt(a,{uiState:s,initialSearchParameters:g})),a.length&&u.scheduleSearch()}return this},init:function(l){var m=this,g,h=l.instantSearchInstance,p=l.parent,v=l.uiState;if(c===null){u=h,o=p,s=v[i]||{};var S=h.mainHelper,b=Wt(a,{uiState:s,initialSearchParameters:new Ae.SearchParameters({index:r})});c=Ae({},b.index,b),c.search=function(){return h.onStateChange?(h.onStateChange({uiState:h.mainIndex.getWidgetUiState({}),setUiState:h.setUiState.bind(h)}),S):S.search()},c.searchWithoutTriggeringOnStateChange=function(){return S.search()},c.searchForFacetValues=function(P,w,O,j){var $=c.state.setQueryParameters(j);return S.searchForFacetValues(P,w,O,$)},f=S.derive(function(){return jt.apply(void 0,ts(pu(m)))});var y=(g=h._initialResults)===null||g===void 0?void 0:g[this.getIndexId()];if(y){var R=new Ae.SearchResults(new Ae.SearchParameters(y.state),y.results);f.lastResults=R,c.lastResults=R}c.on("change",function(P){var w=P.isPageReset;w&&ns(a)}),f.on("search",function(){h.scheduleStalledRender()}),f.on("result",function(P){var w=P.results;h.scheduleRender(),c.lastResults=w}),a.forEach(function(P){if(P.getRenderState){var w=P.getRenderState(h.renderState[m.getIndexId()]||{},{uiState:v,helper:c,parent:m,instantSearchInstance:h,state:c.state,renderState:h.renderState,templatesConfig:h.templatesConfig,createURL:m.createURL,scopedResults:[],searchMetadata:{isSearchStalled:h._isSearchStalled}});Fr({renderState:w,instantSearchInstance:h,parent:m})}}),a.forEach(function(P){P.init&&P.init({uiState:v,helper:c,parent:m,instantSearchInstance:h,state:c.state,renderState:h.renderState,templatesConfig:h.templatesConfig,createURL:m.createURL,scopedResults:[],searchMetadata:{isSearchStalled:h._isSearchStalled}})}),c.on("change",function(P){var w=P.state,O=P._uiState;s=Ct(a,{searchParameters:w,helper:c},O||{}),h.onStateChange||h.onInternalStateChange()}),y&&h.scheduleRender()}},render:function(l){var m=this,g=l.instantSearchInstance;!this.getResults()||(a.forEach(function(h){if(h.getRenderState){var p=h.getRenderState(g.renderState[m.getIndexId()]||{},{helper:m.getHelper(),parent:m,instantSearchInstance:g,results:m.getResults(),scopedResults:m.getScopedResults(),state:m.getResults()._state,renderState:g.renderState,templatesConfig:g.templatesConfig,createURL:m.createURL,searchMetadata:{isSearchStalled:g._isSearchStalled}});Fr({renderState:p,instantSearchInstance:g,parent:m})}}),a.forEach(function(h){h.render&&h.render({helper:c,parent:m,instantSearchInstance:g,results:m.getResults(),scopedResults:m.getScopedResults(),state:m.getResults()._state,renderState:g.renderState,templatesConfig:g.templatesConfig,createURL:m.createURL,searchMetadata:{isSearchStalled:g._isSearchStalled}})}))},dispose:function(){var l=this;a.forEach(function(m){m.dispose&&m.dispose({helper:c,state:c.state,parent:l})}),u=null,o=null,c.removeAllListeners(),c=null,f.detach(),f=null},getWidgetUiState:function(l){return a.filter(pt).reduce(function(m,g){return g.getWidgetUiState(m)},lt(lt({},l),{},ir({},this.getIndexId(),s)))},getWidgetState:function(l){return this.getWidgetUiState(l)},getWidgetSearchParameters:function(l,m){var g=m.uiState;return Wt(a,{uiState:g,initialSearchParameters:l})},refreshUiState:function(){s=Ct(a,{searchParameters:this.getHelper().state,helper:this.getHelper()},s)}}},as=Bl;function Fr(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=lt(lt({},r.renderState),{},ir({},i,lt(lt({},r.renderState[i]),t)))}W({name:"Index"}),B({connector:function(){return as}},{$$widgetType:"ais.index"}),_t(function(e){return e("div",{},ur(this))});var ss="4.43.0",Vl="ais",lr=function(t){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.descendantName,i=r.modifierName,a=n?"-".concat(n):"",s=i?"--".concat(i):"";return"".concat(Vl,"-").concat(t).concat(a).concat(s)}},ql=lr("Highlight");function us(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,u=mt(i._highlightResult,t),o=u||{},c=o.value,f=c===void 0?"":c,d=ql({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return f.replace(new RegExp(fe.highlightPreTag,"g"),"<".concat(n,' class="').concat(d,'">')).replace(new RegExp(fe.highlightPostTag,"g"),"</".concat(n,">"))}var zl=lr("ReverseHighlight");function cs(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,u=mt(i._highlightResult,t),o=u||{},c=o.value,f=c===void 0?"":c,d=zl({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),l=oa(la(fa(f)));return l.replace(new RegExp(fe.highlightPreTag,"g"),"<".concat(n,' class="').concat(d,'">')).replace(new RegExp(fe.highlightPostTag,"g"),"</".concat(n,">"))}var Kl=lr("Snippet");function os(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,u=mt(i._snippetResult,t),o=u||{},c=o.value,f=c===void 0?"":c,d=Kl({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):"");return f.replace(new RegExp(fe.highlightPreTag,"g"),"<".concat(n,' class="').concat(d,'">')).replace(new RegExp(fe.highlightPostTag,"g"),"</".concat(n,">"))}var Jl=lr("ReverseSnippet");function fs(e){var t=e.attribute,r=e.highlightedTagName,n=r===void 0?"mark":r,i=e.hit,a=e.cssClasses,s=a===void 0?{}:a,u=mt(i._snippetResult,t),o=u||{},c=o.value,f=c===void 0?"":c,d=Jl({descendantName:"highlighted"})+(s.highlighted?" ".concat(s.highlighted):""),l=oa(la(fa(f)));return l.replace(new RegExp(fe.highlightPreTag,"g"),"<".concat(n,' class="').concat(d,'">')).replace(new RegExp(fe.highlightPostTag,"g"),"</".concat(n,">"))}var Yl="_ALGOLIA";function Gl(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];i.charAt(0)===" ";)i=i.substring(1);if(i.indexOf(t)===0)return i.substring(t.length,i.length)}}function Zl(){return Gl(Yl)}function Xl(){return Zl()}function ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ki(Object(r),!0).forEach(function(n){eh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eh(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function th(e){var t=e.numberLocale;return{formatNumber:function(n,i){return Number(i(n)).toLocaleString(t)},highlight:function(n,i){try{var a=JSON.parse(n);return i(us(Ne(Ne({},a),{},{hit:this})))}catch{throw new Error(`
The highlight helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseHighlight:function(n,i){try{var a=JSON.parse(n);return i(cs(Ne(Ne({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseHighlight helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},snippet:function(n,i){try{var a=JSON.parse(n);return i(os(Ne(Ne({},a),{},{hit:this})))}catch{throw new Error(`
The snippet helper expects a JSON object of the format:
{ "attribute": "name", "highlightedTagName": "mark" }`)}},reverseSnippet:function(n,i){try{var a=JSON.parse(n);return i(fs(Ne(Ne({},a),{},{hit:this})))}catch{throw new Error(`
  The reverseSnippet helper expects a JSON object of the format:
  { "attribute": "name", "highlightedTagName": "mark" }`)}},insights:function(n,i){try{var a=JSON.parse(n),s=a.method,u=a.payload;return i(wa(s,Ne({objectIDs:[this.objectID]},u)))}catch{throw new Error(`
The insights helper expects a JSON object of the format:
{ "method": "method-name", "payload": { "eventName": "name of the event" } }`)}}}}function Bi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bi(Object(r),!0).forEach(function(n){Jr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rh(e,t){if(e==null)return{};var r=nh(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function nh(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Vi(e){e.configure;var t=rh(e,["configure"]);return t}function ih(){return{stateToRoute:function(t){return Object.keys(t).reduce(function(r,n){return Nt(Nt({},r),{},Jr({},n,Vi(t[n])))},{})},routeToState:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(r,n){return Nt(Nt({},r),{},Jr({},n,Vi(t[n])))},{})}}}var ah=String.prototype.replace,sh=/%20/g,_r={RFC1738:"RFC1738",RFC3986:"RFC3986"},yn={default:_r.RFC3986,formatters:{RFC1738:function(e){return ah.call(e,sh,"+")},RFC3986:function(e){return String(e)}},RFC1738:_r.RFC1738,RFC3986:_r.RFC3986},uh=yn,$r=Object.prototype.hasOwnProperty,rt=Array.isArray,Le=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),ch=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(rt(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]!="undefined"&&i.push(n[a]);r.obj[r.prop]=i}}},ls=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]!="undefined"&&(n[i]=t[i]);return n},oh=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(rt(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!$r.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return rt(t)&&!rt(r)&&(i=ls(t,n)),rt(t)&&rt(r)?(r.forEach(function(a,s){if($r.call(t,s)){var u=t[s];u&&typeof u=="object"&&a&&typeof a=="object"?t[s]=e(u,a,n):t.push(a)}else t[s]=a}),t):Object.keys(r).reduce(function(a,s){var u=r[s];return $r.call(a,s)?a[s]=e(a[s],u,n):a[s]=u,a},i)},fh=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},lh=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},hh=function(t,r,n,i,a){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var u="",o=0;o<s.length;++o){var c=s.charCodeAt(o);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||a===uh.RFC1738&&(c===40||c===41)){u+=s.charAt(o);continue}if(c<128){u=u+Le[c];continue}if(c<2048){u=u+(Le[192|c>>6]+Le[128|c&63]);continue}if(c<55296||c>=57344){u=u+(Le[224|c>>12]+Le[128|c>>6&63]+Le[128|c&63]);continue}o+=1,c=65536+((c&1023)<<10|s.charCodeAt(o)&1023),u+=Le[240|c>>18]+Le[128|c>>12&63]+Le[128|c>>6&63]+Le[128|c&63]}return u},dh=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],u=Object.keys(s),o=0;o<u.length;++o){var c=u[o],f=s[c];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:s,prop:c}),n.push(f))}return ch(r),t},gh=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},mh=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},ph=function(t,r){return[].concat(t,r)},vh=function(t,r){if(rt(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)},hs={arrayToObject:ls,assign:fh,combine:ph,compact:dh,decode:lh,encode:hh,isBuffer:mh,isRegExp:gh,maybeMap:vh,merge:oh},Yr=hs,xt=yn,yh=Object.prototype.hasOwnProperty,qi={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},nt=Array.isArray,bh=String.prototype.split,Sh=Array.prototype.push,ds=function(e,t){Sh.apply(e,nt(t)?t:[t])},Rh=Date.prototype.toISOString,zi=xt.default,ie={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Yr.encode,encodeValuesOnly:!1,format:zi,formatter:xt.formatters[zi],indices:!1,serializeDate:function(t){return Rh.call(t)},skipNulls:!1,strictNullHandling:!1},wh=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Ph=function e(t,r,n,i,a,s,u,o,c,f,d,l,m,g){var h=t;if(typeof u=="function"?h=u(r,h):h instanceof Date?h=f(h):n==="comma"&&nt(h)&&(h=Yr.maybeMap(h,function(I){return I instanceof Date?f(I):I})),h===null){if(i)return s&&!m?s(r,ie.encoder,g,"key",d):r;h=""}if(wh(h)||Yr.isBuffer(h)){if(s){var p=m?r:s(r,ie.encoder,g,"key",d);if(n==="comma"&&m){for(var v=bh.call(String(h),","),S="",b=0;b<v.length;++b)S+=(b===0?"":",")+l(s(v[b],ie.encoder,g,"value",d));return[l(p)+"="+S]}return[l(p)+"="+l(s(h,ie.encoder,g,"value",d))]}return[l(r)+"="+l(String(h))]}var y=[];if(typeof h=="undefined")return y;var R;if(n==="comma"&&nt(h))R=[{value:h.length>0?h.join(",")||null:void 0}];else if(nt(u))R=u;else{var P=Object.keys(h);R=o?P.sort(o):P}for(var w=0;w<R.length;++w){var O=R[w],j=typeof O=="object"&&typeof O.value!="undefined"?O.value:h[O];if(!(a&&j===null)){var $=nt(h)?typeof n=="function"?n(r,O):r:r+(c?"."+O:"["+O+"]");ds(y,e(j,$,n,i,a,s,u,o,c,f,d,l,m,g))}}return y},Oh=function(t){if(!t)return ie;if(t.encoder!==null&&typeof t.encoder!="undefined"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||ie.charset;if(typeof t.charset!="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=xt.default;if(typeof t.format!="undefined"){if(!yh.call(xt.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=xt.formatters[n],a=ie.filter;return(typeof t.filter=="function"||nt(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ie.addQueryPrefix,allowDots:typeof t.allowDots=="undefined"?ie.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ie.charsetSentinel,delimiter:typeof t.delimiter=="undefined"?ie.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ie.encode,encoder:typeof t.encoder=="function"?t.encoder:ie.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ie.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ie.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ie.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ie.strictNullHandling}},jh=function(e,t){var r=e,n=Oh(t),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):nt(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var u;t&&t.arrayFormat in qi?u=t.arrayFormat:t&&"indices"in t?u=t.indices?"indices":"repeat":u="indices";var o=qi[u];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=0;c<i.length;++c){var f=i[c];n.skipNulls&&r[f]===null||ds(s,Ph(r[f],f,o,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var d=s.join(n.delimiter),l=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?l+="utf8=%26%2310003%3B&":l+="utf8=%E2%9C%93&"),d.length>0?l+d:""},dt=hs,Gr=Object.prototype.hasOwnProperty,xh=Array.isArray,ne={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:dt.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Fh=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},gs=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},_h="utf8=%26%2310003%3B",$h="utf8=%E2%9C%93",Ih=function(t,r){var n={},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),u=-1,o,c=r.charset;if(r.charsetSentinel)for(o=0;o<s.length;++o)s[o].indexOf("utf8=")===0&&(s[o]===$h?c="utf-8":s[o]===_h&&(c="iso-8859-1"),u=o,o=s.length);for(o=0;o<s.length;++o)if(o!==u){var f=s[o],d=f.indexOf("]="),l=d===-1?f.indexOf("="):d+1,m,g;l===-1?(m=r.decoder(f,ne.decoder,c,"key"),g=r.strictNullHandling?null:""):(m=r.decoder(f.slice(0,l),ne.decoder,c,"key"),g=dt.maybeMap(gs(f.slice(l+1),r),function(h){return r.decoder(h,ne.decoder,c,"value")})),g&&r.interpretNumericEntities&&c==="iso-8859-1"&&(g=Fh(g)),f.indexOf("[]=")>-1&&(g=xh(g)?[g]:g),Gr.call(n,m)?n[m]=dt.combine(n[m],g):n[m]=g}return n},Eh=function(e,t,r,n){for(var i=n?t:gs(t,r),a=e.length-1;a>=0;--a){var s,u=e[a];if(u==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var o=u.charAt(0)==="["&&u.charAt(u.length-1)==="]"?u.slice(1,-1):u,c=parseInt(o,10);!r.parseArrays&&o===""?s={0:i}:!isNaN(c)&&u!==o&&String(c)===o&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(s=[],s[c]=i):o!=="__proto__"&&(s[o]=i)}i=s}return i},Ah=function(t,r,n,i){if(!!t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,u=/(\[[^[\]]*])/g,o=n.depth>0&&s.exec(a),c=o?a.slice(0,o.index):a,f=[];if(c){if(!n.plainObjects&&Gr.call(Object.prototype,c)&&!n.allowPrototypes)return;f.push(c)}for(var d=0;n.depth>0&&(o=u.exec(a))!==null&&d<n.depth;){if(d+=1,!n.plainObjects&&Gr.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(o[1])}return o&&f.push("["+a.slice(o.index)+"]"),Eh(f,r,n,i)}},Th=function(t){if(!t)return ne;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset!="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset=="undefined"?ne.charset:t.charset;return{allowDots:typeof t.allowDots=="undefined"?ne.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:ne.allowPrototypes,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:ne.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ne.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:ne.comma,decoder:typeof t.decoder=="function"?t.decoder:ne.decoder,delimiter:typeof t.delimiter=="string"||dt.isRegExp(t.delimiter)?t.delimiter:ne.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:ne.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:ne.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:ne.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:ne.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ne.strictNullHandling}},Hh=function(e,t){var r=Th(t);if(e===""||e===null||typeof e=="undefined")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?Ih(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var u=a[s],o=Ah(u,n[u],r,typeof e=="string");i=dt.merge(i,o,r)}return dt.compact(i)},Dh=jh,Lh=Hh,Ch=yn,Ki={formats:Ch,parse:Lh,stringify:Dh};function Wh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ji(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Nh(e,t,r){return t&&Ji(e.prototype,t),r&&Ji(e,r),e}function Me(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Yi=function(t){t&&(window.document.title=t)},Mh=function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,a=i===void 0?400:i,s=t.createURL,u=t.parseURL,o=t.getLocation;Wh(this,e),Me(this,"windowTitle",void 0),Me(this,"writeDelay",void 0),Me(this,"_createURL",void 0),Me(this,"parseURL",void 0),Me(this,"getLocation",void 0),Me(this,"writeTimer",void 0),Me(this,"inPopState",!1),Me(this,"isDisposed",!1),Me(this,"latestAcknowledgedHistory",0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=s,this.parseURL=u,this.getLocation=o,Ue(function(c){var f=c.window,d=r.windowTitle&&r.windowTitle(r.read());Yi(d),r.latestAcknowledgedHistory=f.history.length})}return Nh(e,[{key:"read",value:function(){return this.parseURL({qsModule:Ki,location:this.getLocation()})}},{key:"write",value:function(r){var n=this;Ue(function(i){var a=i.window,s=n.createURL(r),u=n.windowTitle&&n.windowTitle(r);n.writeTimer&&clearTimeout(n.writeTimer),n.writeTimer=setTimeout(function(){Yi(u),n.shouldWrite(s)&&(a.history.pushState(r,u||"",s),n.latestAcknowledgedHistory=a.history.length),n.inPopState=!1,n.writeTimer=void 0},n.writeDelay)})}},{key:"onUpdate",value:function(r){var n=this;this._onPopState=function(i){n.writeTimer&&(clearTimeout(n.writeTimer),n.writeTimer=void 0),n.inPopState=!0;var a=i.state;r(a||n.read())},Ue(function(i){var a=i.window;a.addEventListener("popstate",n._onPopState)})}},{key:"createURL",value:function(r){return this._createURL({qsModule:Ki,routeState:r,location:this.getLocation()})}},{key:"dispose",value:function(){var r=this;this.isDisposed=!0,Ue(function(n){var i=n.window;r._onPopState&&i.removeEventListener("popstate",r._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(r){var n=this;return Ue(function(i){var a=i.window,s=!(n.isDisposed&&n.latestAcknowledgedHistory!==a.history.length);return!n.inPopState&&s&&r!==a.location.href})}}]),e}();function Uh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.createURL,r=t===void 0?function(f){var d=f.qsModule,l=f.routeState,m=f.location,g=m.protocol,h=m.hostname,p=m.port,v=p===void 0?"":p,S=m.pathname,b=m.hash,y=d.stringify(l),R=v===""?"":":".concat(v);return y?"".concat(g,"//").concat(h).concat(R).concat(S,"?").concat(y).concat(b):"".concat(g,"//").concat(h).concat(R).concat(S).concat(b)}:t,n=e.parseURL,i=n===void 0?function(f){var d=f.qsModule,l=f.location;return d.parse(l.search.slice(1),{arrayLimit:99})}:n,a=e.writeDelay,s=a===void 0?400:a,u=e.windowTitle,o=e.getLocation,c=o===void 0?function(){return Ue(function(f){var d=f.window;return d.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:o;return new Mh({createURL:r,parseURL:i,writeDelay:s,windowTitle:u,getLocation:c})}function Gi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gi(Object(r),!0).forEach(function(n){ms(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ms(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Qh=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.router,n=r===void 0?Uh():r,i=t.stateMapping,a=i===void 0?ih():i;return function(s){var u=s.instantSearchInstance;function o(d){var l=Object.keys(d).reduce(function(g,h){return Mt(Mt({},g),{},ms({},h,d[h]))},u.mainIndex.getWidgetUiState({})),m=a.stateToRoute(l);return n.createURL(m)}u._createURL=o;var c=void 0,f=u._initialUiState;return{onStateChange:function(l){var m=l.uiState,g=a.stateToRoute(m);(c===void 0||!$t(c,g))&&(n.write(g),c=g)},subscribe:function(){u._initialUiState=Mt(Mt({},f),a.routeToState(n.read())),n.onUpdate(function(l){u.setUiState(a.routeToState(l))})},unsubscribe:function(){n.dispose()}}}};function ps(e,t,r){var n=t.mainIndex,i={instantSearchInstance:t,parent:n,scopedResults:[],state:n.getHelper().state,helper:n.getHelper(),createURL:n.createURL,uiState:t._initialUiState,renderState:t.renderState,templatesConfig:t.templatesConfig,searchMetadata:{isSearchStalled:t._isSearchStalled}};e.forEach(function(a){var s={};if(a.getWidgetRenderState){var u=a.getWidgetRenderState(i);u&&u.widgetParams&&(s=u.widgetParams)}var o=Object.keys(s).filter(function(c){return s[c]!==void 0});r.widgets.push({type:a.$$type,widgetType:a.$$widgetType,params:o}),a.$$type==="ais.index"&&ps(a.getWidgets(),t,r)})}function kh(){return Ue(function(e){var t,r,n=e.window;return((t=n.navigator)===null||t===void 0||(r=t.userAgent)===null||r===void 0?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})}function Bh(){return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var s=t.client;r.ua=s.transporter&&s.transporter.userAgent?s.transporter.userAgent.value:s._ua,ps(t.mainIndex.getWidgets(),t,r),n.content=JSON.stringify(r),i.appendChild(n)},0)},unsubscribe:function(){n.remove()}}}}function Gt(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gt=function(r){return typeof r}:Gt=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gt(e)}function Zi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zi(Object(r),!0).forEach(function(n){Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zi(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zh(e,t,r){return t&&Xi(e.prototype,t),r&&Xi(e,r),e}function Kh(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zr(e,t)}function Zr(e,t){return Zr=Object.setPrototypeOf||function(n,i){return n.__proto__=i,n},Zr(e,t)}function Jh(e){var t=Gh();return function(){var n=ar(e),i;if(t){var a=ar(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return Yh(this,i)}}function Yh(e,t){return t&&(Gt(t)==="object"||typeof t=="function")?t:J(e)}function J(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gh(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function ar(e){return ar=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},ar(e)}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ee=z({name:"instantsearch"});function Zh(){return"#"}var Xh=function(e){Kh(r,e);var t=Jh(r);function r(n){var i;qh(this,r),i=t.call(this),Y(J(i),"client",void 0),Y(J(i),"indexName",void 0),Y(J(i),"insightsClient",void 0),Y(J(i),"onStateChange",null),Y(J(i),"helper",void 0),Y(J(i),"mainHelper",void 0),Y(J(i),"mainIndex",void 0),Y(J(i),"started",void 0),Y(J(i),"templatesConfig",void 0),Y(J(i),"renderState",{}),Y(J(i),"_stalledSearchDelay",void 0),Y(J(i),"_searchStalledTimer",void 0),Y(J(i),"_isSearchStalled",void 0),Y(J(i),"_initialUiState",void 0),Y(J(i),"_initialResults",void 0),Y(J(i),"_createURL",void 0),Y(J(i),"_searchFunction",void 0),Y(J(i),"_mainHelperSearch",void 0),Y(J(i),"middleware",[]),Y(J(i),"sendEventToInsights",void 0),Y(J(i),"scheduleSearch",yt(function(){i.started&&i.mainHelper.search()})),Y(J(i),"scheduleRender",yt(function(){i.mainHelper.hasPendingRequests()||(clearTimeout(i._searchStalledTimer),i._searchStalledTimer=null,i._isSearchStalled=!1),i.mainIndex.render({instantSearchInstance:J(i)}),i.emit("render")})),Y(J(i),"onInternalStateChange",yt(function(){var P=i.mainIndex.getWidgetUiState({});i.middleware.forEach(function(w){var O=w.instance;O.onStateChange({uiState:P})})}));var a=n.indexName,s=a===void 0?null:a,u=n.numberLocale,o=n.initialUiState,c=o===void 0?{}:o,f=n.routing,d=f===void 0?null:f,l=n.searchFunction,m=n.stalledSearchDelay,g=m===void 0?200:m,h=n.searchClient,p=h===void 0?null:h,v=n.insightsClient,S=v===void 0?null:v,b=n.onStateChange,y=b===void 0?null:b;if(s===null)throw new Error(Ee("The `indexName` option is required."));if(p===null)throw new Error(Ee("The `searchClient` option is required."));if(typeof p.search!="function")throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if(typeof p.addAlgoliaAgent=="function"&&p.addAlgoliaAgent("instantsearch.js (".concat(ss,")")),S&&typeof S!="function")throw new Error(Ee("The `insightsClient` option should be a function."));if(i.client=p,i.insightsClient=S,i.indexName=s,i.helper=null,i.mainHelper=null,i.mainIndex=as({indexName:s}),i.onStateChange=y,i.started=!1,i.templatesConfig={helpers:th({numberLocale:u}),compileOptions:{}},i._stalledSearchDelay=g,i._searchStalledTimer=null,i._isSearchStalled=!1,i._createURL=Zh,i._initialUiState=c,i._initialResults=null,l&&(i._searchFunction=l),i.sendEventToInsights=N,d){var R=typeof d=="boolean"?void 0:d;i.use(Qh(R))}return kh()&&i.use(Bh()),i}return zh(r,[{key:"use",value:function(){for(var i=this,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var o=s.map(function(c){var f=Vh({subscribe:N,unsubscribe:N,onStateChange:N},c({instantSearchInstance:i}));return i.middleware.push({creator:c,instance:f}),f});return this.started&&o.forEach(function(c){c.subscribe()}),this}},{key:"unuse",value:function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return this.middleware.filter(function(u){return a.includes(u.creator)}).forEach(function(u){return u.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(u){return!a.includes(u.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(i){return this.addWidgets([i])}},{key:"addWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Ee("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(i.some(function(a){return typeof a.init!="function"&&typeof a.render!="function"}))throw new Error(Ee("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(i),this}},{key:"removeWidget",value:function(i){return this.removeWidgets([i])}},{key:"removeWidgets",value:function(i){if(!Array.isArray(i))throw new Error(Ee("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(i.some(function(a){return typeof a.dispose!="function"}))throw new Error(Ee("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(i),this}},{key:"start",value:function(){var i=this;if(this.started)throw new Error(Ee("The `start` method has already been called once."));var a=this.mainHelper||Ae(this.client,this.indexName);if(a.search=function(){return a.searchOnlyWithDerivedHelpers()},this._searchFunction){var s={search:function(){return new Promise(N)}};this._mainHelperSearch=a.search.bind(a),a.search=function(){var o=i.mainIndex.getHelper(),c=Ae(s,o.state.index,o.state);return c.once("search",function(f){var d=f.state;o.overrideStateWithoutTriggeringChangeEvent(d),i._mainHelperSearch()}),c.on("change",function(f){var d=f.state;o.setState(d)}),i._searchFunction(c),a}}if(a.on("error",function(o){var c=o.error;c.error=c,i.emit("error",c)}),this.mainHelper=a,this.middleware.forEach(function(o){var c=o.instance;c.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var u=this.scheduleSearch;this.scheduleSearch=yt(N),yt(function(){i.scheduleSearch=u})()}else this.mainIndex.getWidgets().length>0&&this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(i){var a=i.instance;a.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var i=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){i._isSearchStalled=!0,i.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(i){if(!this.mainHelper)throw new Error(Ee("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var a=typeof i=="function"?i(this.mainIndex.getWidgetUiState({})):i,s=function u(o){var c=a[o.getIndexId()]||{};o.getHelper().setState(o.getWidgetSearchParameters(o.getHelper().state,{uiState:c})),o.getWidgets().filter(pt).forEach(u)};s(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.started)throw new Error(Ee("The `start` method needs to be called before `createURL`."));return this._createURL(i)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(Ee("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}]),r}(pn),ed=Xh;function td(e,t){if(e==null)return{};var r=rd(e,t),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function rd(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function ea(e){var t=e||{};t.page;var r=td(t,["page"]);return r}var Ir="ais.infiniteHits";function nd(){return{read:function(t){var r=t.state,n=Ue(function(a){var s=a.window;return s.sessionStorage});if(!n)return null;try{var i=JSON.parse(n.getItem(Ir));return i&&$t(i.state,ea(r))?i.hits:null}catch(a){if(a instanceof SyntaxError)try{n.removeItem(Ir)}catch{}return null}},write:function(t){var r=t.state,n=t.hits,i=Ue(function(a){var s=a.window;return s.sessionStorage});if(!!i)try{i.setItem(Ir,JSON.stringify({state:ea(r),hits:n}))}catch{}}}}var He=function(t){return new ed(t)};He.version=ss;He.createInfiniteHitsSessionStorageCache=gt(nd);He.highlight=gt(us);He.reverseHighlight=gt(cs);He.snippet=gt(os);He.reverseSnippet=gt(fs);He.insights=wa;He.getInsightsAnonymousUserToken=Xl;Object.defineProperty(He,"widgets",{get:function(){throw new ReferenceError(`"instantsearch.widgets" are not available from the ES build.

To import the widgets:

import { searchBox } from 'instantsearch.js/es/widgets'`)}});Object.defineProperty(He,"connectors",{get:function(){throw new ReferenceError(`"instantsearch.connectors" are not available from the ES build.

To import the connectors:

import { connectSearchBox } from 'instantsearch.js/es/connectors'`)}});var id=He,ad="4.4.0",vs=function(e){var t;return it(((t={mixins:[W({name:"InstantSearch"})],provide:function(){return{$_ais_instantSearchInstance:this.instantSearchInstance}},watch:{searchClient:function(r){this.instantSearchInstance.helper.setClient(r).search()},indexName:function(r){this.instantSearchInstance.helper.setIndex(r).search()},stalledSearchDelay:function(r){this.instantSearchInstance._stalledSearchDelay=r},routing:function(){throw new Error(`routing configuration can not be changed dynamically at this point.

Please open a new issue: https://github.com/algolia/vue-instantsearch/issues/new?template=feature.md`)},searchFunction:function(r){this.instantSearchInstance._searchFunction=r},middlewares:{immediate:!0,handler:function(r,n){var i=this;(n||[]).filter(function(a){return(r||[]).indexOf(a)===-1}).forEach(function(a){i.instantSearchInstance.unuse(a)}),(r||[]).filter(function(a){return(n||[]).indexOf(a)===-1}).forEach(function(a){i.instantSearchInstance.use(a)})}}},created:function(){var r=this.instantSearchInstance.client;typeof r.addAlgoliaAgent=="function"&&(r.addAlgoliaAgent("Vue ("+Rs+")"),r.addAlgoliaAgent("Vue InstantSearch ("+ad+")"))},mounted:function(){var r=this;this.$nextTick(function(){r.instantSearchInstance.started||r.instantSearchInstance.start()})}}).beforeUnmount=function(){this.instantSearchInstance.started&&this.instantSearchInstance.dispose(),this.instantSearchInstance.__initialSearchResults=void 0},t),e)},ta=`Vue InstantSearch: You used the prop api-key or app-id.
These have been replaced by search-client.

See more info here: https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-search-client`,sd=vs({name:"AisInstantSearch",props:{searchClient:{type:Object,required:!0},insightsClient:{type:Function,default:void 0},indexName:{type:String,required:!0},routing:{default:void 0,validator:function(e){return!(typeof e=="boolean"||!e.router&&!e.stateMapping)||(Ot("The `routing` option expects an object with `router` and/or `stateMapping`.\n\nSee https://www.algolia.com/doc/api-reference/widgets/instantsearch/vue/#widget-param-routing"),!1)}},stalledSearchDelay:{type:Number,default:void 0},searchFunction:{type:Function,default:void 0},initialUiState:{type:Object,default:void 0},apiKey:{type:String,default:void 0,validator:function(e){return e&&Ot(ta),!1}},appId:{type:String,default:void 0,validator:function(e){return e&&Ot(ta),!1}},middlewares:{type:Array,default:null}},data:function(){return{instantSearchInstance:id({searchClient:this.searchClient,insightsClient:this.insightsClient,indexName:this.indexName,routing:this.routing,stalledSearchDelay:this.stalledSearchDelay,searchFunction:this.searchFunction,initialUiState:this.initialUiState})}},render:_t(function(e){var t;return e("div",{class:(t={},t[this.suit()]=!0,t[this.suit("","ssr")]=!1,t)},ur(this))})});vs({name:"AisInstantSearchSsr",inject:{$_ais_ssrInstantSearchInstance:{default:function(){throw new Error("`createServerRootMixin` is required when using SSR.")}}},data:function(){return{instantSearchInstance:this.$_ais_ssrInstantSearchInstance}},render:_t(function(e){var t;return e("div",{class:(t={},t[this.suit()]=!0,t[this.suit("","ssr")]=!0,t)},ur(this))})});B({connector:Ec},{$$widgetType:"ais.infiniteHits"}),W({name:"InfiniteHits"});W({name:"Menu"}),B({connector:Oa},{$$widgetType:"ais.menu"}),ye({mapStateToCanRefine:function(e){return Boolean(e.canRefine)}});W({name:"MenuSelect"}),B({connector:Oa},{$$widgetType:"ais.menuSelect"}),ye({mapStateToCanRefine:function(e){return Boolean(e.canRefine)}});oe("See all");B({connector:qc},{$$widgetType:"ais.numericMenu"}),W({name:"NumericMenu"}),ye({mapStateToCanRefine:function(e){return e.hasNoResults===!1}});W({name:"Pagination"}),B({connector:eo},{$$widgetType:"ais.pagination"}),ye({mapStateToCanRefine:function(e){return e.nbPages>1}});W({name:"Panel"}),$l();W({name:"PoweredBy"});E("path",{fill:"#5468FF",d:"M78.99.94h16.6a2.97 2.97 0 0 1 2.96 2.96v16.6a2.97 2.97 0 0 1-2.97 2.96h-16.6a2.97 2.97 0 0 1-2.96-2.96V3.9A2.96 2.96 0 0 1 79 .94"},null,-1);E("path",{fill:"#FFF",d:"M89.63 5.97v-.78a.98.98 0 0 0-.98-.97h-2.28a.98.98 0 0 0-.97.97V6c0 .09.08.15.17.13a7.13 7.13 0 0 1 3.9-.02c.08.02.16-.04.16-.13m-6.25 1L83 6.6a.98.98 0 0 0-1.38 0l-.46.46a.97.97 0 0 0 0 1.38l.38.39c.06.06.15.04.2-.02a7.49 7.49 0 0 1 1.63-1.62c.07-.04.08-.14.02-.2m4.16 2.45v3.34c0 .1.1.17.2.12l2.97-1.54c.06-.03.08-.12.05-.18a3.7 3.7 0 0 0-3.08-1.87c-.07 0-.14.06-.14.13m0 8.05a4.49 4.49 0 1 1 0-8.98 4.49 4.49 0 0 1 0 8.98m0-10.85a6.37 6.37 0 1 0 0 12.74 6.37 6.37 0 0 0 0-12.74"},null,-1);W({name:"QueryRuleContext"}),B({connector:Za},{$$widgetType:"ais.queryRuleContext"});W({name:"QueryRuleCustomData"}),B({connector:Za},{$$widgetType:"ais.queryRuleCustomData"});var ra=function(e){return e&&Boolean(e.range)&&e.range.min!==e.range.max};W({name:"RangeInput"}),B({connector:so},{$$widgetType:"ais.rangeInput"}),ye({mapStateToCanRefine:ra});oe("to");oe("Go");W({name:"RatingMenu"}),B({connector:$o},{$$widgetType:"ais.ratingMenu"}),ye({mapStateToCanRefine:function(e){return e.hasNoResults===!1}});E("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},[E("symbol",{id:"ais-RatingMenu-starSymbol",viewBox:"0 0 24 24"},[E("path",{d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"})]),E("symbol",{id:"ais-RatingMenu-starEmptySymbol",viewBox:"0 0 24 24"},[E("path",{d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"})])],-1);E("use",{"xlink:href":"#ais-RatingMenu-starSymbol"},null,-1);E("use",{"xlink:href":"#ais-RatingMenu-starEmptySymbol"},null,-1);oe("& Up");var sr={name:"SearchInput",mixins:[W({name:"SearchBox"})],props:{placeholder:{type:String,default:"Search here\u2026"},autofocus:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!1},shouldShowLoadingIndicator:{type:Boolean,default:!1},submitTitle:{type:String,default:"Search"},resetTitle:{type:String,default:"Clear"},value:{type:String,required:!1,default:void 0},modelValue:{type:String,required:!1,default:void 0}},emits:["input","update:modelValue","blur","focus","reset"],data:function(){return{query:""}},methods:{onFormSubmit:function(){this.$refs.input.blur()},onFormReset:function(){this.$emit("input",""),this.$emit("update:modelValue",""),this.$emit("reset")}}},ud=E("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z",fillRule:"evenodd"},null,-1),cd=E("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z",fillRule:"evenodd"},null,-1),od=E("g",{fill:"none","fill-rule":"evenodd"},[E("g",{transform:"translate(1 1)","stroke-width":"2"},[E("circle",{"stroke-opacity":".5",cx:"18",cy:"18",r:"18"}),E("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[E("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})])])],-1);function fd(e,t,r,n,i,a){return C(),ae("form",{action:"",role:"search",novalidate:"",class:e.suit("form"),onSubmit:t[4]||(t[4]=Er(function(){for(var s=[],u=arguments.length;u--;)s[u]=arguments[u];return a.onFormSubmit&&a.onFormSubmit.apply(a,s)},["prevent"])),onReset:t[5]||(t[5]=Er(function(){for(var s=[],u=arguments.length;u--;)s[u]=arguments[u];return a.onFormReset&&a.onFormReset.apply(a,s)},["prevent"]))},[Oe(" :value/@input allows us to pass v-model to the component in v2 "),Oe(" :modelValue/@update:modelValue allows us to pass v-model to the component in v3 "),E("input",{type:"search",autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",required:"",maxlength:"512","aria-label":"Search",placeholder:r.placeholder,autofocus:r.autofocus,class:e.suit("input"),value:r.value||r.modelValue,onFocus:t[1]||(t[1]=function(s){return e.$emit("focus",s)}),onBlur:t[2]||(t[2]=function(s){return e.$emit("blur",s)}),onInput:t[3]||(t[3]=function(s){e.$emit("input",s.target.value),e.$emit("update:modelValue",s.target.value)}),ref:"input"},null,42,["placeholder","autofocus","value"]),E("button",{type:"submit",title:r.submitTitle,class:e.suit("submit"),hidden:r.showLoadingIndicator&&r.shouldShowLoadingIndicator},[we(e.$slots,"submit-icon",{},function(){return[(C(),ae("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 40 40",class:e.suit("submitIcon")},[ud],2))]})],10,["title","hidden"]),E("button",{type:"reset",title:r.resetTitle,class:e.suit("reset"),hidden:!r.value&&!r.modelValue||r.showLoadingIndicator&&r.shouldShowLoadingIndicator},[we(e.$slots,"reset-icon",{},function(){return[(C(),ae("svg",{role:"img",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 20 20",class:e.suit("resetIcon")},[cd],2))]})],10,["title","hidden"]),r.showLoadingIndicator?(C(),ae("span",{key:0,hidden:!r.shouldShowLoadingIndicator,class:e.suit("loadingIndicator")},[we(e.$slots,"loading-indicator",{},function(){return[(C(),ae("svg",{role:"img","aria-label":"Results are loading",width:"16",height:"16",xmlns:"http://www.w3.org/2000/svg",stroke:"#444",viewBox:"0 0 38 38",class:e.suit("loadingIcon")},[od],2))]})],10,["hidden"])):Oe("v-if",!0)],34)}sr.render=fd,sr.__file="src/components/SearchInput.vue";var ld=function(){};W({name:"RefinementList"}),B({connector:oo},{$$widgetType:"ais.refinementList"}),ye({mapStateToCanRefine:function(e){return Boolean(e.canRefine)}});function hd(e,t){return t===void 0&&(t=function(){}),function(r){return r===void 0&&(r={}),{init:function(n){var i=n.instantSearchInstance;e({state:void 0,results:void 0,instantSearchInstance:i,widgetParams:r},!0)},render:function(n){var i=n.results,a=n.instantSearchInstance,s=n.state,u=it({},i),o=it({},s);e({results:u,state:o,instantSearchInstance:a,widgetParams:r},!1)},dispose:function(){t()}}}}B({connector:hd},{$$widgetType:"ais.stateResults"}),W({name:"StateResults"});E("p",null," Use this component to have a different layout based on a certain state. ",-1);E("p",null," Fill in the slot, and get access to the following things: ",-1);var Xr={name:"AisSearchBox",mixins:[B({connector:mo},{$$widgetType:"ais.searchBox"}),W({name:"SearchBox"})],components:{SearchInput:sr},props:{placeholder:{type:String,default:"Search here\u2026"},autofocus:{type:Boolean,default:!1},showLoadingIndicator:{type:Boolean,default:!1},submitTitle:{type:String,default:"Search"},resetTitle:{type:String,default:"Clear"},value:{type:String,default:void 0},modelValue:{type:String,default:void 0}},data:function(){return{localValue:"",isVue2:Is,isVue3:Es}},computed:{isControlled:function(){return this.value!==void 0||this.modelValue!==void 0},model:function(){return this.value||this.modelValue},currentRefinement:{get:function(){return this.isControlled&&this.model!==this.localValue&&(this.localValue=this.model,this.$emit("input",this.model),this.$emit("update:modelValue",this.model),this.state.refine(this.model)),this.model||this.state.query||""},set:function(e){this.localValue=e,this.state.refine(e),this.isControlled&&(this.$emit("input",e),this.$emit("update:modelValue",e))}}}};function dd(e,t,r,n,i,a){var s=en("search-input");return e.state?(C(),ae("div",{key:0,class:e.suit()},[we(e.$slots,"default",{currentRefinement:a.currentRefinement,isSearchStalled:e.state.isSearchStalled,refine:e.state.refine},function(){return[E(s,{onFocus:t[1]||(t[1]=function(u){return e.$emit("focus",u)}),onBlur:t[2]||(t[2]=function(u){return e.$emit("blur",u)}),onReset:t[3]||(t[3]=function(u){return e.$emit("reset")}),placeholder:r.placeholder,autofocus:r.autofocus,"show-loading-indicator":r.showLoadingIndicator,"should-show-loading-indicator":e.state.isSearchStalled,"submit-title":r.submitTitle,"reset-title":r.resetTitle,"class-names":e.classNames,modelValue:a.currentRefinement,"onUpdate:modelValue":t[4]||(t[4]=function(u){return a.currentRefinement=u})},ws({default:je(function(){return[i.isVue2?we(e.$slots,"loading-indicator",{key:0,slot:"loading-indicator"}):Oe("v-if",!0),i.isVue2?we(e.$slots,"submit-icon",{key:1,slot:"submit-icon"}):Oe("v-if",!0),i.isVue2?we(e.$slots,"reset-icon",{key:2,slot:"reset-icon"}):Oe("v-if",!0)]}),_:2},[i.isVue3?{name:"loading-indicator",fn:je(function(){return[we(e.$slots,"loading-indicator")]})}:void 0,i.isVue3?{name:"submit-icon",fn:je(function(){return[we(e.$slots,"submit-icon")]})}:void 0,i.isVue3?{name:"reset-icon",fn:je(function(){return[we(e.$slots,"reset-icon")]})}:void 0]),1032,["placeholder","autofocus","show-loading-indicator","should-show-loading-indicator","submit-title","reset-title","class-names","modelValue"])]})],2)):Oe("v-if",!0)}Xr.render=dd,Xr.__file="src/components/SearchBox.vue";W({name:"Snippet"});W({name:"SortBy"}),B({connector:yo},{$$widgetType:"ais.sortBy"}),ye({mapStateToCanRefine:function(e){return e.hasNoResults===!1}});B({connector:To},{$$widgetType:"ais.stats"}),W({name:"Stats"});var na=function(e){return Boolean(e.value&&e.value.count)};W({name:"ToggleRefinement"}),B({connector:Lo},{$$widgetType:"ais.toggleRefinement"}),ye({mapStateToCanRefine:na});B({connector:wl},{$$widgetType:"ais.voiceSearch"}),W({name:"VoiceSearch"});E("line",{x1:"1",y1:"1",x2:"23",y2:"23"},null,-1);E("path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12M15 9.34V4a3 3 0 0 0-5.94-.6"},null,-1);E("path",{d:"M17 16.95A7 7 0 0 1 5 12v-2m14 0v2a7 7 0 0 1-.11 1.23"},null,-1);E("line",{x1:"12",y1:"19",x2:"12",y2:"23"},null,-1);E("line",{x1:"8",y1:"23",x2:"16",y2:"23"},null,-1);E("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"},null,-1);E("line",{x1:"12",y1:"19",x2:"12",y2:"23"},null,-1);E("line",{x1:"8",y1:"23",x2:"16",y2:"23"},null,-1);W({name:"RelevantSort"}),B({connector:jl},{$$widgetType:"ais.relevantSort"});var gd={name:"AisDynamicWidgets",mixins:[B({connector:Xa},{$$widgetType:"ais.dynamicWidgets"}),W({name:"DynamicWidgets"})],props:{transformItems:{type:Function,default:void 0},facets:{type:Array,default:void 0},maxValuesPerFacet:{type:Number,default:void 0}},render:_t(function(e){var t=this,r=new Map;if((ur(this)||[]).forEach(function(i){var a=function s(u){var o,c=u.props;if(c){if(c.attribute)return c.attribute;if(Array.isArray(c.attributes))return c.attributes[0]}if(o=u.children&&u.children.default&&u.children.default(),Array.isArray(o))return o.reduce(function(f,d){return f||s(d)},void 0)}(i);a&&r.set(a,e("div",{key:a,class:[t.suit("widget")]},[i]))}),!this.state){var n=[];return r.forEach(function(i){return n.push(i)}),e("div",it({class:[this.suit()]},{attrs:{hidden:!0}}),n)}return e("div",{class:[this.suit()]},this.state.attributesToRender.map(function(i){return r.get(i)}))}),computed:{widgetParams:function(){return{transformItems:this.transformItems,facets:this.facets,maxValuesPerFacet:this.maxValuesPerFacet,widgets:[]}}}};Object.assign({},gd,{name:"AisExperimentalDynamicWidgets",mounted:function(){Ot("Use AisDynamicWidgets instead of AisExperimentalDynamicWidgets.")}});const md=rn({__name:"Navbar",setup(e,{expose:t}){t();const r="docs",n=Ps(),i={...n,search(s){return s.every(({params:u})=>!u.query)?Promise.resolve({results:s.map(()=>({hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0}))}):n.search(s)}},a={indexName:r,algoliaClient:n,searchClient:i,Logo:xs,AisInstantSearch:sd,AisSearchBox:Xr,AisHits:zr};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}}),pd={class:"max-w-8xl mx-auto"},vd={class:"py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0"},yd={class:"relative flex items-center"},bd=he("h1",{class:"text-lg font-medium text-slate-50 align-top p-4"},"Couper Documentation",-1),Sd=he("div",{class:"box-border text-base"},[he("div",{class:"rounded-md bg-lime-500 p-0.5"},"edge")],-1),Rd={class:"hidden w-full lg:flex items-center text-sm pl-4"};function wd(e,t,r,n,i,a){const s=nn;return C(),X("header",pd,[he("div",vd,[he("div",yd,[E(n.Logo,{class:"box-border h-16 w-16 md:w-18 md:h-18 xl:w-22 xl:h-22"}),bd,Sd,he("div",Rd,[E(n.AisInstantSearch,{"index-name":n.indexName,"search-client":n.searchClient},{default:je(()=>[E(n.AisSearchBox,{class:"leading-6 rounded-md shadow-sm py-1.5 pl-2 pr-3"}),E(n.AisHits,{class:"absolute"},{item:je(({item:u})=>[E(s,{to:u.url,class:"text-sky-600"},{default:je(()=>[oe(Pe(u.name)+" "+Pe(u.description),1)]),_:2},1032,["to"])]),_:1})]),_:1})])])])])}var Pd=tn(md,[["render",wd]]);const Od=rn({__name:"SideNavbar",setup(e,{expose:t}){t();const r=Os(),i={route:r,activeStyle:function(a){const s="pl-2 border-l-2";return r.path===a?s+" border-sky-500 bg-sky-900 text-sky-200 rounded-r-md":s}};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),jd={key:0,class:"font-semibold text-lg text-gray-50"},xd={key:0,class:"pl-2"},Fd={class:"font-semibold text-gray-50"},_d={key:1,class:"text-base"};function $d(e,t,r,n,i,a){const s=nn,u=Fs;return C(),X("nav",null,[E(u,null,{default:je(({navigation:o})=>[(C(!0),X(Ge,null,Ze(o,c=>(C(),X("div",{key:c._path},[c.children!==void 0?(C(),X("div",jd,Pe(c.title),1)):Oe("",!0),(C(!0),X(Ge,null,Ze(c.children,f=>(C(),X("div",{key:f._path,class:"text-base pl-2"},[f.children?(C(),X("div",xd,[he("div",Fd,Pe(f.title),1),(C(!0),X(Ge,null,Ze(f.children,d=>(C(),X("div",{key:d._path,class:Sn(n.activeStyle(d._path))},[E(s,{to:d._path},{default:je(()=>[oe(Pe(d.title),1)]),_:2},1032,["to"])],2))),128))])):(C(),X("div",_d,[E(s,{to:f._path,class:Sn(n.activeStyle(f._path))},{default:je(()=>[oe(Pe(f.title),1)]),_:2},1032,["to","class"])]))]))),128))]))),128))]),_:1})])}var Id=tn(Od,[["render",$d]]);const Ed=rn({__name:"default",setup(e,{expose:t}){t();const{toc:r}=js(),n={toc:r,Navbar:Pd,SideNavbar:Id};return Object.defineProperty(n,"__isScriptSetup",{enumerable:!1,value:!0}),n}}),Ad={class:"antialiasing text-slate-500 bg-white"},Td=he("div",{class:"absolute z-20 top-0 inset-x-0 flex justify-center overflow-hidden pointer-events-none"},null,-1),Hd={class:"hidden lg:block fixed z-20 inset-0 pt-[7.56rem] left-0 right-auto w-[15rem] overflow-y-auto"},Dd={class:"max-w-8xl mx-auto sm:px-6"},Ld={class:"lg:pl-[17rem]"},Cd={class:"max-w-8xl pt-6 xl:max-w-none xl:ml-0 xl:mr-[15.5rem] xl:pr-16 relative z-100 mt-4 prose prose-slate prose-lg prose-code:bg-sky-100 prose-code:text-sky-900 prose-code:p-1 prose-code:rounded-md prose-code:text-sm prose-blockquote:bg-purple-100 prose-blockquote:rounded-md prose-a:text-sky-600 hover:prose-a:text-amber-500"},Wd=he("footer",{class:"text-sm leading-6 mt-12"},[he("p",null,"Copyright couper.io")],-1),Nd={key:0,class:"fixed z-20 top-[7.56rem] bottom-0 right-0 w-[19.5rem] py-8 px-6 overflow-y-auto hidden xl:block bg-slate-600 text-gray-400"},Md=he("h2",{class:"text-gray-100"},"On this Page",-1),Ud={key:0},Qd={key:0};function kd(e,t,r,n,i,a){const s=nn;return C(),X("div",Ad,[Td,E(n.Navbar,{class:"sticky top-0 z-40 w-full backdrop-blur flex-none transition-colors duration-500 lg:z-50 lg:border-b lg:border-slate-900/10 dark:border-slate-50/[0.06] bg-white supports-backdrop-blur:bg-white/95 dark:bg-slate-700/90"}),he("div",Hd,[E(n.SideNavbar,{class:"lg:text-sm lg:leading-6 bg-slate-600 text-gray-400 pl-4 pt-2"})]),he("div",Dd,[he("div",Ld,[he("main",Cd,[we(e.$slots,"default")]),Wd]),n.toc&&n.toc.links?(C(),X("nav",Nd,[Md,n.toc&&n.toc.links?(C(),X("ul",Ud,[(C(!0),X(Ge,null,Ze(n.toc.links,u=>(C(),X("li",{key:u.text},[E(s,{href:`#${u.id}`},{default:je(()=>[oe(Pe(u.text),1)]),_:2},1032,["href"]),u.children?(C(),X("ul",Qd,[(C(!0),X(Ge,null,Ze(u.children,o=>(C(),X("li",{key:o.id},[E(s,{class:"pl-2",href:`#${o.id}`},{default:je(()=>[oe(Pe(o.text),1)]),_:2},1032,["href"])]))),128))])):Oe("",!0)]))),128))])):Oe("",!0)])):Oe("",!0)])])}var zd=tn(Ed,[["render",kd]]);export{zd as default};
