{"_path":"/configuration/block/job","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Job (Beta)","description":"The beta_job block lets you define recurring requests or sequences with an given interval. The job runs at startup\nand for every interval and has an own log type: job which represents the starting point with an uid for tracing\npurposes.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"job-beta"},"children":[{"type":"text","value":"Job (Beta)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_job"}]},{"type":"text","value":" block lets you define recurring requests or sequences with an given interval. The job runs at startup\nand for every interval and has an own log type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"job"}]},{"type":"text","value":" which represents the starting point with an uid for tracing\npurposes."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_job"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/definitions"},"children":[{"type":"text","value":"Definitions Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"required"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"# ...\ndefinitions {\n  beta_job \"update_data\" {\n    # Execute once at the start of Couper and then every minute\n    interval = \"1m\"\n\n    request \"origin\" {\n      url             = \"/api/v1/exports/data\"\n      backend         = \"read\"\n    }\n\n    request \"update\" {\n      url     = \"/update\"\n      body    = backend_responses.origin.body\n      backend = \"write\"\n    }\n  }\n\n  backend \"read\" {\n    origin     = \"${env.MY_ORIGIN}\"\n    basic_auth = env.MY_AUTH\n  }\n\n  backend \"write\" {\n    origin = \"${env.ORIGIN_DATABASE}\"\n  }\n}\n","language":"hcl"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# ...\ndefinitions {\n  beta_job \"update_data\" {\n    # Execute once at the start of Couper and then every minute\n    interval = \"1m\"\n\n    request \"origin\" {\n      url             = \"/api/v1/exports/data\"\n      backend         = \"read\"\n    }\n\n    request \"update\" {\n      url     = \"/update\"\n      body    = backend_responses.origin.body\n      backend = \"write\"\n    }\n  }\n\n  backend \"read\" {\n    origin     = \"${env.MY_ORIGIN}\"\n    basic_auth = env.MY_AUTH\n  }\n\n  backend \"write\" {\n    origin = \"${env.ORIGIN_DATABASE}\"\n  }\n}\n"}]}]}]},{"type":"element","tag":"attributes","props":{":values":"[{\"default\":\"\",\"description\":\"Log fields for [custom logging](/observation/logging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Execution interval.\",\"name\":\"interval\",\"type\":\"duration\"}]"},"children":[]},{"type":"element","tag":"duration","props":{},"children":[]},{"type":"element","tag":"blocks","props":{":values":"[{\"description\":\"Configures a [request](/configuration/block/request) (zero or more).\",\"name\":\"request\"}]"},"children":[]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"job-beta"},"children":[{"type":"text","value":"Job (Beta)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_job"}]},{"type":"text","value":" block lets you define recurring requests or sequences with an given interval. The job runs at startup\nand for every interval and has an own log type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"job"}]},{"type":"text","value":" which represents the starting point with an uid for tracing\npurposes."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_job"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/definitions"},"children":[{"type":"text","value":"Definitions Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"required"}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"# ...\ndefinitions {\n  beta_job \"update_data\" {\n    # Execute once at the start of Couper and then every minute\n    interval = \"1m\"\n\n    request \"origin\" {\n      url             = \"/api/v1/exports/data\"\n      backend         = \"read\"\n    }\n\n    request \"update\" {\n      url     = \"/update\"\n      body    = backend_responses.origin.body\n      backend = \"write\"\n    }\n  }\n\n  backend \"read\" {\n    origin     = \"${env.MY_ORIGIN}\"\n    basic_auth = env.MY_AUTH\n  }\n\n  backend \"write\" {\n    origin = \"${env.ORIGIN_DATABASE}\"\n  }\n}\n","language":"hcl"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-325754"},"children":[{"type":"text","value":"# ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"definitions"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"beta_job"}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":" \"update_data\""}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-325754"},"children":[{"type":"text","value":"# Execute once at the start of Couper and then every minute"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"interval"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\"1m\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"request"}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":" \"origin\""}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"             "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\"/api/v1/exports/data\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"backend"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"         "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\"read\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"request"}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":" \"update\""}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\"/update\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"body"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"backend_responses"}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"origin"}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"body"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"backend"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\"write\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"backend"}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":" \"read\""}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"origin"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"     "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"MY_ORIGIN"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"basic_auth"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"MY_AUTH"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"backend"}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":" \"write\""}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"origin"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"${"}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"env"}]},{"type":"element","tag":"span","props":{"class":"ct-4f3ea5"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-29dd19"},"children":[{"type":"text","value":"ORIGIN_DATABASE"}]},{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a68d0e"},"children":[{"type":"text","value":"\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-5c35b1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc2c20"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"attributes","props":{":values":"[{\"default\":\"\",\"description\":\"Log fields for [custom logging](/observation/logging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Execution interval.\",\"name\":\"interval\",\"type\":\"duration\"}]"},"children":[]},{"type":"element","tag":"duration","props":{},"children":[]},{"type":"element","tag":"blocks","props":{":values":"[{\"description\":\"Configures a [request](/configuration/block/request) (zero or more).\",\"name\":\"request\"}]"},"children":[]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-4f3ea5{color:#D4D4D4}.ct-29dd19{color:#9CDCFE}.ct-a68d0e{color:#CE9178}.ct-5c35b1{color:#E6E6E6}.ct-fc2c20{color:#569CD6}.ct-325754{color:#6A9955}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"example","depth":2,"text":"Example"}]}},"_type":"markdown","_id":"content:2.configuration:4.block:job.md","_source":"content","_file":"2.configuration/4.block/job.md","_extension":"md"}