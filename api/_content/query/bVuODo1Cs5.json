[{"_path":"/configuration/error-handling","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Errors","description":"Handling different error types.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"errors"},"children":[{"type":"text","value":"Errors"}]},{"type":"element","tag":"h2","props":{"id":"introduction"},"children":[{"type":"text","value":"Introduction"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Errors can occur in various places: due to invalid client requests or problems on the backend and network side.\nCouper specifies some generic error categories (like "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"configuration"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":") to help you identify the occurring problems faster."}]},{"type":"element","tag":"h2","props":{"id":"error-messages"},"children":[{"type":"text","value":"Error messages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Error messages are only sent to the client as a summary.\nDetailed information is provided via log message. This way, all information can be viewed without accidentally revealing confidential information."}]},{"type":"element","tag":"h2","props":{"id":"access-control-error_handler"},"children":[{"type":"text","value":"Access control "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Access control errors in particular require special handling, e.g. sending a specific response for missing login credentials.\nFor this purpose every access control definition of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"oidc"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml2"}]},{"type":"text","value":" can define one or multiple "},{"type":"element","tag":"a","props":{"href":"/configuration/block/error_handler"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]},{"type":"text","value":" blocks"}]},{"type":"text","value":" with one or more defined error type labels listed below."}]},{"type":"element","tag":"h2","props":{"id":"permissions-related-error_handler"},"children":[{"type":"text","value":"Permissions related "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Required permissions are configured for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"api"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"endpoint"}]},{"type":"text","value":" blocks. So errors caused by insufficient permissions can be handled at API or endpoint levels."}]},{"type":"element","tag":"h2","props":{"id":"endpoint-related-error_handler"},"children":[{"type":"text","value":"Endpoint related "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint#endpoint-sequence"},"children":[{"type":"text","value":"sequence"}]},{"type":"text","value":", a simple "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" error can be handled in combination with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"expected_status"}]},{"type":"text","value":" attribute for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]},{"type":"text","value":"\nand "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block definitions and an "},{"type":"element","tag":"a","props":{"href":"/configuration/block/error_handler"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]},{"type":"text","value":" block"}]},{"type":"text","value":" with the "},{"type":"element","tag":"a","props":{"href":"#endpoint-error-types"},"children":[{"type":"text","value":"related"}]},{"type":"text","value":" type label."}]},{"type":"element","tag":"h2","props":{"id":"error-types"},"children":[{"type":"text","value":"Error types"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All errors have a specific type. You can find it in the log field "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_type"}]},{"type":"text","value":". Furthermore, errors can be associated with a list of less specific types. Your error handlers will be evaluated from the most to the least specific one. Only the first matching error handler is executed."}]},{"type":"element","tag":"h3","props":{"id":"access-control-error-types"},"children":[{"type":"text","value":"Access control error types"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following table documents error types that can be handled in the respective access control blocks ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_oauth2"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"oidc"}]},{"type":"text","value":"):"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type (and super types)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Default handling"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Access control related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"403"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"All "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth"}]},{"type":"text","value":" related errors, e.g. unknown user or wrong password."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"401"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WWW-Authenticate: Basic"}]},{"type":"text","value":" header."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth_credentials_missing"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Client does not provide any credentials."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"401"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"WWW-Authenticate: Basic"}]},{"type":"text","value":" header."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"All "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":" related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"401"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt_token_missing"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"No token provided with configured token source."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"401"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt_token_expired"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Given token is valid but expired."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"401"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt_token_invalid"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"The token is syntactically not a JWT, or not sufficient, e.g. because required claims are missing or have unexpected values."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"401"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml"}]},{"type":"text","value":" (or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml2"}]},{"type":"text","value":") ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"All "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml"}]},{"type":"text","value":" related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"403"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"oauth2"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"All "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_oauth2"}]},{"type":"text","value":"/"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"oidc"}]},{"type":"text","value":" related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"403"}]},{"type":"text","value":"."}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"api-error-types"},"children":[{"type":"text","value":"API error types"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following table documents error types that can be handled in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"api"}]},{"type":"text","value":" blocks:"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type (and super types)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Default handling"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"All catchable backend related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend_openapi_validation"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Backend request or response is invalid."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status code "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"400"}]},{"type":"text","value":" for invalid backend request or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":" for invalid backend response."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend_timeout"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A backend request timed out."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"504"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend_unhealthy"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A backend is unhealthy and will not send the request."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_backend_token_request"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A token request for the backend has failed."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Access control related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"403"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"insufficient_permissions"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"The permission required for the requested operation is not in the permissions granted to the requester."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"403"}]},{"type":"text","value":"."}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"endpoint-error-types"},"children":[{"type":"text","value":"Endpoint error types"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The following table documents error types that can be handled in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"endpoint"}]},{"type":"text","value":" blocks:"}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Type (and super types)"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Default handling"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"All catchable backend related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend_openapi_validation"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Backend request or response is invalid."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status code "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"400"}]},{"type":"text","value":" for invalid backend request or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":" for invalid backend response."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend_timeout"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A backend request timed out."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"504"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend_unhealthy"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A backend is unhealthy and will not send the request."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_backend_token_request"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A token request for the backend has failed."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Access control related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"403"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_backend_rate_limit_exceeded"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Backend rate limit related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"429"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"insufficient_permissions"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"The permission required for the requested operation is not in the permissions granted to the requester."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"403"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"endpoint"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"All catchable "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"endpoint"}]},{"type":"text","value":" related errors."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sequence"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"endpoint"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block request has been failed while depending on another one."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"unexpected_status"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"endpoint"}]},{"type":"text","value":")"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"A "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block response status code does not match the to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"expected_status"}]},{"type":"text","value":" list."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Send error template with status "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"502"}]},{"type":"text","value":"."}]}]}]}]}]},"_type":"markdown","_id":"content:2.configuration:7.error-handling.md","_source":"content","_file":"2.configuration/7.error-handling.md","_extension":"md"},{"_path":"/configuration/access-control","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Access Control","description":"List of configurable access control layer blocks.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"access-control"},"children":[{"type":"text","value":"Access Control"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The configuration of access controls is twofold in Couper: You define the particular\ntype such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth"}]},{"type":"text","value":" in "},{"type":"element","tag":"a","props":{"href":"/configuration/block/definitions"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definitions"}]}]},{"type":"text","value":", each with a distinct label\n(must not be one of the reserved names: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"granted_permissions"}]},{"type":"text","value":", "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"required_permission"}]},{"type":"text","value":")."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Anywhere in the "},{"type":"element","tag":"a","props":{"href":"/configuration/block/server"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" block"}]},{"type":"text","value":" those labels can be used in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":"\nlist to protect the respective block."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"📝 Access permissions are inherited by nested blocks."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can also disable access control for blocks with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"disable_access_control"}]},{"type":"text","value":": With "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"disable_access_control = [\"bar\"]"}]},{"type":"text","value":",\nthe "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"access_control"}]},{"type":"text","value":" named "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"bar"}]},{"type":"text","value":" will be disabled for the corresponding block context."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All access controls have an option to handle "},{"type":"element","tag":"a","props":{"href":"/configuration/error-handling#access-control-error_handler"},"children":[{"type":"text","value":"related errors"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"blocks"},"children":[{"type":"text","value":"Blocks"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/basic_auth"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"basic_auth"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/beta_oauth2"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beta_oauth2"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/jwt"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"jwt"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/oidc"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"oidc"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/saml"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"saml"}]}]}]}]}]},"_type":"markdown","_id":"content:2.configuration:9.access-control.md","_source":"content","_file":"2.configuration/9.access-control.md","_extension":"md"}]