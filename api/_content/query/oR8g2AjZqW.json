{"_path":"/configuration/block/proxy","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Proxy","description":"The proxy block creates and executes a proxy request to a backend service.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"proxy"},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block creates and executes a proxy request to a backend service."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"üìù Multiple "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"/configuration/block/request"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]}]},{"type":"text","value":" blocks are executed in parallel."}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"See "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Label"}]},{"type":"text","value":" description below."}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Label:"}]},{"type":"text","value":" If defined in an "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":", a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block or "},{"type":"element","tag":"a","props":{"href":"/configuration/block/request"},"children":[{"type":"text","value":"Request Block"}]},{"type":"text","value":" w/o a label has an implicit name "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"default\""}]},{"type":"text","value":". If defined in the "},{"type":"element","tag":"a","props":{"href":"/configuration/block/definitions"},"children":[{"type":"text","value":"Definitions Block"}]},{"type":"text","value":", the label of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" is used as reference in "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Blocks"}]},{"type":"text","value":" and the name can be defined via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" attribute. Only "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"one"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block or "},{"type":"element","tag":"a","props":{"href":"/configuration/block/request"},"children":[{"type":"text","value":"Request Block"}]},{"type":"text","value":" w/ label "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"default\""}]},{"type":"text","value":" per "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":" is allowed."}]},{"type":"element","tag":"attributes","props":{":values":"[{\"default\":\"\",\"description\":\"Key/value pairs to add form parameters to the upstream request body.\",\"name\":\"add_form_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to add query parameters to the upstream request URL.\",\"name\":\"add_query_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to add as request headers in the upstream request.\",\"name\":\"add_request_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to add as response headers in the client response.\",\"name\":\"add_response_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"References a [backend](/configuration/block/backend) in [definitions](/configuration/block/definitions) for the proxy request. Mutually exclusive with `backend` block.\",\"name\":\"backend\",\"type\":\"string\"},{\"default\":\"[]\",\"description\":\"If defined, the response status code will be verified against this list of codes. If the status code not included in this list an `unexpected_status` error will be thrown which can be handled with an [`error_handler`](/configuration/block/error_handler).\",\"name\":\"expected_status\",\"type\":\"tuple (int)\"},{\"default\":\"\\\"default\\\"\",\"description\":\"Defines the proxy request name. Allowed only in the [`definitions` block](/configuration/block/definitions).\",\"name\":\"name\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"List of names to remove form parameters from the upstream request body.\",\"name\":\"remove_form_params\",\"type\":\"object\"},{\"default\":\"[]\",\"description\":\"List of names to remove query parameters from the upstream request URL.\",\"name\":\"remove_query_params\",\"type\":\"tuple (string)\"},{\"default\":\"[]\",\"description\":\"List of names to remove headers from the upstream request.\",\"name\":\"remove_request_headers\",\"type\":\"tuple (string)\"},{\"default\":\"[]\",\"description\":\"List of names to remove headers from the client response.\",\"name\":\"remove_response_headers\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"Key/value pairs to set query parameters in the upstream request URL.\",\"name\":\"set_form_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to set query parameters in the upstream request URL.\",\"name\":\"set_query_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to set as request headers in the upstream request.\",\"name\":\"set_request_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to set as response headers in the client response.\",\"name\":\"set_response_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"URL of the resource to request. May be relative to an origin specified in a referenced or nested `backend` block.\",\"name\":\"url\",\"type\":\"string\"},{\"default\":\"false\",\"description\":\"Allows support for WebSockets. This attribute is only allowed in the \\\"default\\\" proxy block. Other `proxy` blocks, `request` blocks or `response` blocks are not allowed within the current `endpoint` block. Mutually exclusive with `websockets` block.\",\"name\":\"websockets\",\"type\":\"bool\"}]"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" attribute is specified and its value is an absolute URL, the protocol and host parts must be the same as in the value of the {origin} attribute of the used backend."}]},{"type":"element","tag":"blocks","props":{":values":"[{\"description\":\"Configures a [backend](/configuration/block/backend) for the proxy request (zero or one). Mutually exclusive with `backend` attribute.\",\"name\":\"backend\"},{\"description\":\"Configures support for [websockets](/configuration/block/websockets) connections (zero or one). Mutually exclusive with `websockets` attribute.\",\"name\":\"websockets\"}]"},"children":[]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"proxy"},"children":[{"type":"text","value":"Proxy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block creates and executes a proxy request to a backend service."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"üìù Multiple "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"/configuration/block/request"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]}]},{"type":"text","value":" blocks are executed in parallel."}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"See "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Label"}]},{"type":"text","value":" description below."}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Label:"}]},{"type":"text","value":" If defined in an "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":", a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block or "},{"type":"element","tag":"a","props":{"href":"/configuration/block/request"},"children":[{"type":"text","value":"Request Block"}]},{"type":"text","value":" w/o a label has an implicit name "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"default\""}]},{"type":"text","value":". If defined in the "},{"type":"element","tag":"a","props":{"href":"/configuration/block/definitions"},"children":[{"type":"text","value":"Definitions Block"}]},{"type":"text","value":", the label of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" is used as reference in "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Blocks"}]},{"type":"text","value":" and the name can be defined via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" attribute. Only "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"one"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]},{"type":"text","value":" block or "},{"type":"element","tag":"a","props":{"href":"/configuration/block/request"},"children":[{"type":"text","value":"Request Block"}]},{"type":"text","value":" w/ label "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"default\""}]},{"type":"text","value":" per "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":" is allowed."}]},{"type":"element","tag":"attributes","props":{":values":"[{\"default\":\"\",\"description\":\"Key/value pairs to add form parameters to the upstream request body.\",\"name\":\"add_form_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to add query parameters to the upstream request URL.\",\"name\":\"add_query_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to add as request headers in the upstream request.\",\"name\":\"add_request_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to add as response headers in the client response.\",\"name\":\"add_response_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"References a [backend](/configuration/block/backend) in [definitions](/configuration/block/definitions) for the proxy request. Mutually exclusive with `backend` block.\",\"name\":\"backend\",\"type\":\"string\"},{\"default\":\"[]\",\"description\":\"If defined, the response status code will be verified against this list of codes. If the status code not included in this list an `unexpected_status` error will be thrown which can be handled with an [`error_handler`](/configuration/block/error_handler).\",\"name\":\"expected_status\",\"type\":\"tuple (int)\"},{\"default\":\"\\\"default\\\"\",\"description\":\"Defines the proxy request name. Allowed only in the [`definitions` block](/configuration/block/definitions).\",\"name\":\"name\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"List of names to remove form parameters from the upstream request body.\",\"name\":\"remove_form_params\",\"type\":\"object\"},{\"default\":\"[]\",\"description\":\"List of names to remove query parameters from the upstream request URL.\",\"name\":\"remove_query_params\",\"type\":\"tuple (string)\"},{\"default\":\"[]\",\"description\":\"List of names to remove headers from the upstream request.\",\"name\":\"remove_request_headers\",\"type\":\"tuple (string)\"},{\"default\":\"[]\",\"description\":\"List of names to remove headers from the client response.\",\"name\":\"remove_response_headers\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"Key/value pairs to set query parameters in the upstream request URL.\",\"name\":\"set_form_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to set query parameters in the upstream request URL.\",\"name\":\"set_query_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to set as request headers in the upstream request.\",\"name\":\"set_request_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Key/value pairs to set as response headers in the client response.\",\"name\":\"set_response_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"URL of the resource to request. May be relative to an origin specified in a referenced or nested `backend` block.\",\"name\":\"url\",\"type\":\"string\"},{\"default\":\"false\",\"description\":\"Allows support for WebSockets. This attribute is only allowed in the \\\"default\\\" proxy block. Other `proxy` blocks, `request` blocks or `response` blocks are not allowed within the current `endpoint` block. Mutually exclusive with `websockets` block.\",\"name\":\"websockets\",\"type\":\"bool\"}]"},"children":[]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" attribute is specified and its value is an absolute URL, the protocol and host parts must be the same as in the value of the {origin} attribute of the used backend."}]},{"type":"element","tag":"blocks","props":{":values":"[{\"description\":\"Configures a [backend](/configuration/block/backend) for the proxy request (zero or one). Mutually exclusive with `backend` attribute.\",\"name\":\"backend\"},{\"description\":\"Configures support for [websockets](/configuration/block/websockets) connections (zero or one). Mutually exclusive with `websockets` attribute.\",\"name\":\"websockets\"}]"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:2.configuration:4.block:proxy.md","_source":"content","_file":"2.configuration/4.block/proxy.md","_extension":"md"}