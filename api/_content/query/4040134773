{"_path":"/configuration/block/request","_draft":false,"_partial":false,"_empty":false,"title":"Request","description":"The request block creates and executes a request to a backend service.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"request"},"children":[{"type":"text","value":"Request"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]},{"type":"text","value":" block creates and executes a request to a backend service."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"üìù Multiple "},{"type":"element","tag":"a","props":{"href":"proxy"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]},{"type":"text","value":" blocks are executed in parallel."}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Nested block(s)"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"‚ö† A "},{"type":"element","tag":"a","props":{"href":"proxy"},"children":[{"type":"text","value":"Proxy Block"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"request"},"children":[{"type":"text","value":"Request Block"}]},{"type":"text","value":" w/o a label has an implicit label "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"default\""}]},{"type":"text","value":". Only "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"one"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"proxy"},"children":[{"type":"text","value":"Proxy Block"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"request"},"children":[{"type":"text","value":"Request Block"}]},{"type":"text","value":" w/ label "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"default\""}]},{"type":"text","value":" per "},{"type":"element","tag":"a","props":{"href":"endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":" is allowed."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"backend"},"children":[{"type":"text","value":"Backend Block"}]},{"type":"text","value":" (‚ö† required, if no "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":" block reference is defined or no "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" attribute is set."}]}]}]}]},{"type":"element","tag":"attributes","props":{":values":"[{\"name\":\"backend\",\"type\":\"string\",\"default\":\"\",\"description\":\"`backend` block reference, defined in [`definitions`](definitions). Required, if no [`backend` block](backend) is defined within.\"},{\"name\":\"body\",\"type\":\"string\",\"default\":\"\",\"description\":\"plain text request body, implicitly sets `Content-Type: text/plain` header field.\"},{\"name\":\"expected_status\",\"type\":\"tuple (int)\",\"default\":\"[]\",\"description\":\"If defined, the response status code will be verified against this list of codes. If the status code is not included in this list an [`unexpected_status` error](../error-handling#endpoint-error-types) will be thrown which can be handled with an [`error_handler`](../error-handling#endpoint-related-error_handler).\"},{\"name\":\"form_body\",\"type\":\"string\",\"default\":\"\",\"description\":\"form request body, implicitly sets `Content-Type: application/x-www-form-urlencoded` header field.\"},{\"name\":\"headers\",\"type\":\"object\",\"default\":\"\",\"description\":\"request headers\"},{\"name\":\"json_body\",\"type\":\"string\",\"default\":\"\",\"description\":\"JSON request body, implicitly sets `Content-Type: application/json` header field.\"},{\"name\":\"method\",\"type\":\"string\",\"default\":\"\\\"GET\\\"\",\"description\":\"the request method\"},{\"name\":\"query_params\",\"type\":\"object\",\"default\":\"\",\"description\":\"Key/value pairs to set query parameters for this request\"},{\"name\":\"url\",\"type\":\"string\",\"default\":\"\",\"description\":\"If defined, the host part of the URL must be the same as the `origin` attribute of the used backend.\"}]"},"children":[]},{"type":"element","tag":"h3","props":{"id":"examples"},"children":[{"type":"text","value":"Examples"}]},{"type":"element","tag":"code","props":{"code":"request {\n  url = \"https://httpbin.org/anything\"\n  body = \"foo\"\n}\n","language":"hcl"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"request {\n  url = \"https://httpbin.org/anything\"\n  body = \"foo\"\n}\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/tree/master/custom-requests","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Sending requests"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/tree/master/sending-json","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Sending JSON"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/tree/master/sending-form","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Sending forms"}]}]}]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"request"},"children":[{"type":"text","value":"Request"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]},{"type":"text","value":" block creates and executes a request to a backend service."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"üìù Multiple "},{"type":"element","tag":"a","props":{"href":"proxy"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"proxy"}]}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]},{"type":"text","value":" blocks are executed in parallel."}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Nested block(s)"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"request"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"‚ö† A "},{"type":"element","tag":"a","props":{"href":"proxy"},"children":[{"type":"text","value":"Proxy Block"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"request"},"children":[{"type":"text","value":"Request Block"}]},{"type":"text","value":" w/o a label has an implicit label "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"default\""}]},{"type":"text","value":". Only "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"one"}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"proxy"},"children":[{"type":"text","value":"Proxy Block"}]},{"type":"text","value":" or "},{"type":"element","tag":"a","props":{"href":"request"},"children":[{"type":"text","value":"Request Block"}]},{"type":"text","value":" w/ label "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"default\""}]},{"type":"text","value":" per "},{"type":"element","tag":"a","props":{"href":"endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":" is allowed."}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"backend"},"children":[{"type":"text","value":"Backend Block"}]},{"type":"text","value":" (‚ö† required, if no "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"backend"}]},{"type":"text","value":" block reference is defined or no "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" attribute is set."}]}]}]}]},{"type":"element","tag":"attributes","props":{":values":"[{\"name\":\"backend\",\"type\":\"string\",\"default\":\"\",\"description\":\"`backend` block reference, defined in [`definitions`](definitions). Required, if no [`backend` block](backend) is defined within.\"},{\"name\":\"body\",\"type\":\"string\",\"default\":\"\",\"description\":\"plain text request body, implicitly sets `Content-Type: text/plain` header field.\"},{\"name\":\"expected_status\",\"type\":\"tuple (int)\",\"default\":\"[]\",\"description\":\"If defined, the response status code will be verified against this list of codes. If the status code is not included in this list an [`unexpected_status` error](../error-handling#endpoint-error-types) will be thrown which can be handled with an [`error_handler`](../error-handling#endpoint-related-error_handler).\"},{\"name\":\"form_body\",\"type\":\"string\",\"default\":\"\",\"description\":\"form request body, implicitly sets `Content-Type: application/x-www-form-urlencoded` header field.\"},{\"name\":\"headers\",\"type\":\"object\",\"default\":\"\",\"description\":\"request headers\"},{\"name\":\"json_body\",\"type\":\"string\",\"default\":\"\",\"description\":\"JSON request body, implicitly sets `Content-Type: application/json` header field.\"},{\"name\":\"method\",\"type\":\"string\",\"default\":\"\\\"GET\\\"\",\"description\":\"the request method\"},{\"name\":\"query_params\",\"type\":\"object\",\"default\":\"\",\"description\":\"Key/value pairs to set query parameters for this request\"},{\"name\":\"url\",\"type\":\"string\",\"default\":\"\",\"description\":\"If defined, the host part of the URL must be the same as the `origin` attribute of the used backend.\"}]"},"children":[]},{"type":"element","tag":"h3","props":{"id":"examples"},"children":[{"type":"text","value":"Examples"}]},{"type":"element","tag":"code","props":{"code":"request {\n  url = \"https://httpbin.org/anything\"\n  body = \"foo\"\n}\n","language":"hcl"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-012725"},"children":[{"type":"text","value":"request"}]},{"type":"element","tag":"span","props":{"class":"ct-755dc5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-012725"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-755dc5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a2fe27"},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"class":"ct-755dc5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67406f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-755dc5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81e8d1"},"children":[{"type":"text","value":"\"https://httpbin.org/anything\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-755dc5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a2fe27"},"children":[{"type":"text","value":"body"}]},{"type":"element","tag":"span","props":{"class":"ct-755dc5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-67406f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-755dc5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-81e8d1"},"children":[{"type":"text","value":"\"foo\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-012725"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/tree/master/custom-requests","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Sending requests"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/tree/master/sending-json","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Sending JSON"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/tree/master/sending-form","rel":["nofollow","noopener","noreferrer"],"target":"_blank"},"children":[{"type":"text","value":"Sending forms"}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-81e8d1{color:#CE9178}.ct-67406f{color:#D4D4D4}.ct-a2fe27{color:#9CDCFE}.ct-755dc5{color:#E6E6E6}.ct-012725{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"examples","depth":3,"text":"Examples"}]}},"_type":"markdown","_id":"content:2.configuration:4.block:request.md","_source":"content","_file":"2.configuration/4.block/request.md","_extension":"md"}