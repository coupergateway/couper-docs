{"_path":"/configuration/block/api","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"API","description":"The api block bundles endpoints under a certain base_path.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"api"},"children":[{"type":"text","value":"API"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"api"}]},{"type":"text","value":" block bundles endpoints under a certain "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"base_path"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If an error occurred for api endpoints the response gets processed\nas JSON error with an error body payload. This can be customized via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_file"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Nested block(s)"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"api"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/server"},"children":[{"type":"text","value":"Server Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Optional"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block(s)"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/cors"},"children":[{"type":"text","value":"CORS Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/error_handler"},"children":[{"type":"text","value":"Error Handler Block(s)"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"attribute-allowed_methods"},"children":[{"type":"text","value":"Attribute "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"allowed_methods"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default value "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" can be combined with additional methods. Methods are matched case-insensitively. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Access-Control-Allow-Methods"}]},{"type":"text","value":" is only sent in response to a "},{"type":"element","tag":"a","props":{"href":"/configuration/block/cors"},"children":[{"type":"text","value":"CORS"}]},{"type":"text","value":" preflight request, if the method requested by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Access-Control-Request-Method"}]},{"type":"text","value":" is an allowed method."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Example:"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"allowed_methods = [\"GET\", \"POST\"]"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"allowed_methods = [\"*\", \"BREW\"]"}]}]},{"type":"element","tag":"attributes","props":{":values":"[{\"default\":\"[]\",\"description\":\"Sets predefined [access control](/configuration/access-control) for this block.\",\"name\":\"access_control\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"key/value pairs to add as response headers in the client response\",\"name\":\"add_response_headers\",\"type\":\"object\"},{\"default\":\"*\",\"description\":\"Sets allowed methods as _default_ for all contained endpoints. Requests with a method that is not allowed result in an error response with a `405 Method Not Allowed` status.\",\"name\":\"allowed_methods\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"Configures the path prefix for all requests.\",\"name\":\"base_path\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Permission required to use this API (see [error type](/configuration/error-handling#error-types) `beta_insufficient_permissions`).\",\"name\":\"beta_required_permission\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"log fields for [custom logging](/observation/logging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"[]\",\"description\":\"Disables access controls by name.\",\"name\":\"disable_access_control\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"Location of the error file template.\",\"name\":\"error_file\",\"type\":\"string\"},{\"default\":\"[]\",\"description\":\"list of names to remove headers from the client response\",\"name\":\"remove_response_headers\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"key/value pairs to set as response headers in the client response\",\"name\":\"set_response_headers\",\"type\":\"object\"}]"},"children":[]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"api"},"children":[{"type":"text","value":"API"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"api"}]},{"type":"text","value":" block bundles endpoints under a certain "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"base_path"}]},{"type":"text","value":"."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If an error occurred for api endpoints the response gets processed\nas JSON error with an error body payload. This can be customized via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_file"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Nested block(s)"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"api"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/server"},"children":[{"type":"text","value":"Server Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"Optional"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block(s)"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/cors"},"children":[{"type":"text","value":"CORS Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/error_handler"},"children":[{"type":"text","value":"Error Handler Block(s)"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"attribute-allowed_methods"},"children":[{"type":"text","value":"Attribute "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"allowed_methods"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default value "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" can be combined with additional methods. Methods are matched case-insensitively. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Access-Control-Allow-Methods"}]},{"type":"text","value":" is only sent in response to a "},{"type":"element","tag":"a","props":{"href":"/configuration/block/cors"},"children":[{"type":"text","value":"CORS"}]},{"type":"text","value":" preflight request, if the method requested by "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Access-Control-Request-Method"}]},{"type":"text","value":" is an allowed method."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Example:"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"allowed_methods = [\"GET\", \"POST\"]"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"allowed_methods = [\"*\", \"BREW\"]"}]}]},{"type":"element","tag":"attributes","props":{":values":"[{\"default\":\"[]\",\"description\":\"Sets predefined [access control](/configuration/access-control) for this block.\",\"name\":\"access_control\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"key/value pairs to add as response headers in the client response\",\"name\":\"add_response_headers\",\"type\":\"object\"},{\"default\":\"*\",\"description\":\"Sets allowed methods as _default_ for all contained endpoints. Requests with a method that is not allowed result in an error response with a `405 Method Not Allowed` status.\",\"name\":\"allowed_methods\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"Configures the path prefix for all requests.\",\"name\":\"base_path\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Permission required to use this API (see [error type](/configuration/error-handling#error-types) `beta_insufficient_permissions`).\",\"name\":\"beta_required_permission\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"log fields for [custom logging](/observation/logging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"[]\",\"description\":\"Disables access controls by name.\",\"name\":\"disable_access_control\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"Location of the error file template.\",\"name\":\"error_file\",\"type\":\"string\"},{\"default\":\"[]\",\"description\":\"list of names to remove headers from the client response\",\"name\":\"remove_response_headers\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"key/value pairs to set as response headers in the client response\",\"name\":\"set_response_headers\",\"type\":\"object\"}]"},"children":[]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"attribute-allowed_methods","depth":3,"text":"Attribute allowed_methods"}]}},"_type":"markdown","_id":"content:2.configuration:4.block:api.md","_source":"content","_file":"2.configuration/4.block/api.md","_extension":"md"}