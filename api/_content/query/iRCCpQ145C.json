{"_path":"/configuration/block/error_handler","_draft":false,"_partial":false,"_locale":"en","_empty":false,"title":"Error Handler","description":"The error_handler block lets you configure the handling of errors thrown in components configured by the parent blocks.","excerpt":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"error-handler"},"children":[{"type":"text","value":"Error Handler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]},{"type":"text","value":" block lets you configure the handling of errors thrown in components configured by the parent blocks."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The error handler label specifies which "},{"type":"element","tag":"a","props":{"href":"/configuration/error-handling#error-types"},"children":[{"type":"text","value":"error type"}]},{"type":"text","value":" should be handled. Multiple labels are allowed. The label can be omitted to catch all relevant errors. This has the same behavior as the error type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"*"}]},{"type":"text","value":", that catches all errors explicitly."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Concerning child blocks and attributes, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]},{"type":"text","value":" block is similar to an "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":"."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Nested block(s)"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/api"},"children":[{"type":"text","value":"API Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/basic_auth"},"children":[{"type":"text","value":"Basic Auth Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/jwt"},"children":[{"type":"text","value":"JWT Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/oauth2"},"children":[{"type":"text","value":"OAuth2 AC Block (Beta)"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/oidc"},"children":[{"type":"text","value":"OIDC Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/saml"},"children":[{"type":"text","value":"SAML Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"optional"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/proxy"},"children":[{"type":"text","value":"Proxy Block(s)"}]},{"type":"text","value":",  "},{"type":"element","tag":"a","props":{"href":"/configuration/block/request"},"children":[{"type":"text","value":"Request Block(s)"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/response"},"children":[{"type":"text","value":"Response Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/error_handler"},"children":[{"type":"text","value":"Error Handler Block(s)"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"basic_auth \"ba\" {\n  # ...\n  error_handler \"basic_auth_credentials_missing\" {\n    response {\n      status = 403\n      json_body = {\n        error = \"forbidden\"\n      }\n    }\n  }\n}\n","language":"hcl"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"basic_auth \"ba\" {\n  # ...\n  error_handler \"basic_auth_credentials_missing\" {\n    response {\n      status = 403\n      json_body = {\n        error = \"forbidden\"\n      }\n    }\n  }\n}\n"}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/blob/master/error-handling-ba/README.md","rel":["nofollow"]},"children":[{"type":"text","value":"Error Handling for Access Controls"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"attributes","props":{":values":"[{\"default\":\"\",\"description\":\"key/value pairs to add form parameters to the upstream request body\",\"name\":\"add_form_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to add query parameters to the upstream request URL\",\"name\":\"add_query_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to add as request headers in the upstream request\",\"name\":\"add_request_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to add as response headers in the client response\",\"name\":\"add_response_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"log fields for [custom logging](/observation/logging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Location of the error file template.\",\"name\":\"error_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"[`proxy`](/configuration/block/proxy) block definition.\",\"name\":\"proxy\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"list of names to remove form parameters from the upstream request body\",\"name\":\"remove_form_params\",\"type\":\"object\"},{\"default\":\"[]\",\"description\":\"list of names to remove query parameters from the upstream request URL\",\"name\":\"remove_query_params\",\"type\":\"tuple (string)\"},{\"default\":\"[]\",\"description\":\"list of names to remove headers from the upstream request\",\"name\":\"remove_request_headers\",\"type\":\"tuple (string)\"},{\"default\":\"[]\",\"description\":\"list of names to remove headers from the client response\",\"name\":\"remove_response_headers\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"[`request`](/configuration/block/request) block definition.\",\"name\":\"request\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"[`response`](/configuration/block/response) block definition.\",\"name\":\"response\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to set query parameters in the upstream request URL\",\"name\":\"set_form_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to set query parameters in the upstream request URL\",\"name\":\"set_query_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to set as request headers in the upstream request\",\"name\":\"set_request_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to set as response headers in the client response\",\"name\":\"set_response_headers\",\"type\":\"object\"}]"},"children":[]}]},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"error-handler"},"children":[{"type":"text","value":"Error Handler"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]},{"type":"text","value":" block lets you configure the handling of errors thrown in components configured by the parent blocks."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The error handler label specifies which "},{"type":"element","tag":"a","props":{"href":"/configuration/error-handling#error-types"},"children":[{"type":"text","value":"error type"}]},{"type":"text","value":" should be handled. Multiple labels are allowed. The label can be omitted to catch all relevant errors. This has the same behavior as the error type "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"*"}]},{"type":"text","value":", that catches all errors explicitly."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Concerning child blocks and attributes, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]},{"type":"text","value":" block is similar to an "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":"."}]},{"type":"element","tag":"table","props":{},"children":[{"type":"element","tag":"thead","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Block name"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Context"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Label"}]},{"type":"element","tag":"th","props":{"align":"left"},"children":[{"type":"text","value":"Nested block(s)"}]}]}]},{"type":"element","tag":"tbody","props":{},"children":[{"type":"element","tag":"tr","props":{},"children":[{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"error_handler"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/api"},"children":[{"type":"text","value":"API Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/endpoint"},"children":[{"type":"text","value":"Endpoint Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/basic_auth"},"children":[{"type":"text","value":"Basic Auth Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/jwt"},"children":[{"type":"text","value":"JWT Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/oauth2"},"children":[{"type":"text","value":"OAuth2 AC Block (Beta)"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/oidc"},"children":[{"type":"text","value":"OIDC Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/saml"},"children":[{"type":"text","value":"SAML Block"}]}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"text","value":"optional"}]},{"type":"element","tag":"td","props":{"align":"left"},"children":[{"type":"element","tag":"a","props":{"href":"/configuration/block/proxy"},"children":[{"type":"text","value":"Proxy Block(s)"}]},{"type":"text","value":",  "},{"type":"element","tag":"a","props":{"href":"/configuration/block/request"},"children":[{"type":"text","value":"Request Block(s)"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/response"},"children":[{"type":"text","value":"Response Block"}]},{"type":"text","value":", "},{"type":"element","tag":"a","props":{"href":"/configuration/block/error_handler"},"children":[{"type":"text","value":"Error Handler Block(s)"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"basic_auth \"ba\" {\n  # ...\n  error_handler \"basic_auth_credentials_missing\" {\n    response {\n      status = 403\n      json_body = {\n        error = \"forbidden\"\n      }\n    }\n  }\n}\n","language":"hcl"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"basic_auth"}]},{"type":"element","tag":"span","props":{"class":"ct-53742b"},"children":[{"type":"text","value":" \"ba\""}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f9f00e"},"children":[{"type":"text","value":"# ..."}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"error_handler"}]},{"type":"element","tag":"span","props":{"class":"ct-53742b"},"children":[{"type":"text","value":" \"basic_auth_credentials_missing\""}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-c37165"},"children":[{"type":"text","value":"status"}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d1bf95"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-609024"},"children":[{"type":"text","value":"403"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-c37165"},"children":[{"type":"text","value":"json_body"}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d1bf95"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d1bf95"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-53742b"},"children":[{"type":"text","value":"\"forbidden\""}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"      }"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-eb6727"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"span","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-39c71e"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/avenga/couper-examples/blob/master/error-handling-ba/README.md","rel":["nofollow"]},"children":[{"type":"text","value":"Error Handling for Access Controls"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"attributes","props":{":values":"[{\"default\":\"\",\"description\":\"key/value pairs to add form parameters to the upstream request body\",\"name\":\"add_form_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to add query parameters to the upstream request URL\",\"name\":\"add_query_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to add as request headers in the upstream request\",\"name\":\"add_request_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to add as response headers in the client response\",\"name\":\"add_response_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"log fields for [custom logging](/observation/logging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Location of the error file template.\",\"name\":\"error_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"[`proxy`](/configuration/block/proxy) block definition.\",\"name\":\"proxy\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"list of names to remove form parameters from the upstream request body\",\"name\":\"remove_form_params\",\"type\":\"object\"},{\"default\":\"[]\",\"description\":\"list of names to remove query parameters from the upstream request URL\",\"name\":\"remove_query_params\",\"type\":\"tuple (string)\"},{\"default\":\"[]\",\"description\":\"list of names to remove headers from the upstream request\",\"name\":\"remove_request_headers\",\"type\":\"tuple (string)\"},{\"default\":\"[]\",\"description\":\"list of names to remove headers from the client response\",\"name\":\"remove_response_headers\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"[`request`](/configuration/block/request) block definition.\",\"name\":\"request\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"[`response`](/configuration/block/response) block definition.\",\"name\":\"response\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to set query parameters in the upstream request URL\",\"name\":\"set_form_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to set query parameters in the upstream request URL\",\"name\":\"set_query_params\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to set as request headers in the upstream request\",\"name\":\"set_request_headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"key/value pairs to set as response headers in the client response\",\"name\":\"set_response_headers\",\"type\":\"object\"}]"},"children":[]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-609024{color:#B5CEA8}.ct-d1bf95{color:#D4D4D4}.ct-c37165{color:#9CDCFE}.ct-f9f00e{color:#6A9955}.ct-eb6727{color:#E6E6E6}.ct-53742b{color:#CE9178}.ct-39c71e{color:#569CD6}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"example","depth":2,"text":"Example"}]}},"_type":"markdown","_id":"content:2.configuration:4.block:error_handler.md","_source":"content","_file":"2.configuration/4.block/error_handler.md","_extension":"md"}