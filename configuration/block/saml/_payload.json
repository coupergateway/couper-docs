[{"data":1,"prerenderedAt":413},["Reactive",2],{"content-query-A2MOnZ89WU":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":408,"_id":409,"_source":410,"_file":411,"_extension":412},"/configuration/block/saml","block",false,"","SAML","The saml block lets you configure the saml_sso_url() function and an access\ncontrol for a SAML Assertion Consumer Service (ACS) endpoint.\nLike all access control types, the saml block is defined in\nthe definitions block and can be referenced in all configuration blocks by its\nrequired label.",{"type":11,"children":12,"toc":405},"root",[13,21,87,89,147,154,168,310,315,328,394,399],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"saml",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,33,35,48,50,56,58,63,65,77,79,85],{"type":20,"value":26},"The ",{"type":14,"tag":28,"props":29,"children":31},"code",{"className":30},[],[32],{"type":20,"value":17},{"type":20,"value":34}," block lets you configure the ",{"type":14,"tag":36,"props":37,"children":39},"a",{"href":38},"/configuration/functions",[40,46],{"type":14,"tag":28,"props":41,"children":43},{"className":42},[],[44],{"type":20,"value":45},"saml_sso_url()",{"type":20,"value":47}," function",{"type":20,"value":49}," and an access\ncontrol for a SAML Assertion Consumer Service (ACS) endpoint.\nLike all ",{"type":14,"tag":36,"props":51,"children":53},{"href":52},"/configuration/access-control",[54],{"type":20,"value":55},"access control",{"type":20,"value":57}," types, the ",{"type":14,"tag":28,"props":59,"children":61},{"className":60},[],[62],{"type":20,"value":17},{"type":20,"value":64}," block is defined in\nthe ",{"type":14,"tag":36,"props":66,"children":68},{"href":67},"/configuration/block/definitions",[69,75],{"type":14,"tag":28,"props":70,"children":72},{"className":71},[],[73],{"type":20,"value":74},"definitions",{"type":20,"value":76}," block",{"type":20,"value":78}," and can be referenced in all configuration blocks by its\nrequired ",{"type":14,"tag":80,"props":81,"children":82},"em",{},[83],{"type":20,"value":84},"label",{"type":20,"value":86},".",{"type":20,"value":88},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":14,"tag":90,"props":91,"children":92},"table",{},[93,118],{"type":14,"tag":94,"props":95,"children":96},"thead",{},[97],{"type":14,"tag":98,"props":99,"children":100},"tr",{},[101,108,113],{"type":14,"tag":102,"props":103,"children":105},"th",{"align":104},"left",[106],{"type":20,"value":107},"Block name",{"type":14,"tag":102,"props":109,"children":110},{"align":104},[111],{"type":20,"value":112},"Context",{"type":14,"tag":102,"props":114,"children":115},{"align":104},[116],{"type":20,"value":117},"Label",{"type":14,"tag":119,"props":120,"children":121},"tbody",{},[122],{"type":14,"tag":98,"props":123,"children":124},{},[125,134,142],{"type":14,"tag":126,"props":127,"children":128},"td",{"align":104},[129],{"type":14,"tag":28,"props":130,"children":132},{"className":131},[],[133],{"type":20,"value":17},{"type":14,"tag":126,"props":135,"children":136},{"align":104},[137],{"type":14,"tag":36,"props":138,"children":139},{"href":67},[140],{"type":20,"value":141},"Definitions Block",{"type":14,"tag":126,"props":143,"children":144},{"align":104},[145],{"type":20,"value":146},"âš  required",{"type":14,"tag":148,"props":149,"children":151},"h2",{"id":150},"example",[152],{"type":20,"value":153},"Example",{"type":14,"tag":22,"props":155,"children":156},{},[157,159,167],{"type":20,"value":158},"A complete example can be found ",{"type":14,"tag":36,"props":160,"children":164},{"href":161,"rel":162},"https://github.com/coupergateway/couper-examples/tree/master/saml",[163],"nofollow",[165],{"type":20,"value":166},"here",{"type":20,"value":86},{"type":14,"tag":169,"props":170,"children":174},"pre",{"className":171,"code":172,"language":173,"meta":7,"style":7},"language-hcl shiki shiki-themes slack-dark","saml \"SSO\" {\n  idp_metadata_file = \"idp-metadata.xml\"\n  sp_entity_id = env.SP_ENTITY_ID\n  sp_acs_url = \"http://localhost:8080/saml/acs\"\n  array_attributes = [\"eduPersonAffiliation\"] # or [\"memberOf\"]\n}\n","hcl",[175],{"type":14,"tag":28,"props":176,"children":177},{"__ignoreMap":7},[178,201,222,249,267,301],{"type":14,"tag":179,"props":180,"children":183},"span",{"class":181,"line":182},"line",1,[184,189,195],{"type":14,"tag":179,"props":185,"children":187},{"style":186},"--shiki-default:#4EC9B0",[188],{"type":20,"value":17},{"type":14,"tag":179,"props":190,"children":192},{"style":191},"--shiki-default:#9CDCFE",[193],{"type":20,"value":194}," \"SSO\"",{"type":14,"tag":179,"props":196,"children":198},{"style":197},"--shiki-default:#E6E6E6",[199],{"type":20,"value":200}," {\n",{"type":14,"tag":179,"props":202,"children":204},{"class":181,"line":203},2,[205,210,216],{"type":14,"tag":179,"props":206,"children":207},{"style":191},[208],{"type":20,"value":209},"  idp_metadata_file ",{"type":14,"tag":179,"props":211,"children":213},{"style":212},"--shiki-default:#D4D4D4",[214],{"type":20,"value":215},"=",{"type":14,"tag":179,"props":217,"children":219},{"style":218},"--shiki-default:#CE9178",[220],{"type":20,"value":221}," \"idp-metadata.xml\"\n",{"type":14,"tag":179,"props":223,"children":225},{"class":181,"line":224},3,[226,231,235,240,244],{"type":14,"tag":179,"props":227,"children":228},{"style":191},[229],{"type":20,"value":230},"  sp_entity_id ",{"type":14,"tag":179,"props":232,"children":233},{"style":212},[234],{"type":20,"value":215},{"type":14,"tag":179,"props":236,"children":237},{"style":197},[238],{"type":20,"value":239}," env",{"type":14,"tag":179,"props":241,"children":242},{"style":212},[243],{"type":20,"value":86},{"type":14,"tag":179,"props":245,"children":246},{"style":191},[247],{"type":20,"value":248},"SP_ENTITY_ID\n",{"type":14,"tag":179,"props":250,"children":252},{"class":181,"line":251},4,[253,258,262],{"type":14,"tag":179,"props":254,"children":255},{"style":191},[256],{"type":20,"value":257},"  sp_acs_url ",{"type":14,"tag":179,"props":259,"children":260},{"style":212},[261],{"type":20,"value":215},{"type":14,"tag":179,"props":263,"children":264},{"style":218},[265],{"type":20,"value":266}," \"http://localhost:8080/saml/acs\"\n",{"type":14,"tag":179,"props":268,"children":270},{"class":181,"line":269},5,[271,276,280,285,290,295],{"type":14,"tag":179,"props":272,"children":273},{"style":191},[274],{"type":20,"value":275},"  array_attributes ",{"type":14,"tag":179,"props":277,"children":278},{"style":212},[279],{"type":20,"value":215},{"type":14,"tag":179,"props":281,"children":282},{"style":197},[283],{"type":20,"value":284}," [",{"type":14,"tag":179,"props":286,"children":287},{"style":218},[288],{"type":20,"value":289},"\"eduPersonAffiliation\"",{"type":14,"tag":179,"props":291,"children":292},{"style":197},[293],{"type":20,"value":294},"] ",{"type":14,"tag":179,"props":296,"children":298},{"style":297},"--shiki-default:#6A9955",[299],{"type":20,"value":300},"# or [\"memberOf\"]\n",{"type":14,"tag":179,"props":302,"children":304},{"class":181,"line":303},6,[305],{"type":14,"tag":179,"props":306,"children":307},{"style":197},[308],{"type":20,"value":309},"}\n",{"type":14,"tag":311,"props":312,"children":314},"attributes",{":values":313},"[{\"default\":\"[]\",\"description\":\"A list of assertion attributes that may have several values. Results in at least an empty array in `request.context.\u003Clabel>.attributes.\u003Cname>`\",\"name\":\"array_attributes\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"Log fields for [custom logging](/observation/logging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"File reference to the Identity Provider metadata XML file.\",\"name\":\"idp_metadata_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The URL of the Service Provider's ACS endpoint. Relative URL references are resolved against the origin of the current request URL. The origin can be changed with the [`accept_forwarded_url` attribute](/configuration/block/settings) if Couper is running behind a proxy.\",\"name\":\"sp_acs_url\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The Service Provider's entity ID.\",\"name\":\"sp_entity_id\",\"type\":\"string\"}]",[],{"type":14,"tag":22,"props":316,"children":317},{},[318,320,326],{"type":20,"value":319},"Some information from the assertion consumed at the ACS endpoint is provided in the context at ",{"type":14,"tag":28,"props":321,"children":323},{"className":322},[],[324],{"type":20,"value":325},"request.context.\u003Clabel>",{"type":20,"value":327},":",{"type":14,"tag":329,"props":330,"children":331},"ul",{},[332,362,382],{"type":14,"tag":333,"props":334,"children":335},"li",{},[336,338,344,346,352,354,360],{"type":20,"value":337},"the ",{"type":14,"tag":28,"props":339,"children":341},{"className":340},[],[342],{"type":20,"value":343},"NameID",{"type":20,"value":345}," of the assertion's ",{"type":14,"tag":28,"props":347,"children":349},{"className":348},[],[350],{"type":20,"value":351},"Subject",{"type":20,"value":353}," (",{"type":14,"tag":28,"props":355,"children":357},{"className":356},[],[358],{"type":20,"value":359},"request.context.\u003Clabel>.sub",{"type":20,"value":361},")",{"type":14,"tag":333,"props":363,"children":364},{},[365,367,373,375,381],{"type":20,"value":366},"the session expiry date ",{"type":14,"tag":28,"props":368,"children":370},{"className":369},[],[371],{"type":20,"value":372},"SessionNotOnOrAfter",{"type":20,"value":374}," (as UNIX timestamp: ",{"type":14,"tag":28,"props":376,"children":378},{"className":377},[],[379],{"type":20,"value":380},"request.context.\u003Clabel>.exp",{"type":20,"value":361},{"type":14,"tag":333,"props":383,"children":384},{},[385,387,393],{"type":20,"value":386},"the attributes (",{"type":14,"tag":28,"props":388,"children":390},{"className":389},[],[391],{"type":20,"value":392},"request.context.\u003Clabel>.attributes.\u003Cname>",{"type":20,"value":361},{"type":14,"tag":395,"props":396,"children":398},"blocks",{":values":397},"[{\"description\":\"Configures an [error handler](/configuration/block/error_handler) (zero or more).\",\"name\":\"error_handler\"}]",[],{"type":14,"tag":400,"props":401,"children":402},"style",{},[403],{"type":20,"value":404},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":203,"depth":203,"links":406},[407],{"id":150,"depth":203,"text":153},"markdown","content:2.configuration:4.block:saml.md","content","2.configuration/4.block/saml.md","md",1706888556859]