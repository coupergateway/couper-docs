[{"data":1,"prerenderedAt":351},["ShallowReactive",2],{"content-query-JNXVxPLArX":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":346,"_id":347,"_source":348,"_file":349,"_extension":350},"/configuration/block/oidc","block",false,"","OIDC","The oidc block lets you configure the oauth2_authorization_url() function and an access\ncontrol for an OIDC Authorization Code Grant Flow redirect endpoint.\nLike all access control types, the oidc block is defined in the definitions Block and can be referenced in all configuration blocks by its required label.",{"type":11,"children":12,"toc":343},"root",[13,21,95,97,155,179,215,220,262,306,334,338],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"oidc",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,33,35,48,50,56,58,64,66,71,73,85,87,93],{"type":20,"value":26},"The ",{"type":14,"tag":28,"props":29,"children":31},"code",{"className":30},[],[32],{"type":20,"value":17},{"type":20,"value":34}," block lets you configure the ",{"type":14,"tag":36,"props":37,"children":39},"a",{"href":38},"/configuration/functions",[40,46],{"type":14,"tag":28,"props":41,"children":43},{"className":42},[],[44],{"type":20,"value":45},"oauth2_authorization_url()",{"type":20,"value":47}," function",{"type":20,"value":49}," and an access\ncontrol for an OIDC ",{"type":14,"tag":51,"props":52,"children":53},"strong",{},[54],{"type":20,"value":55},"Authorization Code Grant Flow",{"type":20,"value":57}," redirect endpoint.\nLike all ",{"type":14,"tag":36,"props":59,"children":61},{"href":60},"/configuration/access-control",[62],{"type":20,"value":63},"access control",{"type":20,"value":65}," types, the ",{"type":14,"tag":28,"props":67,"children":69},{"className":68},[],[70],{"type":20,"value":17},{"type":20,"value":72}," block is defined in the ",{"type":14,"tag":36,"props":74,"children":76},{"href":75},"/configuration/block/definitions",[77,83],{"type":14,"tag":28,"props":78,"children":80},{"className":79},[],[81],{"type":20,"value":82},"definitions",{"type":20,"value":84}," Block",{"type":20,"value":86}," and can be referenced in all configuration blocks by its required ",{"type":14,"tag":88,"props":89,"children":90},"em",{},[91],{"type":20,"value":92},"label",{"type":20,"value":94},".",{"type":20,"value":96},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":14,"tag":98,"props":99,"children":100},"table",{},[101,126],{"type":14,"tag":102,"props":103,"children":104},"thead",{},[105],{"type":14,"tag":106,"props":107,"children":108},"tr",{},[109,116,121],{"type":14,"tag":110,"props":111,"children":113},"th",{"align":112},"left",[114],{"type":20,"value":115},"Block name",{"type":14,"tag":110,"props":117,"children":118},{"align":112},[119],{"type":20,"value":120},"Context",{"type":14,"tag":110,"props":122,"children":123},{"align":112},[124],{"type":20,"value":125},"Label",{"type":14,"tag":127,"props":128,"children":129},"tbody",{},[130],{"type":14,"tag":106,"props":131,"children":132},{},[133,142,150],{"type":14,"tag":134,"props":135,"children":136},"td",{"align":112},[137],{"type":14,"tag":28,"props":138,"children":140},{"className":139},[],[141],{"type":20,"value":17},{"type":14,"tag":134,"props":143,"children":144},{"align":112},[145],{"type":14,"tag":36,"props":146,"children":147},{"href":75},[148],{"type":20,"value":149},"Definitions Block",{"type":14,"tag":134,"props":151,"children":152},{"align":112},[153],{"type":20,"value":154},"âš  required",{"type":14,"tag":156,"props":157,"children":158},"blockquote",{},[159],{"type":14,"tag":22,"props":160,"children":161},{},[162,164,170,172,178],{"type":20,"value":163},"any ",{"type":14,"tag":28,"props":165,"children":167},{"className":166},[],[168],{"type":20,"value":169},"backend",{"type":20,"value":171}," attributes: Do not disable the peer certificate validation with ",{"type":14,"tag":28,"props":173,"children":175},{"className":174},[],[176],{"type":20,"value":177},"disable_certificate_validation = true",{"type":20,"value":94},{"type":14,"tag":22,"props":180,"children":181},{},[182,184,190,192,198,200,206,208,214],{"type":20,"value":183},"A nested ",{"type":14,"tag":28,"props":185,"children":187},{"className":186},[],[188],{"type":20,"value":189},"jwt_signing_profile",{"type":20,"value":191}," block is used to create a client assertion if ",{"type":14,"tag":28,"props":193,"children":195},{"className":194},[],[196],{"type":20,"value":197},"token_endpoint_auth_method",{"type":20,"value":199}," is either ",{"type":14,"tag":28,"props":201,"children":203},{"className":202},[],[204],{"type":20,"value":205},"\"client_secret_jwt\"",{"type":20,"value":207}," or ",{"type":14,"tag":28,"props":209,"children":211},{"className":210},[],[212],{"type":20,"value":213},"\"private_key_jwt\"",{"type":20,"value":94},{"type":14,"tag":216,"props":217,"children":219},"attributes",{":values":218},"[{\"default\":\"\",\"description\":\"References a default [backend](/configuration/block/backend) in [definitions](/configuration/block/definitions) for OpenID configuration, JWKS, token and userinfo requests. Mutually exclusive with `backend` block.\",\"name\":\"backend\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The client identifier.\",\"name\":\"client_id\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The client password. Required unless `token_endpoint_auth_method` is `\\\"private_key_jwt\\\"`.\",\"name\":\"client_secret\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"References a [backend](/configuration/block/backend) in [definitions](/configuration/block/definitions) for OpenID configuration requests.\",\"name\":\"configuration_backend\",\"type\":\"string\"},{\"default\":\"\\\"1h\\\"\",\"description\":\"Duration a cached OpenID configuration stays valid after its TTL has passed.\",\"name\":\"configuration_max_stale\",\"type\":\"duration\"},{\"default\":\"\\\"1h\\\"\",\"description\":\"The duration to cache the OpenID configuration located at `configuration_url`.\",\"name\":\"configuration_ttl\",\"type\":\"duration\"},{\"default\":\"\",\"description\":\"The OpenID configuration URL.\",\"name\":\"configuration_url\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Log fields for [custom logging](/observation/logging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"\\\"1h\\\"\",\"description\":\"Time period the cached JWK set stays valid after its TTL has passed.\",\"name\":\"jwks_max_stale\",\"type\":\"duration\"},{\"default\":\"\\\"1h\\\"\",\"description\":\"Time period the JWK set stays valid and may be cached.\",\"name\":\"jwks_ttl\",\"type\":\"duration\"},{\"default\":\"\",\"description\":\"References a [backend](/configuration/block/backend) in [definitions](/configuration/block/definitions) for JWKS requests.\",\"name\":\"jwks_uri_backend\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The Couper endpoint for receiving the authorization code. Relative URL references are resolved against the origin of the current request URL. The origin can be changed with the [`accept_forwarded_url` attribute](/configuration/block/settings) if Couper is running behind a proxy.\",\"name\":\"redirect_uri\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"A space separated list of requested scope values for the access token.\",\"name\":\"scope\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"References a [backend](/configuration/block/backend) in [definitions](/configuration/block/definitions) for token requests.\",\"name\":\"token_backend\",\"type\":\"string\"},{\"default\":\"\\\"client_secret_basic\\\"\",\"description\":\"Defines the method to authenticate the client at the token endpoint. If set to `\\\"client_secret_post\\\"`, the client credentials are transported in the request body. If set to `\\\"client_secret_basic\\\"`, the client credentials are transported via Basic Authentication. If set to `\\\"client_secret_jwt\\\"`, the client is authenticated via a JWT signed with the `client_secret`. If set to `\\\"private_key_jwt\\\"`, the client is authenticated via a JWT signed with its private key (see `jwt_signing_profile` block).\",\"name\":\"token_endpoint_auth_method\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"References a [backend](/configuration/block/backend) in [definitions](/configuration/block/definitions) for userinfo requests.\",\"name\":\"userinfo_backend\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The method to verify the integrity of the authorization code flow.\",\"name\":\"verifier_method\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The value of the (unhashed) verifier.\",\"name\":\"verifier_value\",\"type\":\"string\"}]",[],{"type":14,"tag":22,"props":221,"children":222},{},[223,225,230,232,238,240,246,247,253,254,260],{"type":20,"value":224},"In most cases, referencing one ",{"type":14,"tag":28,"props":226,"children":228},{"className":227},[],[229],{"type":20,"value":169},{"type":20,"value":231}," (backend attribute) for all the backend requests sent by the OIDC client is enough.\nYou should only use ",{"type":14,"tag":28,"props":233,"children":235},{"className":234},[],[236],{"type":20,"value":237},"configuration_backend",{"type":20,"value":239},", ",{"type":14,"tag":28,"props":241,"children":243},{"className":242},[],[244],{"type":20,"value":245},"jwks_uri_backend",{"type":20,"value":239},{"type":14,"tag":28,"props":248,"children":250},{"className":249},[],[251],{"type":20,"value":252},"token_backend",{"type":20,"value":207},{"type":14,"tag":28,"props":255,"children":257},{"className":256},[],[258],{"type":20,"value":259},"userinfo_backend",{"type":20,"value":261}," if you need to configure a specific behaviour for the respective request (e.g. timeouts).",{"type":14,"tag":22,"props":263,"children":264},{},[265,267,273,275,281,283,289,291,297,298,304],{"type":20,"value":266},"If the OpenID server supports the ",{"type":14,"tag":28,"props":268,"children":270},{"className":269},[],[271],{"type":20,"value":272},"code_challenge_method",{"type":20,"value":274}," ",{"type":14,"tag":28,"props":276,"children":278},{"className":277},[],[279],{"type":20,"value":280},"S256",{"type":20,"value":282}," the default value for ",{"type":14,"tag":28,"props":284,"children":286},{"className":285},[],[287],{"type":20,"value":288},"verifier_method",{"type":20,"value":290},"is ",{"type":14,"tag":28,"props":292,"children":294},{"className":293},[],[295],{"type":20,"value":296},"\"ccm_s256\"",{"type":20,"value":239},{"type":14,"tag":28,"props":299,"children":301},{"className":300},[],[302],{"type":20,"value":303},"\"nonce\"",{"type":20,"value":305}," otherwise.",{"type":14,"tag":22,"props":307,"children":308},{},[309,311,317,319,325,327,333],{"type":20,"value":310},"The HTTP header field ",{"type":14,"tag":28,"props":312,"children":314},{"className":313},[],[315],{"type":20,"value":316},"Accept: application/json",{"type":20,"value":318}," is automatically added to the token request. This can be modified with ",{"type":14,"tag":36,"props":320,"children":322},{"href":321},"/configuration/modifiers#request-header",[323],{"type":20,"value":324},"request header modifiers",{"type":20,"value":326}," in a ",{"type":14,"tag":36,"props":328,"children":330},{"href":329},"/configuration/block/backend",[331],{"type":20,"value":332},"backend block",{"type":20,"value":94},{"type":14,"tag":335,"props":336,"children":337},"duration",{},[],{"type":14,"tag":339,"props":340,"children":342},"blocks",{":values":341},"[{\"description\":\"Configures a default [backend](/configuration/block/backend) for OpenID configuration, JWKS, token and userinfo requests. Mutually exclusive with `backend` attribute.\",\"name\":\"backend\"},{\"description\":\"Configures an [error handler](/configuration/block/error_handler) (zero or more).\",\"name\":\"error_handler\"},{\"description\":\"Configures a [JWT signing profile](/configuration/block/jwt_signing_profile) to create a client assertion if `token_endpoint_auth_method` is either `\\\"client_secret_jwt\\\"` or `\\\"private_key_jwt\\\"`.\",\"name\":\"jwt_signing_profile\"}]",[],{"title":7,"searchDepth":344,"depth":344,"links":345},2,[],"markdown","content:2.configuration:4.block:oidc.md","content","2.configuration/4.block/oidc.md","md",1738423150053]