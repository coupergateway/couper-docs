<!DOCTYPE html>
<html  data-head-attrs="">

<head >
  <title>OAuth2</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="prefetch" href="/api/_content/navigation"><link rel="prefetch" href="/api/_content/query/3370781494"><link rel="prefetch" href="/api/_content/query/565608175"><link rel="prefetch" href="/api/_content/navigation"><link rel="prefetch" href="/api/_content/query/3370781494"><meta name="description" content="The oauth2 block in the Backend Block context configures an OAuth2 flow to request a bearer token for the backend request."><meta name="head:count" content="8"><link rel="modulepreload" href="/_nuxt/entry-ba1a0aa6.mjs" as="script" crossorigin><link rel="preload" href="/_nuxt/entry.29001c9f.css" as="style"><link rel="modulepreload" href="/_nuxt/default-2bc349f0.mjs" as="script" crossorigin><link rel="preload" href="/_nuxt/default.240fb674.css" as="style"><link rel="modulepreload" href="/_nuxt/Logo-cd51533d.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ContentNavigation-36bb5427.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/_...slug_-18ad947f.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseH1-e1d78fad.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseP-6e6fc6e9.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseCodeInline-da8a1c90.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseA-92c1578e.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseStrong-9bb5f1d2.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseTable-20efe070.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseThead-02a737b3.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseTr-cdba50f5.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseTh-38f1fb0c.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseTbody-18763c2f.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/ProseTd-d19b4eaf.mjs" as="script" crossorigin><link rel="modulepreload" href="/_nuxt/Attributes-b64da1d1.mjs" as="script" crossorigin><link rel="prefetch" as="script" href="/_nuxt/Duration-fb4f1f29.mjs"><link rel="prefetch" as="script" href="/_nuxt/ContentList-e9534ac2.mjs"><link rel="prefetch" as="script" href="/_nuxt/Markdown-dd73dda4.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseBlockquote-75b57fe0.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseCode-3309d006.mjs"><link rel="prefetch stylesheet" href="/_nuxt/ProseCode.c12da1e5.css"><link rel="prefetch" as="script" href="/_nuxt/ProseEm-a0286549.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseH2-9ef6cddf.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseH3-3e9ad0e6.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseH4-78bc5ceb.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseH5-f51dbb2e.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseH6-e16ec06f.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseHr-e7a210f8.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseImg-969da938.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseLi-f94036c1.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseOl-2a069106.mjs"><link rel="prefetch" as="script" href="/_nuxt/ProseUl-6e5f4925.mjs"><link rel="prefetch" as="script" href="/_nuxt/document-driven-e019d52f.mjs"><link rel="prefetch" as="script" href="/_nuxt/algoliasearch-lite.esm.browser-bedf3355.mjs"><link rel="prefetch" as="script" href="/_nuxt/algoliasearch.esm.browser-4b0994bc.mjs"><link rel="prefetch" as="script" href="/_nuxt/recommend.esm.browser-416aafe6.mjs"><link rel="prefetch" as="script" href="/_nuxt/web-socket-1d00fd3d.mjs"><link rel="stylesheet" href="/_nuxt/entry.29001c9f.css"><link rel="stylesheet" href="/_nuxt/default.240fb674.css">
</head>

<body  data-head-attrs="">
  <div id="__nuxt"><div class="antialiasing text-slate-500 bg-white"><div class="absolute z-20 top-0 inset-x-0 flex justify-center overflow-hidden pointer-events-none"></div><header class="max-w-8xl mx-auto sticky top-0 z-40 w-full backdrop-blur flex-none transition-colors duration-500 lg:z-50 lg:border-b lg:border-slate-900/10 dark:border-slate-50/[0.06] bg-white supports-backdrop-blur:bg-white/95 dark:bg-slate-700/90"><div class="py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0"><div class="relative flex items-center"><svg width="30%" height="30%" viewbox="0 0 152 165" xmlns="http://www.w3.org/2000/svg" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="box-border h-16 w-16 md:w-18 md:h-18 xl:w-22 xl:h-22"><g id="Page-1"><g id="Desktop-HD-Copy"><g id="couper-4"><g id="Group-39"><g id="Layer1"><path d="M15,116c0,0 -6.651,-73.835 61,-74c65.001,-0.158 62,74 62,74c0,0 -58.325,18.728 -123,0Z" style="fill:#fff;"></path></g><path id="Fill-2" d="M87.395,42.775c-3.714,-0.699 -7.537,-1.106 -11.457,-1.106c-33.907,-0 -61.394,27.439 -61.394,61.286l-0,11.331l22.913,6.435l-0,-17.766c-0,-29.935 21.511,-54.818 49.938,-60.18" style="fill:#e3e4e4;"></path><path id="Path" d="M97.262,0.364l-8.564,14.806l-8.479,-14.806l-8.569,14.821l-8.537,-14.806l-8.569,14.812l-2.537,-4.38l-12.157,0l0,6.029l8.669,0l6.025,10.408l8.557,-14.797l8.54,14.806l8.551,-14.791l8.479,14.803l8.564,-14.803l2.533,4.422l10.107,0l-0,-6.028l-6.604,-0l-6.009,-10.496Z" style="fill:#65b32e;"></path><path id="Fill-12" d="M40.784,15.473c1.062,-3.264 -0.732,-6.771 -4.002,-7.827c-3.27,-1.056 -6.778,0.731 -7.84,3.999c-1.059,3.26 0.736,6.766 4.001,7.823c3.274,1.056 6.783,-0.731 7.841,-3.995" style="fill:#fff;"></path><path id="Fill-121" serif:id="Fill-12" d="M122.784,15.473c1.062,-3.264 -0.732,-6.771 -4.002,-7.827c-3.27,-1.056 -6.778,0.731 -7.84,3.999c-1.059,3.26 0.736,6.766 4.001,7.823c3.274,1.056 6.783,-0.731 7.841,-3.995" style="fill:#fff;"></path><path id="Fill-4" d="M17.565,114.748l-0,-11.795c-0,-32.129 26.186,-58.269 58.372,-58.269c32.189,0 58.375,26.14 58.375,58.269l-0,11.756c-6.208,1.724 -26.413,6.514 -59.115,6.514c-32.536,-0 -51.711,-4.742 -57.632,-6.475m12.942,-101.15c-0,-2.43 1.978,-4.404 4.412,-4.404c2.433,0 4.411,1.974 4.411,4.404c0,2.429 -1.978,4.404 -4.411,4.404c-2.434,-0 -4.412,-1.975 -4.412,-4.404m81.771,-0c-0,-2.43 1.981,-4.404 4.415,-4.404c2.433,0 4.411,1.974 4.411,4.404c0,2.429 -1.978,4.404 -4.411,4.404c-2.434,-0 -4.415,-1.975 -4.415,-4.404m7.621,42.492l0,-32.614c4.189,-1.363 7.244,-5.251 7.244,-9.878c0,-5.751 -4.689,-10.433 -10.45,-10.433c-5.765,0 -10.454,4.682 -10.454,10.433c-0,4.765 3.237,8.75 7.621,9.992l0,27.506c-10.653,-7.786 -23.737,-12.44 -37.923,-12.44c-14.183,-0 -27.267,4.654 -37.92,12.44l-0,-27.587c4.245,-1.326 7.352,-5.245 7.352,-9.911c0,-5.751 -4.689,-10.433 -10.45,-10.433c-5.762,0 -10.451,4.682 -10.451,10.433c-0,4.726 3.185,8.681 7.509,9.959l0,32.533c-12.552,11.741 -20.451,28.38 -20.451,46.863l-0,49.187l6.039,0l-0,-31.113c5.628,1.54 17.175,4.105 34.846,5.408l-0.021,25.702l6.039,0.006l0.021,-25.332c5.146,0.272 10.69,0.441 16.747,0.441c6.58,-0 12.601,-0.199 18.169,-0.513l-0.018,25.398l6.039,0.006l0.021,-25.802c17.532,-1.353 29.236,-3.888 34.904,-5.377l-0,31.176l6.039,0l0,-49.187c0,-18.483 -7.899,-35.122 -20.452,-46.863" style="fill:#1a1b1c;"></path><path id="Fill-6" d="M82.703,87.309c-0,7.479 6.072,13.54 13.564,13.54c7.492,0 13.561,-6.061 13.561,-13.54c0,-7.475 -6.069,-13.54 -13.561,-13.54c-7.492,0 -13.564,6.065 -13.564,13.54" style="fill:#3ea1c1;"></path><path id="Fill-8" d="M96.266,76.784c-5.813,0 -10.544,4.721 -10.544,10.526c-0,5.803 4.731,10.526 10.544,10.526c5.813,0 10.545,-4.723 10.545,-10.526c-0,-5.805 -4.732,-10.526 -10.545,-10.526m0,27.081c-9.143,-0 -16.584,-7.425 -16.584,-16.555c0,-9.127 7.441,-16.554 16.584,-16.554c9.143,-0 16.584,7.427 16.584,16.554c-0,9.13 -7.441,16.555 -16.584,16.555" style="fill:#1a1b1c;"></path><path id="Fill-10" d="M100.992,87.309c-0,-2.604 -2.117,-4.714 -4.726,-4.714c-2.609,-0 -4.723,2.11 -4.723,4.714c0,2.605 2.114,4.718 4.723,4.718c2.609,-0 4.726,-2.113 4.726,-4.718" style="fill:#1a1b1c;"></path><path id="Fill-122" serif:id="Fill-12" d="M104.858,82.514c0.806,-2.478 -0.556,-5.139 -3.038,-5.941c-2.482,-0.802 -5.145,0.555 -5.952,3.035c-0.803,2.475 0.559,5.137 3.038,5.938c2.485,0.802 5.149,-0.554 5.952,-3.032" style="fill:#fff;"></path><path id="Fill-14" d="M28.878,164.681l-6.039,0l-0,-3.014c-0,-4.612 -3.756,-8.361 -8.373,-8.361c-4.62,-0 -8.377,3.749 -8.377,8.361l0,3.014l-6.039,0l-0,-3.014c-0,-7.933 6.468,-14.39 14.416,-14.39c7.944,-0 14.412,6.457 14.412,14.39l0,3.014Z" style="fill:#aa64aa;"></path><path id="Fill-16" d="M151.749,164.681l-6.04,0l0,-3.014c0,-4.612 -3.756,-8.361 -8.373,-8.361c-4.62,-0 -8.376,3.749 -8.376,8.361l-0,3.014l-6.04,0l0,-3.014c0,-7.933 6.465,-14.39 14.416,-14.39c7.948,-0 14.413,6.457 14.413,14.39l-0,3.014Z" style="fill:#eb3d3e;"></path><path id="Fill-18" d="M69.836,164.681l-6.039,0l-0,-3.014c-0,-4.612 -3.757,-8.361 -8.377,-8.361c-4.617,-0 -8.373,3.749 -8.373,8.361l-0,3.014l-6.039,0l-0,-3.014c-0,-7.933 6.465,-14.39 14.412,-14.39c7.948,-0 14.416,6.457 14.416,14.39l-0,3.014Z" style="fill:#3ea1c1;"></path><path id="Fill-20" d="M110.792,164.681l-6.039,0l0,-3.014c0,-4.612 -3.756,-8.361 -8.376,-8.361c-4.617,-0 -8.374,3.749 -8.374,8.361l0,3.014l-6.039,0l0,-3.014c0,-7.933 6.465,-14.39 14.413,-14.39c7.947,-0 14.415,6.457 14.415,14.39l0,3.014Z" style="fill:#f6ab1f;"></path></g></g></g></g></svg><h1 class="text-lg font-medium text-slate-50 align-top p-4">Couper Documentation</h1><div class="box-border text-base"><div class="rounded-md bg-lime-500 p-0.5">edge</div></div><div class="hidden w-full lg:flex items-center text-sm pl-4"><div class="ais-InstantSearch"><!--v-if--><!--v-if--></div></div></div></div></header><div class="hidden lg:block fixed z-20 inset-0 pt-[7.56rem] left-0 right-auto w-[15rem] overflow-y-auto"><nav class="lg:text-sm lg:leading-6 bg-slate-600 text-gray-400 pl-4 pt-2"><!--[--><!--[--><div><div class="font-semibold text-lg text-gray-50">Getting Started</div><!--[--><div class="text-base pl-2"><div class="text-base"><a href="/getting-started/running-couper" class="pl-2 border-l-2">Running Couper</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/getting-started/examples" class="pl-2 border-l-2">Examples</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/getting-started/beta-features" class="pl-2 border-l-2">About beta features</a></div></div><!--]--></div><div><div class="font-semibold text-lg text-gray-50">Configuration</div><!--[--><div class="text-base pl-2"><div class="text-base"><a href="/configuration/command-line" class="pl-2 border-l-2">Command Line Interface</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/configuration-file" class="pl-2 border-l-2">Configuration File</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/expressions" class="pl-2 border-l-2">Expressions</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/modifiers" class="pl-2 border-l-2">Modifiers</a></div></div><div class="text-base pl-2"><div class="pl-2"><div class="font-semibold text-gray-50">Block</div><!--[--><div class="pl-2 border-l-2"><a href="/configuration/block/api" class="">API</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/backend" class="">Backend</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/basic_auth" class="">Basic Auth</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/cors" class="">CORS</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/defaults" class="">Defaults</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/definitions" class="">Definitions</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/endpoint" class="">Endpoint</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/environment" class="">Environment</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/error_handler" class="">Error Handler</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/files" class="">Files</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/health" class="">Health</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/jwt_signing_profile" class="">JWT Signing Profile</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/jwt" class="">JWT</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/oauth2_ac" class="">OAuth2 AC (Beta)</a></div><div class="pl-2 border-l-2 border-sky-500 bg-sky-900 text-sky-200 rounded-r-md"><a aria-current="page" href="/configuration/block/oauth2_req_auth" class="router-link-active router-link-exact-active">OAuth2</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/oidc" class="">OIDC</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/openapi" class="">OpenAPI</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/proxy" class="">Proxy</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/rate_limit" class="">Rate Limit (Beta)</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/request" class="">Request</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/response" class="">Response</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/saml" class="">SAML</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/server" class="">Server</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/settings" class="">Settings</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/spa" class="">SPA</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/token_request" class="">Token Request (Beta)</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/websockets" class="">WebSockets</a></div><!--]--></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/variables" class="pl-2 border-l-2">Variables</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/functions" class="pl-2 border-l-2">Functions</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/error-handling" class="pl-2 border-l-2">Errors</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/multiple-files" class="pl-2 border-l-2">Merging</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/access-control" class="pl-2 border-l-2">Access Control</a></div></div><!--]--></div><div><div class="font-semibold text-lg text-gray-50">Observation</div><!--[--><div class="text-base pl-2"><div class="text-base"><a href="/observation/health" class="pl-2 border-l-2">Health Check</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/observation/logging" class="pl-2 border-l-2">Logging</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/observation/metrics" class="pl-2 border-l-2">Metrics</a></div></div><!--]--></div><div><!----><!--[--><!--]--></div><!--]--><!--]--></nav></div><div class="max-w-8xl mx-auto sm:px-6"><div class="lg:pl-[17rem]"><main class="max-w-8xl pt-6 xl:max-w-none xl:ml-0 xl:mr-[15.5rem] xl:pr-16 relative z-100 mt-4 prose prose-slate prose-lg prose-code:bg-sky-100 prose-code:text-sky-900 prose-code:p-1 prose-code:rounded-md prose-code:text-sm prose-blockquote:bg-purple-100 prose-blockquote:rounded-md prose-a:text-sky-600 hover:prose-a:text-amber-500"><!--[--><div><!--[--><div><h1 id="oauth2"><!--[-->OAuth2<!--]--></h1><p><!--[-->The <code><!--[-->oauth2<!--]--></code> block in the <a href="/configuration/block/backend" class=""><!--[-->Backend Block<!--]--></a> context configures an OAuth2 flow to request a bearer token for the backend request.<!--]--></p><p><!--[--><strong><!--[-->Note:<!--]--></strong> The token received from the authorization server&#39;s token endpoint is stored <strong><!--[-->per backend<!--]--></strong>. So even with flows where a user&#39;s account characteristics like username/password or email address are involved, there is no way to &quot;switch&quot; from one user to another depending on the client request.<!--]--></p><table><!--[--><thead><!--[--><tr><!--[--><th align="left"><!--[-->Block name<!--]--></th><th align="left"><!--[-->Context<!--]--></th><th align="left"><!--[-->Label<!--]--></th><th align="left"><!--[-->Nested block(s)<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr><!--[--><td align="left"><!--[--><code><!--[-->oauth2<!--]--></code><!--]--></td><td align="left"><!--[--><a href="/configuration/block/backend" class=""><!--[-->Backend Block<!--]--></a><!--]--></td><td align="left"><!--[-->no label<!--]--></td><td align="left"><!--[--><a href="/configuration/block/backend" class=""><!--[-->Backend Block<!--]--></a><!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table><div><h3 id="attributes"><a href="#attributes">Attributes</a></h3><table class="table-auto"><thead><tr><!--[--><th>Attributes</th><th>Type</th><th>Default</th><th>Description</th><!--]--></tr></thead><tbody><!--[--><tr><!--[--><td><code>assertion</code></td><td><div>object</div></td><td><div>-</div></td><td><div><p>The assertion (JWT for jwt-bearer flow). Required if <code>grant_type</code> is <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>.</p></div></td><!--]--></tr><tr><!--[--><td><code>backend</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p><a href="backend"><code>backend</code> block</a> reference.</p></div></td><!--]--></tr><tr><!--[--><td><code>client_id</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>The client identifier. Required unless the <code>grant_type</code> is <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>.</p></div></td><!--]--></tr><tr><!--[--><td><code>client_secret</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>The client password. Required unless the <code>grant_type</code> is <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code>.</p></div></td><!--]--></tr><tr><!--[--><td><code>grant_type</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Required, valid values: <code>client_credentials</code>, <code>password</code>, <code>urn:ietf:params:oauth:grant-type:jwt-bearer</code></p></div></td><!--]--></tr><tr><!--[--><td><code>password</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>The (service account's) password (for password flow). Required if grant_type is <code>password</code>.</p></div></td><!--]--></tr><tr><!--[--><td><code>retries</code></td><td><div>number</div></td><td><code>1</code></td><td><div><p>The number of retries to get the token and resource, if the resource-request responds with <code>401 Unauthorized</code> HTTP status code.</p></div></td><!--]--></tr><tr><!--[--><td><code>scope</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>A space separated list of requested scope values for the access token.</p></div></td><!--]--></tr><tr><!--[--><td><code>token_endpoint</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>URL of the token endpoint at the authorization server.</p></div></td><!--]--></tr><tr><!--[--><td><code>token_endpoint_auth_method</code></td><td><div>string</div></td><td><code>&quot;client_secret_basic&quot;</code></td><td><div><p>Defines the method to authenticate the client at the token endpoint.</p></div></td><!--]--></tr><tr><!--[--><td><code>username</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>The (service account's) username (for password flow). Required if grant_type is <code>password</code>.</p></div></td><!--]--></tr><!--]--></tbody></table></div><p><!--[-->The HTTP header field <code><!--[-->Accept: application/json<!--]--></code> is automatically added to the token request. This can be modified with <a href="/configuration/modifiers#request-header" class=""><!--[-->request header modifiers<!--]--></a> in a <a href="/configuration/block/backend" class=""><!--[-->backend block<!--]--></a>.<!--]--></p></div><!--]--><div class="flex items-center justify-between"><div><a href="/configuration/block/oauth2_ac" class="">&lt; OAuth2 AC (Beta)</a></div><div><a href="/configuration/block/oidc" class="">OIDC &gt;</a></div></div></div><!--]--></main><footer class="text-sm leading-6 mt-12"><p>Copyright couper.io</p></footer></div><nav class="fixed z-20 top-[7.56rem] bottom-0 right-0 w-[19.5rem] py-8 px-6 overflow-y-auto hidden xl:block bg-slate-600 text-gray-400"><h2 class="text-gray-100">On this Page</h2><ul><!--[--><!--]--></ul></nav></div></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$,ca,cb,cc,cd,ce,cf){return {data:{"content-query-2798352825":{_path:L,_draft:k,_partial:k,_empty:k,title:p,description:af,excerpt:{type:q,children:[{type:b,tag:r,props:{id:l},children:[{type:a,value:p}]},{type:b,tag:i,props:{},children:[{type:a,value:s},{type:b,tag:d,props:{},children:[{type:a,value:l}]},{type:a,value:M},{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]},{type:a,value:N}]},{type:b,tag:i,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:O}]},{type:a,value:P},{type:b,tag:n,props:{},children:[{type:a,value:Q}]},{type:a,value:R}]},{type:b,tag:t,props:{},children:[{type:b,tag:u,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:f,props:{align:c},children:[{type:a,value:v}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:w}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:x}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:y}]}]}]},{type:b,tag:z,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{align:c},children:[{type:b,tag:d,props:{},children:[{type:a,value:l}]}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]}]},{type:b,tag:g,props:{align:c},children:[{type:a,value:S}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]}]}]}]}]},{type:b,tag:A,props:{":values":T},children:[]},{type:b,tag:i,props:{},children:[{type:a,value:B},{type:b,tag:d,props:{},children:[{type:a,value:C}]},{type:a,value:D},{type:b,tag:e,props:{href:E},children:[{type:a,value:F}]},{type:a,value:G},{type:b,tag:e,props:{href:h},children:[{type:a,value:H}]},{type:a,value:o}]}]},body:{type:q,children:[{type:b,tag:r,props:{id:l},children:[{type:a,value:p}]},{type:b,tag:i,props:{},children:[{type:a,value:s},{type:b,tag:d,props:{},children:[{type:a,value:l}]},{type:a,value:M},{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]},{type:a,value:N}]},{type:b,tag:i,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:O}]},{type:a,value:P},{type:b,tag:n,props:{},children:[{type:a,value:Q}]},{type:a,value:R}]},{type:b,tag:t,props:{},children:[{type:b,tag:u,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:f,props:{align:c},children:[{type:a,value:v}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:w}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:x}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:y}]}]}]},{type:b,tag:z,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{align:c},children:[{type:b,tag:d,props:{},children:[{type:a,value:l}]}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]}]},{type:b,tag:g,props:{align:c},children:[{type:a,value:S}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]}]}]}]}]},{type:b,tag:A,props:{":values":T},children:[]},{type:b,tag:i,props:{},children:[{type:a,value:B},{type:b,tag:d,props:{},children:[{type:a,value:C}]},{type:a,value:D},{type:b,tag:e,props:{href:E},children:[{type:a,value:F}]},{type:a,value:G},{type:b,tag:e,props:{href:h},children:[{type:a,value:H}]},{type:a,value:o}]}],toc:{title:U,searchDepth:V,depth:V,links:[]}},_type:W,_id:ag,_source:X,_file:ah,_extension:Y},"content-navigation-3333229237":[{title:ai,_path:aj,children:[{title:ak,_path:al},{title:am,_path:an},{title:ao,_path:ap}]},{title:aq,_path:ar,children:[{title:as,_path:at},{title:au,_path:av},{title:aw,_path:ax},{title:ay,_path:az},{title:aA,_path:aB,children:[{title:aC,_path:aD},{title:aE,_path:aF},{title:aG,_path:aH},{title:aI,_path:aJ},{title:aK,_path:aL},{title:aM,_path:aN},{title:aO,_path:aP},{title:aQ,_path:aR},{title:aS,_path:aT},{title:aU,_path:aV},{title:aW,_path:aX},{title:aY,_path:aZ},{title:a_,_path:a$},{title:Z,_path:aa},{title:p,_path:L},{title:_,_path:ab},{title:ba,_path:bb},{title:bc,_path:bd},{title:be,_path:bf},{title:bg,_path:bh},{title:bi,_path:bj},{title:bk,_path:bl},{title:bm,_path:bn},{title:bo,_path:bp},{title:bq,_path:br},{title:bs,_path:bt},{title:bu,_path:bv}]},{title:bw,_path:bx},{title:by,_path:ac},{title:bz,_path:bA},{title:bB,_path:bC},{title:bD,_path:bE}]},{title:bF,_path:bG,children:[{title:bH,_path:bI},{title:bJ,_path:bK},{title:bL,_path:bM}]},{title:bN,_path:ad}]},state:{error:bO,"content-document-driven-globals":{},"content-document-driven-navigation":[{title:ai,_path:aj,children:[{title:ak,_path:al},{title:am,_path:an},{title:ao,_path:ap}]},{title:aq,_path:ar,children:[{title:as,_path:at},{title:au,_path:av},{title:aw,_path:ax},{title:ay,_path:az},{title:aA,_path:aB,children:[{title:aC,_path:aD},{title:aE,_path:aF},{title:aG,_path:aH},{title:aI,_path:aJ},{title:aK,_path:aL},{title:aM,_path:aN},{title:aO,_path:aP},{title:aQ,_path:aR},{title:aS,_path:aT},{title:aU,_path:aV},{title:aW,_path:aX},{title:aY,_path:aZ},{title:a_,_path:a$},{title:Z,_path:aa},{title:p,_path:L},{title:_,_path:ab},{title:ba,_path:bb},{title:bc,_path:bd},{title:be,_path:bf},{title:bg,_path:bh},{title:bi,_path:bj},{title:bk,_path:bl},{title:bm,_path:bn},{title:bo,_path:bp},{title:bq,_path:br},{title:bs,_path:bt},{title:bu,_path:bv}]},{title:bw,_path:bx},{title:by,_path:ac},{title:bz,_path:bA},{title:bB,_path:bC},{title:bD,_path:bE}]},{title:bF,_path:bG,children:[{title:bH,_path:bI},{title:bJ,_path:bK},{title:bL,_path:bM}]},{title:bN,_path:ad}],"content-document-driven-page":{_path:L,_draft:k,_partial:k,_empty:k,title:p,description:af,excerpt:{type:q,children:[{type:b,tag:r,props:{id:l},children:[{type:a,value:p}]},{type:b,tag:i,props:{},children:[{type:a,value:s},{type:b,tag:d,props:{},children:[{type:a,value:l}]},{type:a,value:M},{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]},{type:a,value:N}]},{type:b,tag:i,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:O}]},{type:a,value:P},{type:b,tag:n,props:{},children:[{type:a,value:Q}]},{type:a,value:R}]},{type:b,tag:t,props:{},children:[{type:b,tag:u,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:f,props:{align:c},children:[{type:a,value:v}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:w}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:x}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:y}]}]}]},{type:b,tag:z,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{align:c},children:[{type:b,tag:d,props:{},children:[{type:a,value:l}]}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]}]},{type:b,tag:g,props:{align:c},children:[{type:a,value:S}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]}]}]}]}]},{type:b,tag:A,props:{":values":T},children:[]},{type:b,tag:i,props:{},children:[{type:a,value:B},{type:b,tag:d,props:{},children:[{type:a,value:C}]},{type:a,value:D},{type:b,tag:e,props:{href:E},children:[{type:a,value:F}]},{type:a,value:G},{type:b,tag:e,props:{href:h},children:[{type:a,value:H}]},{type:a,value:o}]}]},body:{type:q,children:[{type:b,tag:r,props:{id:l},children:[{type:a,value:p}]},{type:b,tag:i,props:{},children:[{type:a,value:s},{type:b,tag:d,props:{},children:[{type:a,value:l}]},{type:a,value:M},{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]},{type:a,value:N}]},{type:b,tag:i,props:{},children:[{type:b,tag:n,props:{},children:[{type:a,value:O}]},{type:a,value:P},{type:b,tag:n,props:{},children:[{type:a,value:Q}]},{type:a,value:R}]},{type:b,tag:t,props:{},children:[{type:b,tag:u,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:f,props:{align:c},children:[{type:a,value:v}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:w}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:x}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:y}]}]}]},{type:b,tag:z,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{align:c},children:[{type:b,tag:d,props:{},children:[{type:a,value:l}]}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]}]},{type:b,tag:g,props:{align:c},children:[{type:a,value:S}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]}]}]}]}]},{type:b,tag:A,props:{":values":T},children:[]},{type:b,tag:i,props:{},children:[{type:a,value:B},{type:b,tag:d,props:{},children:[{type:a,value:C}]},{type:a,value:D},{type:b,tag:e,props:{href:E},children:[{type:a,value:F}]},{type:a,value:G},{type:b,tag:e,props:{href:h},children:[{type:a,value:H}]},{type:a,value:o}]}],toc:{title:U,searchDepth:V,depth:V,links:[]}},_type:W,_id:ag,_source:X,_file:ah,_extension:Y},"content-document-driven-page-surround":[{_path:aa,_draft:k,_partial:k,_empty:k,title:Z,description:"The beta_oauth2 block lets you configure the oauth2_authorization_url() function and an access\ncontrol for an OAuth2 Authorization Code Grant Flow redirect endpoint.\nLike all access control types, the beta_oauth2 block is defined in the definitions block and can be referenced in all configuration blocks by its required label.",excerpt:{type:q,children:[{type:b,tag:r,props:{id:"oauth2-ac-beta"},children:[{type:a,value:Z}]},{type:b,tag:i,props:{},children:[{type:a,value:s},{type:b,tag:d,props:{},children:[{type:a,value:ae}]},{type:a,value:bP},{type:b,tag:e,props:{href:"..\u002Ffunctions"},children:[{type:b,tag:d,props:{},children:[{type:a,value:bQ}]},{type:a,value:bR}]},{type:a,value:" and an access\ncontrol for an OAuth2 "},{type:b,tag:n,props:{},children:[{type:a,value:bS}]},{type:a,value:bT},{type:b,tag:e,props:{href:bU},children:[{type:a,value:bV}]},{type:a,value:bW},{type:b,tag:d,props:{},children:[{type:a,value:ae}]},{type:a,value:bX},{type:b,tag:e,props:{href:I},children:[{type:b,tag:d,props:{},children:[{type:a,value:I}]},{type:a,value:" block"}]},{type:a,value:bY},{type:b,tag:bZ,props:{},children:[{type:a,value:b_}]},{type:a,value:o}]},{type:b,tag:t,props:{},children:[{type:b,tag:u,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:f,props:{align:c},children:[{type:a,value:v}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:w}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:x}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:y}]}]}]},{type:b,tag:z,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{align:c},children:[{type:b,tag:d,props:{},children:[{type:a,value:ae}]}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:I},children:[{type:a,value:b$}]}]},{type:b,tag:g,props:{align:c},children:[{type:a,value:ca}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:e,props:{href:cb},children:[{type:a,value:cc}]}]}]}]}]},{type:b,tag:A,props:{":values":"[{\"name\":\"authorization_endpoint\",\"type\":\"string\",\"default\":\"\",\"description\":\"The authorization server endpoint URL used for authorization.\"},{\"name\":\"backend\",\"type\":\"string\",\"default\":\"\",\"description\":\"[`backend` block](backend) reference.\"},{\"name\":\"client_id\",\"type\":\"string\",\"default\":\"\",\"description\":\"The client identifier.\"},{\"name\":\"client_secret\",\"type\":\"string\",\"default\":\"\",\"description\":\"The client password.\"},{\"name\":\"custom_log_fields\",\"type\":\"object\",\"default\":\"\",\"description\":\"log fields for [custom logging](\u002Fobservation\u002Flogging#custom-logging). Inherited by nested blocks.\"},{\"name\":\"grant_type\",\"type\":\"string\",\"default\":\"\",\"description\":\"The grant type. Required, to be set to: `authorization_code`\"},{\"name\":\"redirect_uri\",\"type\":\"string\",\"default\":\"\",\"description\":\"The Couper endpoint for receiving the authorization code. Relative URL references are resolved against the origin of the current request URL. The origin can be changed with the `accept_forwarded_url`([settings](settings)) attribute if Couper is running behind a proxy.\"},{\"name\":\"scope\",\"type\":\"string\",\"default\":\"\",\"description\":\"A space separated list of requested scope values for the access token.\"},{\"name\":\"token_endpoint\",\"type\":\"string\",\"default\":\"\",\"description\":\"The authorization server endpoint URL used for requesting the token.\"},{\"name\":\"token_endpoint_auth_method\",\"type\":\"string\",\"default\":\"\\\"client_secret_basic\\\"\",\"description\":\"Defines the method to authenticate the client at the token endpoint. If set to `client_secret_post`, the client credentials are transported in the request body. If set to `client_secret_basic`, the client credentials are transported via Basic Authentication.\"},{\"name\":\"verifier_method\",\"type\":\"string\",\"default\":\"\",\"description\":\"The method to verify the integrity of the authorization code flow. Available values: `ccm_s256` (`code_challenge` parameter with `code_challenge_method` `S256`), `state` (`state` parameter)\"},{\"name\":\"verifier_value\",\"type\":\"string\",\"default\":\"\",\"description\":\"The value of the (unhashed) verifier. E.g. using cookie value created with `oauth2_verifier()` function](..\u002Ffunctions)\"}]"},children:[]},{type:b,tag:i,props:{},children:[{type:a,value:"If the authorization server supports the "},{type:b,tag:d,props:{},children:[{type:a,value:cd}]},{type:a,value:ce},{type:b,tag:d,props:{},children:[{type:a,value:cf}]},{type:a,value:" (a.k.a. PKCE, see RFC 7636), we recommend "},{type:b,tag:d,props:{},children:[{type:a,value:"verifier_method = \"ccm_s256\""}]},{type:a,value:o}]},{type:b,tag:i,props:{},children:[{type:a,value:B},{type:b,tag:d,props:{},children:[{type:a,value:C}]},{type:a,value:D},{type:b,tag:e,props:{href:E},children:[{type:a,value:F}]},{type:a,value:G},{type:b,tag:e,props:{href:h},children:[{type:a,value:H}]},{type:a,value:o}]}]},_type:W,_id:"content:2.configuration:4.block:oauth2_ac.md",_source:X,_file:"2.configuration\u002F4.block\u002Foauth2_ac.md",_extension:Y},{_path:ab,_draft:k,_partial:k,_empty:k,title:_,description:"The oidc block lets you configure the oauth2_authorization_url() function and an access\ncontrol for an OIDC Authorization Code Grant Flow redirect endpoint.\nLike all access control types, the oidc block is defined in the definitions Block and can be referenced in all configuration blocks by its required label.",excerpt:{type:q,children:[{type:b,tag:r,props:{id:$},children:[{type:a,value:_}]},{type:b,tag:i,props:{},children:[{type:a,value:s},{type:b,tag:d,props:{},children:[{type:a,value:$}]},{type:a,value:bP},{type:b,tag:e,props:{href:ac},children:[{type:b,tag:d,props:{},children:[{type:a,value:bQ}]},{type:a,value:bR}]},{type:a,value:" and an access\ncontrol for an OIDC "},{type:b,tag:n,props:{},children:[{type:a,value:bS}]},{type:a,value:bT},{type:b,tag:e,props:{href:bU},children:[{type:a,value:bV}]},{type:a,value:bW},{type:b,tag:d,props:{},children:[{type:a,value:$}]},{type:a,value:bX},{type:b,tag:e,props:{href:I},children:[{type:b,tag:d,props:{},children:[{type:a,value:I}]},{type:a,value:" Block"}]},{type:a,value:bY},{type:b,tag:bZ,props:{},children:[{type:a,value:b_}]},{type:a,value:o}]},{type:b,tag:t,props:{},children:[{type:b,tag:u,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:f,props:{align:c},children:[{type:a,value:v}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:w}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:x}]},{type:b,tag:f,props:{align:c},children:[{type:a,value:y}]}]}]},{type:b,tag:z,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:g,props:{align:c},children:[{type:b,tag:d,props:{},children:[{type:a,value:$}]}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:I},children:[{type:a,value:b$}]}]},{type:b,tag:g,props:{align:c},children:[{type:a,value:ca}]},{type:b,tag:g,props:{align:c},children:[{type:b,tag:e,props:{href:h},children:[{type:a,value:j}]},{type:a,value:K},{type:b,tag:e,props:{href:cb},children:[{type:a,value:cc}]}]}]}]}]},{type:b,tag:"blockquote",props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"any "},{type:b,tag:d,props:{},children:[{type:a,value:h}]},{type:a,value:" attributes: Do not disable the peer certificate validation with "},{type:b,tag:d,props:{},children:[{type:a,value:"disable_certificate_validation = true"}]},{type:a,value:o}]}]},{type:b,tag:A,props:{":values":"[{\"name\":\"backend\",\"type\":\"string\",\"default\":\"\",\"description\":\"`backend` block reference, defined in [`definitions`](definitions). Required, if no [`backend` block](backend) or `configuration_url` is defined within.\"},{\"name\":\"client_id\",\"type\":\"string\",\"default\":\"\",\"description\":\"The client identifier.\"},{\"name\":\"client_secret\",\"type\":\"string\",\"default\":\"\",\"description\":\"The client password.\"},{\"name\":\"configuration_backend\",\"type\":\"object\",\"default\":\"\",\"description\":\"Optional option to configure specific behaviour for a given oidc backend.\"},{\"name\":\"configuration_max_stale\",\"type\":\"duration\",\"default\":\"\\\"1h\\\"\",\"description\":\"Duration a cached OpenID configuration stays valid after its TTL has passed.\"},{\"name\":\"configuration_ttl\",\"type\":\"duration\",\"default\":\"\\\"1h\\\"\",\"description\":\"The duration to cache the OpenID configuration located at `configuration_url`.\"},{\"name\":\"configuration_url\",\"type\":\"string\",\"default\":\"\",\"description\":\"The OpenID configuration URL.\"},{\"name\":\"custom_log_fields\",\"type\":\"object\",\"default\":\"\",\"description\":\"log fields for [custom logging](\u002Fobservation\u002Flogging#custom-logging). Inherited by nested blocks.\"},{\"name\":\"jwks_max_stale\",\"type\":\"duration\",\"default\":\"\\\"1h\\\"\",\"description\":\"Time period the cached JWK set stays valid after its TTL has passed.\"},{\"name\":\"jwks_ttl\",\"type\":\"duration\",\"default\":\"\\\"1h\\\"\",\"description\":\"Time period the JWK set stays valid and may be cached.\"},{\"name\":\"jwks_uri_backend\",\"type\":\"object\",\"default\":\"\",\"description\":\"Optional option to configure specific behaviour for a given oidc backend.\"},{\"name\":\"redirect_uri\",\"type\":\"string\",\"default\":\"\",\"description\":\"The Couper endpoint for receiving the authorization code. Relative URL references are resolved against the origin of the current request URL. The origin can be changed with the `accept_forwarded_url`(`settings` block) attribute if Couper is running behind a proxy.\"},{\"name\":\"scope\",\"type\":\"string\",\"default\":\"\",\"description\":\"A space separated list of requested scope values for the access token.\"},{\"name\":\"token_backend\",\"type\":\"object\",\"default\":\"\",\"description\":\"Optional option to configure specific behaviour for a given oidc backend.\"},{\"name\":\"token_endpoint_auth_method\",\"type\":\"string\",\"default\":\"\\\"client_secret_basic\\\"\",\"description\":\"Defines the method to authenticate the client at the token endpoint. If set to `client_secret_post`, the client credentials are transported in the request body. If set to `client_secret_basic`, the client credentials are transported via Basic Authentication.\"},{\"name\":\"userinfo_backend\",\"type\":\"object\",\"default\":\"\",\"description\":\"Optional option to configure specific behaviour for a given oidc backend.\"},{\"name\":\"verifier_method\",\"type\":\"string\",\"default\":\"\",\"description\":\"The method to verify the integrity of the authorization code flow.\"},{\"name\":\"verifier_value\",\"type\":\"string\",\"default\":\"\",\"description\":\"The value of the (unhashed) verifier.\"}]"},children:[]},{type:b,tag:i,props:{},children:[{type:a,value:"In most cases, referencing one "},{type:b,tag:d,props:{},children:[{type:a,value:h}]},{type:a,value:" (backend attribute) for all the backend requests sent by the OIDC client is enough.\nYou should only use "},{type:b,tag:d,props:{},children:[{type:a,value:"configuration_backend"}]},{type:a,value:K},{type:b,tag:d,props:{},children:[{type:a,value:"jwks_uri_backend"}]},{type:a,value:K},{type:b,tag:d,props:{},children:[{type:a,value:"token_backend"}]},{type:a,value:" or "},{type:b,tag:d,props:{},children:[{type:a,value:"userinfo_backend"}]},{type:a,value:" if you need to configure a specific behaviour for the respective request (e.g. timeouts)."}]},{type:b,tag:i,props:{},children:[{type:a,value:"If the OpenID server supports the "},{type:b,tag:d,props:{},children:[{type:a,value:cd}]},{type:a,value:ce},{type:b,tag:d,props:{},children:[{type:a,value:cf}]},{type:a,value:" the default value for "},{type:b,tag:d,props:{},children:[{type:a,value:"verifier_method"}]},{type:a,value:"is "},{type:b,tag:d,props:{},children:[{type:a,value:"\"ccm_s256\""}]},{type:a,value:K},{type:b,tag:d,props:{},children:[{type:a,value:"\"nonce\""}]},{type:a,value:" otherwise."}]},{type:b,tag:i,props:{},children:[{type:a,value:B},{type:b,tag:d,props:{},children:[{type:a,value:C}]},{type:a,value:D},{type:b,tag:e,props:{href:E},children:[{type:a,value:F}]},{type:a,value:G},{type:b,tag:e,props:{href:h},children:[{type:a,value:H}]},{type:a,value:o}]},{type:b,tag:"duration",props:{},children:[]}]},_type:W,_id:"content:2.configuration:4.block:oidc.md",_source:X,_file:"2.configuration\u002F4.block\u002Foidc.md",_extension:Y}],"docs-search-result":bO},_errors:{},serverRendered:J,config:{public:{content:{base:"_content",tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:["hcl","html","shell"]},wsUrl:U,documentDriven:{page:J,navigation:J,surround:J,globals:{},layoutFallbacks:["theme"],injectPage:J}},algolia:{apiKey:"5551c3e4dfb61914988abf95fd9b762f",applicationId:"MSIN2HU7WH",lite:J,instantSearch:{theme:"algolia"},docSearch:{}}},app:{baseURL:ad,buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:U}}}}("text","element","left","code-inline","a","th","td","backend","p","Backend Block",false,"oauth2","tr","strong",".","OAuth2","root","h1","The ","table","thead","Block name","Context","Label","Nested block(s)","tbody","attributes","The HTTP header field ","Accept: application\u002Fjson"," is automatically added to the token request. This can be modified with ","..\u002Fmodifiers#request-header","request header modifiers"," in a ","backend block","definitions",true,", ","\u002Fconfiguration\u002Fblock\u002Foauth2_req_auth"," block in the "," context configures an OAuth2 flow to request a bearer token for the backend request.","Note:"," The token received from the authorization server's token endpoint is stored ","per backend",". So even with flows where a user's account characteristics like username\u002Fpassword or email address are involved, there is no way to \"switch\" from one user to another depending on the client request.","no label","[{\"name\":\"assertion\",\"type\":\"object\",\"default\":\"\",\"description\":\"The assertion (JWT for jwt-bearer flow). Required if `grant_type` is `urn:ietf:params:oauth:grant-type:jwt-bearer`.\"},{\"name\":\"backend\",\"type\":\"string\",\"default\":\"\",\"description\":\"[`backend` block](backend) reference.\"},{\"name\":\"client_id\",\"type\":\"string\",\"default\":\"\",\"description\":\"The client identifier. Required unless the `grant_type` is `urn:ietf:params:oauth:grant-type:jwt-bearer`.\"},{\"name\":\"client_secret\",\"type\":\"string\",\"default\":\"\",\"description\":\"The client password. Required unless the `grant_type` is `urn:ietf:params:oauth:grant-type:jwt-bearer`.\"},{\"name\":\"grant_type\",\"type\":\"string\",\"default\":\"\",\"description\":\"Required, valid values: `client_credentials`, `password`, `urn:ietf:params:oauth:grant-type:jwt-bearer`\"},{\"name\":\"password\",\"type\":\"string\",\"default\":\"\",\"description\":\"The (service account's) password (for password flow). Required if grant_type is `password`.\"},{\"name\":\"retries\",\"type\":\"number\",\"default\":\"1\",\"description\":\"The number of retries to get the token and resource, if the resource-request responds with `401 Unauthorized` HTTP status code.\"},{\"name\":\"scope\",\"type\":\"string\",\"default\":\"\",\"description\":\"A space separated list of requested scope values for the access token.\"},{\"name\":\"token_endpoint\",\"type\":\"string\",\"default\":\"\",\"description\":\"URL of the token endpoint at the authorization server.\"},{\"name\":\"token_endpoint_auth_method\",\"type\":\"string\",\"default\":\"\\\"client_secret_basic\\\"\",\"description\":\"Defines the method to authenticate the client at the token endpoint.\"},{\"name\":\"username\",\"type\":\"string\",\"default\":\"\",\"description\":\"The (service account's) username (for password flow). Required if grant_type is `password`.\"}]","",2,"markdown","content","md","OAuth2 AC (Beta)","OIDC","oidc","\u002Fconfiguration\u002Fblock\u002Foauth2_ac","\u002Fconfiguration\u002Fblock\u002Foidc","\u002Fconfiguration\u002Ffunctions","\u002F","beta_oauth2","The oauth2 block in the Backend Block context configures an OAuth2 flow to request a bearer token for the backend request.","content:2.configuration:4.block:oauth2_req_auth.md","2.configuration\u002F4.block\u002Foauth2_req_auth.md","Getting Started","\u002Fgetting-started","Running Couper","\u002Fgetting-started\u002Frunning-couper","Examples","\u002Fgetting-started\u002Fexamples","About beta features","\u002Fgetting-started\u002Fbeta-features","Configuration","\u002Fconfiguration","Command Line Interface","\u002Fconfiguration\u002Fcommand-line","Configuration File","\u002Fconfiguration\u002Fconfiguration-file","Expressions","\u002Fconfiguration\u002Fexpressions","Modifiers","\u002Fconfiguration\u002Fmodifiers","Block","\u002Fconfiguration\u002Fblock","API","\u002Fconfiguration\u002Fblock\u002Fapi","Backend","\u002Fconfiguration\u002Fblock\u002Fbackend","Basic Auth","\u002Fconfiguration\u002Fblock\u002Fbasic_auth","CORS","\u002Fconfiguration\u002Fblock\u002Fcors","Defaults","\u002Fconfiguration\u002Fblock\u002Fdefaults","Definitions","\u002Fconfiguration\u002Fblock\u002Fdefinitions","Endpoint","\u002Fconfiguration\u002Fblock\u002Fendpoint","Environment","\u002Fconfiguration\u002Fblock\u002Fenvironment","Error Handler","\u002Fconfiguration\u002Fblock\u002Ferror_handler","Files","\u002Fconfiguration\u002Fblock\u002Ffiles","Health","\u002Fconfiguration\u002Fblock\u002Fhealth","JWT Signing Profile","\u002Fconfiguration\u002Fblock\u002Fjwt_signing_profile","JWT","\u002Fconfiguration\u002Fblock\u002Fjwt","OpenAPI","\u002Fconfiguration\u002Fblock\u002Fopenapi","Proxy","\u002Fconfiguration\u002Fblock\u002Fproxy","Rate Limit (Beta)","\u002Fconfiguration\u002Fblock\u002Frate_limit","Request","\u002Fconfiguration\u002Fblock\u002Frequest","Response","\u002Fconfiguration\u002Fblock\u002Fresponse","SAML","\u002Fconfiguration\u002Fblock\u002Fsaml","Server","\u002Fconfiguration\u002Fblock\u002Fserver","Settings","\u002Fconfiguration\u002Fblock\u002Fsettings","SPA","\u002Fconfiguration\u002Fblock\u002Fspa","Token Request (Beta)","\u002Fconfiguration\u002Fblock\u002Ftoken_request","WebSockets","\u002Fconfiguration\u002Fblock\u002Fwebsockets","Variables","\u002Fconfiguration\u002Fvariables","Functions","Errors","\u002Fconfiguration\u002Ferror-handling","Merging","\u002Fconfiguration\u002Fmultiple-files","Access Control","\u002Fconfiguration\u002Faccess-control","Observation","\u002Fobservation","Health Check","\u002Fobservation\u002Fhealth","Logging","\u002Fobservation\u002Flogging","Metrics","\u002Fobservation\u002Fmetrics","Introduction",null," block lets you configure the ","oauth2_authorization_url()"," function","Authorization Code Grant Flow"," redirect endpoint.\nLike all ","..\u002Faccess-control","access control"," types, the "," block is defined in the "," and can be referenced in all configuration blocks by its required ","em","label","Definitions Block","⚠ required","error_handler","Error Handler Block","code_challenge_method"," ","S256"))</script><script type="module" src="/_nuxt/entry-ba1a0aa6.mjs" crossorigin></script><script type="module" src="/_nuxt/default-2bc349f0.mjs" crossorigin></script><script type="module" src="/_nuxt/Logo-cd51533d.mjs" crossorigin></script><script type="module" src="/_nuxt/_...slug_-18ad947f.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseH1-e1d78fad.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseP-6e6fc6e9.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseCodeInline-da8a1c90.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseA-92c1578e.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseStrong-9bb5f1d2.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseTable-20efe070.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseThead-02a737b3.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseTr-cdba50f5.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseTh-38f1fb0c.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseTbody-18763c2f.mjs" crossorigin></script><script type="module" src="/_nuxt/ProseTd-d19b4eaf.mjs" crossorigin></script><script type="module" src="/_nuxt/Attributes-b64da1d1.mjs" crossorigin></script>
</body>

</html>