[{"data":1,"prerenderedAt":152},["Reactive",2],{"content-query-oY6ZVIroJU":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":147,"_id":148,"_source":149,"_file":150,"_extension":151},"/configuration/block/health","block",false,"","Health","Defines a recurring health check request for its backend. Results can be obtained via the backends.\u003Clabel>.health variables.\nChanges in health states and related requests will be logged. Default User-Agent will be Couper / \u003Cversion> health-check if not provided\nvia headers attribute. An unhealthy backend will return with a backend_unhealthy error.",{"type":11,"children":12,"toc":144},"root",[13,21,71,73,139],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"health",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,41,43,49,51,57,59,69],{"type":20,"value":26},"Defines a recurring health check request for its backend. Results can be obtained via the ",{"type":14,"tag":28,"props":29,"children":31},"a",{"href":30},"/configuration/variables#backends",[32,39],{"type":14,"tag":33,"props":34,"children":36},"code",{"className":35},[],[37],{"type":20,"value":38},"backends.\u003Clabel>.health",{"type":20,"value":40}," variables",{"type":20,"value":42},".\nChanges in health states and related requests will be logged. Default User-Agent will be ",{"type":14,"tag":33,"props":44,"children":46},{"className":45},[],[47],{"type":20,"value":48},"Couper / \u003Cversion> health-check",{"type":20,"value":50}," if not provided\nvia ",{"type":14,"tag":33,"props":52,"children":54},{"className":53},[],[55],{"type":20,"value":56},"headers",{"type":20,"value":58}," attribute. An unhealthy backend will return with a ",{"type":14,"tag":28,"props":60,"children":62},{"href":61},"/configuration/error-handling#api-error-types",[63],{"type":14,"tag":33,"props":64,"children":66},{"className":65},[],[67],{"type":20,"value":68},"backend_unhealthy",{"type":20,"value":70}," error.",{"type":20,"value":72},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":14,"tag":74,"props":75,"children":76},"table",{},[77,102],{"type":14,"tag":78,"props":79,"children":80},"thead",{},[81],{"type":14,"tag":82,"props":83,"children":84},"tr",{},[85,92,97],{"type":14,"tag":86,"props":87,"children":89},"th",{"align":88},"left",[90],{"type":20,"value":91},"Block name",{"type":14,"tag":86,"props":93,"children":94},{"align":88},[95],{"type":20,"value":96},"Context",{"type":14,"tag":86,"props":98,"children":99},{"align":88},[100],{"type":20,"value":101},"Label",{"type":14,"tag":103,"props":104,"children":105},"tbody",{},[106],{"type":14,"tag":82,"props":107,"children":108},{},[109,119,134],{"type":14,"tag":110,"props":111,"children":112},"td",{"align":88},[113],{"type":14,"tag":33,"props":114,"children":116},{"className":115},[],[117],{"type":20,"value":118},"beta_health",{"type":14,"tag":110,"props":120,"children":121},{"align":88},[122],{"type":14,"tag":28,"props":123,"children":125},{"href":124},"/configuration/block/backend",[126,132],{"type":14,"tag":33,"props":127,"children":129},{"className":128},[],[130],{"type":20,"value":131},"backend",{"type":20,"value":133}," block",{"type":14,"tag":110,"props":135,"children":136},{"align":88},[137],{"type":20,"value":138},"no label",{"type":14,"tag":140,"props":141,"children":143},"attributes",{":values":142},"[{\"default\":\"[200, 204, 301]\",\"description\":\"One of wanted response status codes.\",\"name\":\"expected_status\",\"type\":\"tuple (int)\"},{\"default\":\"\",\"description\":\"Text which the response body must contain.\",\"name\":\"expected_text\",\"type\":\"string\"},{\"default\":\"2\",\"description\":\"Failed checks needed to consider backend unhealthy.\",\"name\":\"failure_threshold\",\"type\":\"number\"},{\"default\":\"\",\"description\":\"Request HTTP header fields.\",\"name\":\"headers\",\"type\":\"object\"},{\"default\":\"\\\"1s\\\"\",\"description\":\"Time interval for recheck.\",\"name\":\"interval\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"URL path with query on backend host.\",\"name\":\"path\",\"type\":\"string\"},{\"default\":\"\\\"1s\\\"\",\"description\":\"Maximum allowed time limit which is\\tbounded by `interval`.\",\"name\":\"timeout\",\"type\":\"string\"}]",[],{"title":7,"searchDepth":145,"depth":145,"links":146},2,[],"markdown","content:2.configuration:4.block:health.md","content","2.configuration/4.block/health.md","md",1720790976293]