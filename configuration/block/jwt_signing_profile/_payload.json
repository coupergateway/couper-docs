[{"data":1,"prerenderedAt":494},["Reactive",2],{"content-query-xGqJhLlnkZ":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":489,"_id":490,"_source":491,"_file":492,"_extension":493},"/configuration/block/jwt_signing_profile","block",false,"","JWT Signing Profile","The jwt_signing_profile block lets you configure a JSON Web Token signing\nprofile for your gateway. It is referenced in the jwt_sign() function\nby its required label.",{"type":11,"children":12,"toc":486},"root",[13,21,59,156,158,235,240,248,255,466,480],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"jwt-signing-profile",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,34,36,49,51,57],{"type":20,"value":26},"The ",{"type":14,"tag":28,"props":29,"children":31},"code",{"className":30},[],[32],{"type":20,"value":33},"jwt_signing_profile",{"type":20,"value":35}," block lets you configure a JSON Web Token signing\nprofile for your gateway. It is referenced in the ",{"type":14,"tag":37,"props":38,"children":40},"a",{"href":39},"/configuration/functions",[41,47],{"type":14,"tag":28,"props":42,"children":44},{"className":43},[],[45],{"type":20,"value":46},"jwt_sign()",{"type":20,"value":48}," function",{"type":20,"value":50},"\nby its required ",{"type":14,"tag":52,"props":53,"children":54},"em",{},[55],{"type":20,"value":56},"label",{"type":20,"value":58},".",{"type":14,"tag":22,"props":60,"children":61},{},[62,64,68,70,80,82,92,94,104,106,112,114,120,122,128,130,138,140,146,148,154],{"type":20,"value":63},"It can also be used (without ",{"type":14,"tag":52,"props":65,"children":66},{},[67],{"type":20,"value":56},{"type":20,"value":69},") in ",{"type":14,"tag":37,"props":71,"children":73},{"href":72},"/configuration/block/oauth2",[74],{"type":14,"tag":28,"props":75,"children":77},{"className":76},[],[78],{"type":20,"value":79},"oauth2",{"type":20,"value":81},", ",{"type":14,"tag":37,"props":83,"children":85},{"href":84},"/configuration/block/oidc",[86],{"type":14,"tag":28,"props":87,"children":89},{"className":88},[],[90],{"type":20,"value":91},"oidc",{"type":20,"value":93}," or\n",{"type":14,"tag":37,"props":95,"children":97},{"href":96},"/configuration/block/beta_oauth2",[98],{"type":14,"tag":28,"props":99,"children":101},{"className":100},[],[102],{"type":20,"value":103},"beta_oauth2",{"type":20,"value":105}," blocks for ",{"type":14,"tag":28,"props":107,"children":109},{"className":108},[],[110],{"type":20,"value":111},"token_endpoint_auth_method",{"type":20,"value":113},"s ",{"type":14,"tag":28,"props":115,"children":117},{"className":116},[],[118],{"type":20,"value":119},"\"client_secret_jwt\"",{"type":20,"value":121},"\nor ",{"type":14,"tag":28,"props":123,"children":125},{"className":124},[],[126],{"type":20,"value":127},"\"private_key_jwt\"",{"type":20,"value":129}," or in ",{"type":14,"tag":37,"props":131,"children":132},{"href":72},[133],{"type":14,"tag":28,"props":134,"children":136},{"className":135},[],[137],{"type":20,"value":79},{"type":20,"value":139}," blocks with\n",{"type":14,"tag":28,"props":141,"children":143},{"className":142},[],[144],{"type":20,"value":145},"grant_type = \"urn:ietf:params:oauth:grant-type:jwt-bearer\"",{"type":20,"value":147},", in the absence of an\n",{"type":14,"tag":28,"props":149,"children":151},{"className":150},[],[152],{"type":20,"value":153},"assertion",{"type":20,"value":155}," attribute, for configuring a self-signed JWT assertion.",{"type":20,"value":157},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":14,"tag":159,"props":160,"children":161},"table",{},[162,187],{"type":14,"tag":163,"props":164,"children":165},"thead",{},[166],{"type":14,"tag":167,"props":168,"children":169},"tr",{},[170,177,182],{"type":14,"tag":171,"props":172,"children":174},"th",{"align":173},"left",[175],{"type":20,"value":176},"Block name",{"type":14,"tag":171,"props":178,"children":179},{"align":173},[180],{"type":20,"value":181},"Context",{"type":14,"tag":171,"props":183,"children":184},{"align":173},[185],{"type":20,"value":186},"Label",{"type":14,"tag":188,"props":189,"children":190},"tbody",{},[191],{"type":14,"tag":167,"props":192,"children":193},{},[194,203,230],{"type":14,"tag":195,"props":196,"children":197},"td",{"align":173},[198],{"type":14,"tag":28,"props":199,"children":201},{"className":200},[],[202],{"type":20,"value":33},{"type":14,"tag":195,"props":204,"children":205},{"align":173},[206,212,213,218,219,224,225],{"type":14,"tag":37,"props":207,"children":209},{"href":208},"/configuration/block/definitions",[210],{"type":20,"value":211},"Definitions Block",{"type":20,"value":81},{"type":14,"tag":37,"props":214,"children":215},{"href":72},[216],{"type":20,"value":217},"OAuth2 Block",{"type":20,"value":81},{"type":14,"tag":37,"props":220,"children":221},{"href":96},[222],{"type":20,"value":223},"OAuth2 AC (Beta) Block",{"type":20,"value":81},{"type":14,"tag":37,"props":226,"children":227},{"href":84},[228],{"type":20,"value":229},"OIDC Block",{"type":14,"tag":195,"props":231,"children":232},{"align":173},[233],{"type":20,"value":234},"required if defined in defititions",{"type":14,"tag":236,"props":237,"children":239},"attributes",{":values":238},"[{\"default\":\"\",\"description\":\"Claims for the JWT payload, claim values are evaluated per request.\",\"name\":\"claims\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Additional HTTP header fields for the JWT, `typ` has the default value `JWT`, `alg` cannot be set.\",\"name\":\"headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Private key (in PEM format) for `RS*` and `ES*` variants or the secret for `HS*` algorithms. Mutually exclusive with `key_file`.\",\"name\":\"key\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Reference to file containing signing key. Mutually exclusive with `key`. See `key` for more information.\",\"name\":\"key_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Algorithm used for signing: `\\\"RS256\\\"`, `\\\"RS384\\\"`, `\\\"RS512\\\"`, `\\\"HS256\\\"`, `\\\"HS384\\\"`, `\\\"HS512\\\"`, `\\\"ES256\\\"`, `\\\"ES384\\\"`, `\\\"ES512\\\"`.\",\"name\":\"signature_algorithm\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The token's time-to-live, creates the `exp` claim.\",\"name\":\"ttl\",\"type\":\"string\"}]",[],{"type":14,"tag":241,"props":242,"children":243},"duration",{},[244],{"type":14,"tag":245,"props":246,"children":247},"hr",{},[],{"type":14,"tag":249,"props":250,"children":252},"h3",{"id":251},"example",[253],{"type":20,"value":254},"Example",{"type":14,"tag":256,"props":257,"children":261},"pre",{"className":258,"code":259,"language":260,"meta":7,"style":7},"language-hcl shiki shiki-themes slack-dark","jwt_signing_profile \"myjwt\" {\n  signature_algorithm = \"RS256\"\n  key_file = \"priv_key.pem\"\n  ttl = \"600s\"\n  claims = {\n    iss = \"MyAS\"\n    iat = unixtime()\n  }\n  headers = {\n    kid = \"my-jwk-id\"\n  }\n}\n","hcl",[262],{"type":14,"tag":28,"props":263,"children":264},{"__ignoreMap":7},[265,288,309,327,345,362,381,405,414,431,449,457],{"type":14,"tag":266,"props":267,"children":270},"span",{"class":268,"line":269},"line",1,[271,276,282],{"type":14,"tag":266,"props":272,"children":274},{"style":273},"--shiki-default:#4EC9B0",[275],{"type":20,"value":33},{"type":14,"tag":266,"props":277,"children":279},{"style":278},"--shiki-default:#9CDCFE",[280],{"type":20,"value":281}," \"myjwt\"",{"type":14,"tag":266,"props":283,"children":285},{"style":284},"--shiki-default:#E6E6E6",[286],{"type":20,"value":287}," {\n",{"type":14,"tag":266,"props":289,"children":291},{"class":268,"line":290},2,[292,297,303],{"type":14,"tag":266,"props":293,"children":294},{"style":278},[295],{"type":20,"value":296},"  signature_algorithm ",{"type":14,"tag":266,"props":298,"children":300},{"style":299},"--shiki-default:#D4D4D4",[301],{"type":20,"value":302},"=",{"type":14,"tag":266,"props":304,"children":306},{"style":305},"--shiki-default:#CE9178",[307],{"type":20,"value":308}," \"RS256\"\n",{"type":14,"tag":266,"props":310,"children":312},{"class":268,"line":311},3,[313,318,322],{"type":14,"tag":266,"props":314,"children":315},{"style":278},[316],{"type":20,"value":317},"  key_file ",{"type":14,"tag":266,"props":319,"children":320},{"style":299},[321],{"type":20,"value":302},{"type":14,"tag":266,"props":323,"children":324},{"style":305},[325],{"type":20,"value":326}," \"priv_key.pem\"\n",{"type":14,"tag":266,"props":328,"children":330},{"class":268,"line":329},4,[331,336,340],{"type":14,"tag":266,"props":332,"children":333},{"style":278},[334],{"type":20,"value":335},"  ttl ",{"type":14,"tag":266,"props":337,"children":338},{"style":299},[339],{"type":20,"value":302},{"type":14,"tag":266,"props":341,"children":342},{"style":305},[343],{"type":20,"value":344}," \"600s\"\n",{"type":14,"tag":266,"props":346,"children":348},{"class":268,"line":347},5,[349,354,358],{"type":14,"tag":266,"props":350,"children":351},{"style":278},[352],{"type":20,"value":353},"  claims ",{"type":14,"tag":266,"props":355,"children":356},{"style":299},[357],{"type":20,"value":302},{"type":14,"tag":266,"props":359,"children":360},{"style":284},[361],{"type":20,"value":287},{"type":14,"tag":266,"props":363,"children":365},{"class":268,"line":364},6,[366,371,376],{"type":14,"tag":266,"props":367,"children":368},{"style":278},[369],{"type":20,"value":370},"    iss",{"type":14,"tag":266,"props":372,"children":373},{"style":299},[374],{"type":20,"value":375}," =",{"type":14,"tag":266,"props":377,"children":378},{"style":305},[379],{"type":20,"value":380}," \"MyAS\"\n",{"type":14,"tag":266,"props":382,"children":384},{"class":268,"line":383},7,[385,390,394,400],{"type":14,"tag":266,"props":386,"children":387},{"style":278},[388],{"type":20,"value":389},"    iat",{"type":14,"tag":266,"props":391,"children":392},{"style":299},[393],{"type":20,"value":375},{"type":14,"tag":266,"props":395,"children":397},{"style":396},"--shiki-default:#DCDCAA",[398],{"type":20,"value":399}," unixtime",{"type":14,"tag":266,"props":401,"children":402},{"style":284},[403],{"type":20,"value":404},"()\n",{"type":14,"tag":266,"props":406,"children":408},{"class":268,"line":407},8,[409],{"type":14,"tag":266,"props":410,"children":411},{"style":284},[412],{"type":20,"value":413},"  }\n",{"type":14,"tag":266,"props":415,"children":417},{"class":268,"line":416},9,[418,423,427],{"type":14,"tag":266,"props":419,"children":420},{"style":278},[421],{"type":20,"value":422},"  headers ",{"type":14,"tag":266,"props":424,"children":425},{"style":299},[426],{"type":20,"value":302},{"type":14,"tag":266,"props":428,"children":429},{"style":284},[430],{"type":20,"value":287},{"type":14,"tag":266,"props":432,"children":434},{"class":268,"line":433},10,[435,440,444],{"type":14,"tag":266,"props":436,"children":437},{"style":278},[438],{"type":20,"value":439},"    kid",{"type":14,"tag":266,"props":441,"children":442},{"style":299},[443],{"type":20,"value":375},{"type":14,"tag":266,"props":445,"children":446},{"style":305},[447],{"type":20,"value":448}," \"my-jwk-id\"\n",{"type":14,"tag":266,"props":450,"children":452},{"class":268,"line":451},11,[453],{"type":14,"tag":266,"props":454,"children":455},{"style":284},[456],{"type":20,"value":413},{"type":14,"tag":266,"props":458,"children":460},{"class":268,"line":459},12,[461],{"type":14,"tag":266,"props":462,"children":463},{"style":284},[464],{"type":20,"value":465},"}\n",{"type":14,"tag":22,"props":467,"children":468},{},[469,471,479],{"type":20,"value":470},"A detailed example can be found ",{"type":14,"tag":37,"props":472,"children":476},{"href":473,"rel":474},"https://github.com/coupergateway/couper-examples/blob/master/creating-jwt/README.md",[475],"nofollow",[477],{"type":20,"value":478},"here",{"type":20,"value":58},{"type":14,"tag":481,"props":482,"children":483},"style",{},[484],{"type":20,"value":485},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":290,"depth":290,"links":487},[488],{"id":251,"depth":311,"text":254},"markdown","content:2.configuration:4.block:jwt_signing_profile.md","content","2.configuration/4.block/jwt_signing_profile.md","md",1712569790771]