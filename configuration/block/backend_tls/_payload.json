[{"data":1,"prerenderedAt":352},["Reactive",2],{"content-query-lBN44T4jlq":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"draft":6,"body":10,"_type":347,"_id":348,"_source":349,"_file":350,"_extension":351},"/configuration/block/backend_tls","block",false,"","TLS (Backend)","TLS settings for the related backend.",{"type":11,"children":12,"toc":344},"root",[13,21,23,85,122,129,166,173,333,338],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"tls-backend",[19],{"type":20,"value":8},"text",{"type":20,"value":22},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":14,"tag":24,"props":25,"children":26},"table",{},[27,52],{"type":14,"tag":28,"props":29,"children":30},"thead",{},[31],{"type":14,"tag":32,"props":33,"children":34},"tr",{},[35,42,47],{"type":14,"tag":36,"props":37,"children":39},"th",{"align":38},"left",[40],{"type":20,"value":41},"Block name",{"type":14,"tag":36,"props":43,"children":44},{"align":38},[45],{"type":20,"value":46},"Context",{"type":14,"tag":36,"props":48,"children":49},{"align":38},[50],{"type":20,"value":51},"Label",{"type":14,"tag":53,"props":54,"children":55},"tbody",{},[56],{"type":14,"tag":32,"props":57,"children":58},{},[59,70,80],{"type":14,"tag":60,"props":61,"children":62},"td",{"align":38},[63],{"type":14,"tag":64,"props":65,"children":67},"code",{"className":66},[],[68],{"type":20,"value":69},"tls",{"type":14,"tag":60,"props":71,"children":72},{"align":38},[73],{"type":14,"tag":74,"props":75,"children":77},"a",{"href":76},"/configuration/block/backend",[78],{"type":20,"value":79},"Backend Block",{"type":14,"tag":60,"props":81,"children":82},{"align":38},[83],{"type":20,"value":84},"no",{"type":14,"tag":86,"props":87,"children":88},"p",{},[89,91,97,99,104,106,112,114,120],{"type":20,"value":90},"Couper has a command-line argument to add a ",{"type":14,"tag":64,"props":92,"children":94},{"className":93},[],[95],{"type":20,"value":96},"ca-file",{"type":20,"value":98}," to the backend CA-Pool for all backends.\nHowever, this ",{"type":14,"tag":64,"props":100,"children":102},{"className":101},[],[103],{"type":20,"value":69},{"type":20,"value":105}," block allows a more specific pool configuration per backend if the ",{"type":14,"tag":64,"props":107,"children":109},{"className":108},[],[110],{"type":20,"value":111},"server_ca_certificate",{"type":20,"value":113}," or\n",{"type":14,"tag":64,"props":115,"children":117},{"className":116},[],[118],{"type":20,"value":119},"server_ca_certificate_file",{"type":20,"value":121}," is provided.",{"type":14,"tag":123,"props":124,"children":126},"h3",{"id":125},"mtls",[127],{"type":20,"value":128},"mTLS",{"type":14,"tag":86,"props":130,"children":131},{},[132,134,140,142,148,150,156,158,164],{"type":20,"value":133},"Additionally the ",{"type":14,"tag":64,"props":135,"children":137},{"className":136},[],[138],{"type":20,"value":139},"client_certificate",{"type":20,"value":141},"(or ",{"type":14,"tag":64,"props":143,"children":145},{"className":144},[],[146],{"type":20,"value":147},"client_certificate_file",{"type":20,"value":149},") and ",{"type":14,"tag":64,"props":151,"children":153},{"className":152},[],[154],{"type":20,"value":155},"client_private_key",{"type":20,"value":157}," (or ",{"type":14,"tag":64,"props":159,"children":161},{"className":160},[],[162],{"type":20,"value":163},"client_private_key_file",{"type":20,"value":165},")\nattributes allow the backend to present certificate and key during a TLS handshake to an origin which requires them due to an mTLS setup.",{"type":14,"tag":167,"props":168,"children":170},"h4",{"id":169},"example",[171],{"type":20,"value":172},"Example",{"type":14,"tag":174,"props":175,"children":179},"pre",{"className":176,"code":177,"language":178,"meta":7,"style":7},"language-hcl shiki shiki-themes slack-dark","backend \"secured\" {\n    origin = \"https://localhost\"\n\n    tls {\n      server_ca_certificate_file = \"rootCA.crt\"\n      # optional\n      client_certificate_file = \"client.crt\"\n      client_private_key_file = \"client.key\"\n    }\n  }\n","hcl",[180],{"type":14,"tag":64,"props":181,"children":182},{"__ignoreMap":7},[183,207,228,238,251,269,279,297,315,324],{"type":14,"tag":184,"props":185,"children":188},"span",{"class":186,"line":187},"line",1,[189,195,201],{"type":14,"tag":184,"props":190,"children":192},{"style":191},"--shiki-default:#4EC9B0",[193],{"type":20,"value":194},"backend",{"type":14,"tag":184,"props":196,"children":198},{"style":197},"--shiki-default:#9CDCFE",[199],{"type":20,"value":200}," \"secured\"",{"type":14,"tag":184,"props":202,"children":204},{"style":203},"--shiki-default:#E6E6E6",[205],{"type":20,"value":206}," {\n",{"type":14,"tag":184,"props":208,"children":210},{"class":186,"line":209},2,[211,216,222],{"type":14,"tag":184,"props":212,"children":213},{"style":197},[214],{"type":20,"value":215},"    origin ",{"type":14,"tag":184,"props":217,"children":219},{"style":218},"--shiki-default:#D4D4D4",[220],{"type":20,"value":221},"=",{"type":14,"tag":184,"props":223,"children":225},{"style":224},"--shiki-default:#CE9178",[226],{"type":20,"value":227}," \"https://localhost\"\n",{"type":14,"tag":184,"props":229,"children":231},{"class":186,"line":230},3,[232],{"type":14,"tag":184,"props":233,"children":235},{"emptyLinePlaceholder":234},true,[236],{"type":20,"value":237},"\n",{"type":14,"tag":184,"props":239,"children":241},{"class":186,"line":240},4,[242,247],{"type":14,"tag":184,"props":243,"children":244},{"style":191},[245],{"type":20,"value":246},"    tls",{"type":14,"tag":184,"props":248,"children":249},{"style":203},[250],{"type":20,"value":206},{"type":14,"tag":184,"props":252,"children":254},{"class":186,"line":253},5,[255,260,264],{"type":14,"tag":184,"props":256,"children":257},{"style":197},[258],{"type":20,"value":259},"      server_ca_certificate_file ",{"type":14,"tag":184,"props":261,"children":262},{"style":218},[263],{"type":20,"value":221},{"type":14,"tag":184,"props":265,"children":266},{"style":224},[267],{"type":20,"value":268}," \"rootCA.crt\"\n",{"type":14,"tag":184,"props":270,"children":272},{"class":186,"line":271},6,[273],{"type":14,"tag":184,"props":274,"children":276},{"style":275},"--shiki-default:#6A9955",[277],{"type":20,"value":278},"      # optional\n",{"type":14,"tag":184,"props":280,"children":282},{"class":186,"line":281},7,[283,288,292],{"type":14,"tag":184,"props":284,"children":285},{"style":197},[286],{"type":20,"value":287},"      client_certificate_file ",{"type":14,"tag":184,"props":289,"children":290},{"style":218},[291],{"type":20,"value":221},{"type":14,"tag":184,"props":293,"children":294},{"style":224},[295],{"type":20,"value":296}," \"client.crt\"\n",{"type":14,"tag":184,"props":298,"children":300},{"class":186,"line":299},8,[301,306,310],{"type":14,"tag":184,"props":302,"children":303},{"style":197},[304],{"type":20,"value":305},"      client_private_key_file ",{"type":14,"tag":184,"props":307,"children":308},{"style":218},[309],{"type":20,"value":221},{"type":14,"tag":184,"props":311,"children":312},{"style":224},[313],{"type":20,"value":314}," \"client.key\"\n",{"type":14,"tag":184,"props":316,"children":318},{"class":186,"line":317},9,[319],{"type":14,"tag":184,"props":320,"children":321},{"style":203},[322],{"type":20,"value":323},"    }\n",{"type":14,"tag":184,"props":325,"children":327},{"class":186,"line":326},10,[328],{"type":14,"tag":184,"props":329,"children":330},{"style":203},[331],{"type":20,"value":332},"  }\n",{"type":14,"tag":334,"props":335,"children":337},"attributes",{":values":336},"[{\"default\":\"\",\"description\":\"Public part of the client certificate in DER or PEM format. Mutually exclusive with `client_certificate_file`.\",\"name\":\"client_certificate\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Reference to a file containing the public part of the client certificate file in DER or PEM format. Mutually exclusive with `client_certificate`.\",\"name\":\"client_certificate_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Private part of the client certificate in DER or PEM format. Required to complete an mTLS handshake. Mutually exclusive with `client_private_key_file`.\",\"name\":\"client_private_key\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Reference to a file containing the private part of the client certificate file in DER or PEM format. Required to complete an mTLS handshake. Mutually exclusive with `client_private_key`.\",\"name\":\"client_private_key_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Public part of the certificate authority in DER or PEM format. Mutually exclusive with `server_ca_certificate_file`.\",\"name\":\"server_ca_certificate\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Reference to a file containing the public part of the certificate authority file in DER or PEM format. Mutually exclusive with `server_ca_certificate`.\",\"name\":\"server_ca_certificate_file\",\"type\":\"string\"}]",[],{"type":14,"tag":339,"props":340,"children":341},"style",{},[342],{"type":20,"value":343},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":209,"depth":209,"links":345},[346],{"id":125,"depth":230,"text":128},"markdown","content:2.configuration:4.block:backend_tls.md","content","2.configuration/4.block/backend_tls.md","md",1710707502957]