[{"data":1,"prerenderedAt":389},["Reactive",2],{"content-query-HD7TPVdh2g":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"draft":6,"body":10,"_type":384,"_id":385,"_source":386,"_file":387,"_extension":388},"/configuration/block/client_certificate","block",false,"","Client Certificate","The `client_certificate` block is part of its parent `tls` block. Enables mTLS configuration.",{"type":11,"children":12,"toc":381},"root",[13,21,23,85,114,128,178,185,370,375],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"client-certificate",[19],{"type":20,"value":8},"text",{"type":20,"value":22},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":14,"tag":24,"props":25,"children":26},"table",{},[27,52],{"type":14,"tag":28,"props":29,"children":30},"thead",{},[31],{"type":14,"tag":32,"props":33,"children":34},"tr",{},[35,42,47],{"type":14,"tag":36,"props":37,"children":39},"th",{"align":38},"left",[40],{"type":20,"value":41},"Block name",{"type":14,"tag":36,"props":43,"children":44},{"align":38},[45],{"type":20,"value":46},"Context",{"type":14,"tag":36,"props":48,"children":49},{"align":38},[50],{"type":20,"value":51},"Label",{"type":14,"tag":53,"props":54,"children":55},"tbody",{},[56],{"type":14,"tag":32,"props":57,"children":58},{},[59,70,80],{"type":14,"tag":60,"props":61,"children":62},"td",{"align":38},[63],{"type":14,"tag":64,"props":65,"children":67},"code",{"className":66},[],[68],{"type":20,"value":69},"client_certificate",{"type":14,"tag":60,"props":71,"children":72},{"align":38},[73],{"type":14,"tag":74,"props":75,"children":77},"a",{"href":76},"/configuration/block/server_tls",[78],{"type":20,"value":79},"tls Block",{"type":14,"tag":60,"props":81,"children":82},{"align":38},[83],{"type":20,"value":84},"optional",{"type":14,"tag":86,"props":87,"children":88},"p",{},[89,91,96,98,104,106,112],{"type":20,"value":90},"Define an optional ",{"type":14,"tag":64,"props":92,"children":94},{"className":93},[],[95],{"type":20,"value":69},{"type":20,"value":97}," block with its optional ",{"type":14,"tag":99,"props":100,"children":101},"em",{},[102],{"type":20,"value":103},"label",{"type":20,"value":105}," to enable ",{"type":14,"tag":107,"props":108,"children":109},"strong",{},[110],{"type":20,"value":111},"mTLS",{"type":20,"value":113},".",{"type":14,"tag":115,"props":116,"children":117},"blockquote",{},[118],{"type":14,"tag":86,"props":119,"children":120},{},[121,126],{"type":14,"tag":107,"props":122,"children":123},{},[124],{"type":20,"value":125},"mTLS:",{"type":20,"value":127}," stands for mutual TLS and will extend the normal handshake process with an additional request (client must present the certificate) and verification for the configured client certificate (CA).",{"type":14,"tag":86,"props":129,"children":130},{},[131,133,139,141,147,149,154,156,162,164,169,170,176],{"type":20,"value":132},"Configuring a ",{"type":14,"tag":64,"props":134,"children":136},{"className":135},[],[137],{"type":20,"value":138},"ca_certificate",{"type":20,"value":140}," is the standard way to specify a client certificate. But you can also provide the ",{"type":14,"tag":64,"props":142,"children":144},{"className":143},[],[145],{"type":20,"value":146},"leaf_certificate",{"type":20,"value":148},"\nwhich effectively is the client certificate. The server will verify the given client certificate byte by byte against its own leaf certificate.\nA combination of ",{"type":14,"tag":64,"props":150,"children":152},{"className":151},[],[153],{"type":20,"value":138},{"type":20,"value":155},"(or ",{"type":14,"tag":64,"props":157,"children":159},{"className":158},[],[160],{"type":20,"value":161},"ca_certificate_file",{"type":20,"value":163},") or/and ",{"type":14,"tag":64,"props":165,"children":167},{"className":166},[],[168],{"type":20,"value":146},{"type":20,"value":155},{"type":14,"tag":64,"props":171,"children":173},{"className":172},[],[174],{"type":20,"value":175},"leaf_certificate_file",{"type":20,"value":177},") is valid.\nThis covers the use-case where the CA has signed multiple client certificates and you want to limit the access to specific ones.",{"type":14,"tag":179,"props":180,"children":182},"h2",{"id":181},"example",[183],{"type":20,"value":184},"Example",{"type":14,"tag":186,"props":187,"children":191},"pre",{"className":188,"code":189,"language":190,"meta":7,"style":7},"language-hcl shiki shiki-themes slack-dark","client_certificate \"IOT\" {\n  ca_certificate = \"base64_der\" # PEM or DER encoded\n  # OR\n  ca_certificate_file = \"couperIntermediate.crt\" # PEM\n\n  # OR/AND\n  # trusted client leaf cert\n\n  leaf_certificate = \"base64_der\"\n  # OR\n  leaf_certificate_file = \"couperClient.crt\" # PEM\n}\n","hcl",[192],{"type":14,"tag":64,"props":193,"children":194},{"__ignoreMap":7},[195,218,245,254,277,287,296,305,313,331,339,361],{"type":14,"tag":196,"props":197,"children":200},"span",{"class":198,"line":199},"line",1,[201,206,212],{"type":14,"tag":196,"props":202,"children":204},{"style":203},"--shiki-default:#4EC9B0",[205],{"type":20,"value":69},{"type":14,"tag":196,"props":207,"children":209},{"style":208},"--shiki-default:#9CDCFE",[210],{"type":20,"value":211}," \"IOT\"",{"type":14,"tag":196,"props":213,"children":215},{"style":214},"--shiki-default:#E6E6E6",[216],{"type":20,"value":217}," {\n",{"type":14,"tag":196,"props":219,"children":221},{"class":198,"line":220},2,[222,227,233,239],{"type":14,"tag":196,"props":223,"children":224},{"style":208},[225],{"type":20,"value":226},"  ca_certificate ",{"type":14,"tag":196,"props":228,"children":230},{"style":229},"--shiki-default:#D4D4D4",[231],{"type":20,"value":232},"=",{"type":14,"tag":196,"props":234,"children":236},{"style":235},"--shiki-default:#CE9178",[237],{"type":20,"value":238}," \"base64_der\"",{"type":14,"tag":196,"props":240,"children":242},{"style":241},"--shiki-default:#6A9955",[243],{"type":20,"value":244}," # PEM or DER encoded\n",{"type":14,"tag":196,"props":246,"children":248},{"class":198,"line":247},3,[249],{"type":14,"tag":196,"props":250,"children":251},{"style":241},[252],{"type":20,"value":253},"  # OR\n",{"type":14,"tag":196,"props":255,"children":257},{"class":198,"line":256},4,[258,263,267,272],{"type":14,"tag":196,"props":259,"children":260},{"style":208},[261],{"type":20,"value":262},"  ca_certificate_file ",{"type":14,"tag":196,"props":264,"children":265},{"style":229},[266],{"type":20,"value":232},{"type":14,"tag":196,"props":268,"children":269},{"style":235},[270],{"type":20,"value":271}," \"couperIntermediate.crt\"",{"type":14,"tag":196,"props":273,"children":274},{"style":241},[275],{"type":20,"value":276}," # PEM\n",{"type":14,"tag":196,"props":278,"children":280},{"class":198,"line":279},5,[281],{"type":14,"tag":196,"props":282,"children":284},{"emptyLinePlaceholder":283},true,[285],{"type":20,"value":286},"\n",{"type":14,"tag":196,"props":288,"children":290},{"class":198,"line":289},6,[291],{"type":14,"tag":196,"props":292,"children":293},{"style":241},[294],{"type":20,"value":295},"  # OR/AND\n",{"type":14,"tag":196,"props":297,"children":299},{"class":198,"line":298},7,[300],{"type":14,"tag":196,"props":301,"children":302},{"style":241},[303],{"type":20,"value":304},"  # trusted client leaf cert\n",{"type":14,"tag":196,"props":306,"children":308},{"class":198,"line":307},8,[309],{"type":14,"tag":196,"props":310,"children":311},{"emptyLinePlaceholder":283},[312],{"type":20,"value":286},{"type":14,"tag":196,"props":314,"children":316},{"class":198,"line":315},9,[317,322,326],{"type":14,"tag":196,"props":318,"children":319},{"style":208},[320],{"type":20,"value":321},"  leaf_certificate ",{"type":14,"tag":196,"props":323,"children":324},{"style":229},[325],{"type":20,"value":232},{"type":14,"tag":196,"props":327,"children":328},{"style":235},[329],{"type":20,"value":330}," \"base64_der\"\n",{"type":14,"tag":196,"props":332,"children":334},{"class":198,"line":333},10,[335],{"type":14,"tag":196,"props":336,"children":337},{"style":241},[338],{"type":20,"value":253},{"type":14,"tag":196,"props":340,"children":342},{"class":198,"line":341},11,[343,348,352,357],{"type":14,"tag":196,"props":344,"children":345},{"style":208},[346],{"type":20,"value":347},"  leaf_certificate_file ",{"type":14,"tag":196,"props":349,"children":350},{"style":229},[351],{"type":20,"value":232},{"type":14,"tag":196,"props":353,"children":354},{"style":235},[355],{"type":20,"value":356}," \"couperClient.crt\"",{"type":14,"tag":196,"props":358,"children":359},{"style":241},[360],{"type":20,"value":276},{"type":14,"tag":196,"props":362,"children":364},{"class":198,"line":363},12,[365],{"type":14,"tag":196,"props":366,"children":367},{"style":214},[368],{"type":20,"value":369},"}\n",{"type":14,"tag":371,"props":372,"children":374},"attributes",{":values":373},"[{\"default\":\"\",\"description\":\"Public part of the certificate authority in DER or PEM format. Mutually exclusive with `ca_certificate_file`.\",\"name\":\"ca_certificate\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Reference to a file containing the public part of the certificate authority file in DER or PEM format. Mutually exclusive with `ca_certificate`.\",\"name\":\"ca_certificate_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Public part of the client certificate in DER or PEM format. Mutually exclusive with `leaf_certificate_file`.\",\"name\":\"leaf_certificate\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Reference to a file containing the public part of the client certificate file in DER or PEM format. Mutually exclusive with `leaf_certificate`.\",\"name\":\"leaf_certificate_file\",\"type\":\"string\"}]",[],{"type":14,"tag":376,"props":377,"children":378},"style",{},[379],{"type":20,"value":380},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":220,"depth":220,"links":382},[383],{"id":181,"depth":220,"text":184},"markdown","content:2.configuration:4.block:client_certificate.md","content","2.configuration/4.block/client_certificate.md","md",1712813440098]