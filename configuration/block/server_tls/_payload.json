[{"data":1,"prerenderedAt":489},["Reactive",2],{"content-query-1Gm23Agu31":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"draft":6,"body":10,"_type":484,"_id":485,"_source":486,"_file":487,"_extension":488},"/configuration/block/server_tls","block",false,"","TLS (Server)","TLS settings for the related server.",{"type":11,"children":12,"toc":480},"root",[13,21,23,85,121,138,167,174,189,195,469,474],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"tls-server",[19],{"type":20,"value":8},"text",{"type":20,"value":22},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":14,"tag":24,"props":25,"children":26},"table",{},[27,52],{"type":14,"tag":28,"props":29,"children":30},"thead",{},[31],{"type":14,"tag":32,"props":33,"children":34},"tr",{},[35,42,47],{"type":14,"tag":36,"props":37,"children":39},"th",{"align":38},"left",[40],{"type":20,"value":41},"Block name",{"type":14,"tag":36,"props":43,"children":44},{"align":38},[45],{"type":20,"value":46},"Context",{"type":14,"tag":36,"props":48,"children":49},{"align":38},[50],{"type":20,"value":51},"Label",{"type":14,"tag":53,"props":54,"children":55},"tbody",{},[56],{"type":14,"tag":32,"props":57,"children":58},{},[59,70,80],{"type":14,"tag":60,"props":61,"children":62},"td",{"align":38},[63],{"type":14,"tag":64,"props":65,"children":67},"code",{"className":66},[],[68],{"type":20,"value":69},"tls",{"type":14,"tag":60,"props":71,"children":72},{"align":38},[73],{"type":14,"tag":74,"props":75,"children":77},"a",{"href":76},"/configuration/block/server",[78],{"type":20,"value":79},"Server Block",{"type":14,"tag":60,"props":81,"children":82},{"align":38},[83],{"type":20,"value":84},"no",{"type":14,"tag":86,"props":87,"children":88},"p",{},[89,91,96,98,104,106,111,113,119],{"type":20,"value":90},"The ",{"type":14,"tag":64,"props":92,"children":94},{"className":93},[],[95],{"type":20,"value":69},{"type":20,"value":97}," block allows to configure one or more server certificates in the first place.\nThe certificates will be served on all ports within the ",{"type":14,"tag":64,"props":99,"children":101},{"className":100},[],[102],{"type":20,"value":103},"hosts",{"type":20,"value":105}," list. Enabling ",{"type":14,"tag":64,"props":107,"children":109},{"className":108},[],[110],{"type":20,"value":69},{"type":20,"value":112}," also enables the upgrade option to the ",{"type":14,"tag":64,"props":114,"children":116},{"className":115},[],[117],{"type":20,"value":118},"HTTP2",{"type":20,"value":120}," protocol.",{"type":14,"tag":122,"props":123,"children":124},"blockquote",{},[125],{"type":14,"tag":86,"props":126,"children":127},{},[128,130,136],{"type":20,"value":129},"The simplest configuration is an empty ",{"type":14,"tag":64,"props":131,"children":133},{"className":132},[],[134],{"type":20,"value":135},"tls {}",{"type":20,"value":137}," block which will serve a self signed certificate\nfor local development.",{"type":14,"tag":86,"props":139,"children":140},{},[141,143,153,155,165],{"type":20,"value":142},"Multiple ",{"type":14,"tag":74,"props":144,"children":146},{"href":145},"/configuration/block/server_certificate",[147],{"type":14,"tag":64,"props":148,"children":150},{"className":149},[],[151],{"type":20,"value":152},"server_certificate",{"type":20,"value":154}," or ",{"type":14,"tag":74,"props":156,"children":158},{"href":157},"/configuration/block/client_certificate",[159],{"type":14,"tag":64,"props":160,"children":162},{"className":161},[],[163],{"type":20,"value":164},"client_certificate",{"type":20,"value":166}," blocks are allowed.",{"type":14,"tag":168,"props":169,"children":171},"h2",{"id":170},"mtls",[172],{"type":20,"value":173},"mTLS",{"type":14,"tag":86,"props":175,"children":176},{},[177,179,187],{"type":20,"value":178},"Once a ",{"type":14,"tag":74,"props":180,"children":181},{"href":157},[182],{"type":14,"tag":64,"props":183,"children":185},{"className":184},[],[186],{"type":20,"value":164},{"type":20,"value":188}," block is defined the server automatically requests and verify a certificate from the client.",{"type":14,"tag":168,"props":190,"children":192},{"id":191},"example",[193],{"type":20,"value":194},"Example",{"type":14,"tag":196,"props":197,"children":201},"pre",{"className":198,"code":199,"language":200,"meta":7,"style":7},"language-hcl shiki shiki-themes slack-dark","server \"couper\" {\n  hosts = [\"*:443\"]\n\n  tls {\n    server_certificate \"api.example.com\" {\n      public_key_file = \"couperServer.crt\" # PEM\n      private_key_file = \"couperServer.key\" # PEM\n    }\n\n    # mTLS\n\n    client_certificate \"IOT\" {\n      ca_certificate_file = \"couperIntermediate.crt\" # PEM\n      # OR(AND!)\n      leaf_certificate_file = \"couperClient.crt\" # PEM\n    }\n  }\n","hcl",[202],{"type":14,"tag":64,"props":203,"children":204},{"__ignoreMap":7},[205,229,260,270,283,301,325,347,356,364,373,381,399,421,430,452,460],{"type":14,"tag":206,"props":207,"children":210},"span",{"class":208,"line":209},"line",1,[211,217,223],{"type":14,"tag":206,"props":212,"children":214},{"style":213},"--shiki-default:#4EC9B0",[215],{"type":20,"value":216},"server",{"type":14,"tag":206,"props":218,"children":220},{"style":219},"--shiki-default:#9CDCFE",[221],{"type":20,"value":222}," \"couper\"",{"type":14,"tag":206,"props":224,"children":226},{"style":225},"--shiki-default:#E6E6E6",[227],{"type":20,"value":228}," {\n",{"type":14,"tag":206,"props":230,"children":232},{"class":208,"line":231},2,[233,238,244,249,255],{"type":14,"tag":206,"props":234,"children":235},{"style":219},[236],{"type":20,"value":237},"  hosts ",{"type":14,"tag":206,"props":239,"children":241},{"style":240},"--shiki-default:#D4D4D4",[242],{"type":20,"value":243},"=",{"type":14,"tag":206,"props":245,"children":246},{"style":225},[247],{"type":20,"value":248}," [",{"type":14,"tag":206,"props":250,"children":252},{"style":251},"--shiki-default:#CE9178",[253],{"type":20,"value":254},"\"*:443\"",{"type":14,"tag":206,"props":256,"children":257},{"style":225},[258],{"type":20,"value":259},"]\n",{"type":14,"tag":206,"props":261,"children":263},{"class":208,"line":262},3,[264],{"type":14,"tag":206,"props":265,"children":267},{"emptyLinePlaceholder":266},true,[268],{"type":20,"value":269},"\n",{"type":14,"tag":206,"props":271,"children":273},{"class":208,"line":272},4,[274,279],{"type":14,"tag":206,"props":275,"children":276},{"style":213},[277],{"type":20,"value":278},"  tls",{"type":14,"tag":206,"props":280,"children":281},{"style":225},[282],{"type":20,"value":228},{"type":14,"tag":206,"props":284,"children":286},{"class":208,"line":285},5,[287,292,297],{"type":14,"tag":206,"props":288,"children":289},{"style":213},[290],{"type":20,"value":291},"    server_certificate",{"type":14,"tag":206,"props":293,"children":294},{"style":219},[295],{"type":20,"value":296}," \"api.example.com\"",{"type":14,"tag":206,"props":298,"children":299},{"style":225},[300],{"type":20,"value":228},{"type":14,"tag":206,"props":302,"children":304},{"class":208,"line":303},6,[305,310,314,319],{"type":14,"tag":206,"props":306,"children":307},{"style":219},[308],{"type":20,"value":309},"      public_key_file ",{"type":14,"tag":206,"props":311,"children":312},{"style":240},[313],{"type":20,"value":243},{"type":14,"tag":206,"props":315,"children":316},{"style":251},[317],{"type":20,"value":318}," \"couperServer.crt\"",{"type":14,"tag":206,"props":320,"children":322},{"style":321},"--shiki-default:#6A9955",[323],{"type":20,"value":324}," # PEM\n",{"type":14,"tag":206,"props":326,"children":328},{"class":208,"line":327},7,[329,334,338,343],{"type":14,"tag":206,"props":330,"children":331},{"style":219},[332],{"type":20,"value":333},"      private_key_file ",{"type":14,"tag":206,"props":335,"children":336},{"style":240},[337],{"type":20,"value":243},{"type":14,"tag":206,"props":339,"children":340},{"style":251},[341],{"type":20,"value":342}," \"couperServer.key\"",{"type":14,"tag":206,"props":344,"children":345},{"style":321},[346],{"type":20,"value":324},{"type":14,"tag":206,"props":348,"children":350},{"class":208,"line":349},8,[351],{"type":14,"tag":206,"props":352,"children":353},{"style":225},[354],{"type":20,"value":355},"    }\n",{"type":14,"tag":206,"props":357,"children":359},{"class":208,"line":358},9,[360],{"type":14,"tag":206,"props":361,"children":362},{"emptyLinePlaceholder":266},[363],{"type":20,"value":269},{"type":14,"tag":206,"props":365,"children":367},{"class":208,"line":366},10,[368],{"type":14,"tag":206,"props":369,"children":370},{"style":321},[371],{"type":20,"value":372},"    # mTLS\n",{"type":14,"tag":206,"props":374,"children":376},{"class":208,"line":375},11,[377],{"type":14,"tag":206,"props":378,"children":379},{"emptyLinePlaceholder":266},[380],{"type":20,"value":269},{"type":14,"tag":206,"props":382,"children":384},{"class":208,"line":383},12,[385,390,395],{"type":14,"tag":206,"props":386,"children":387},{"style":213},[388],{"type":20,"value":389},"    client_certificate",{"type":14,"tag":206,"props":391,"children":392},{"style":219},[393],{"type":20,"value":394}," \"IOT\"",{"type":14,"tag":206,"props":396,"children":397},{"style":225},[398],{"type":20,"value":228},{"type":14,"tag":206,"props":400,"children":402},{"class":208,"line":401},13,[403,408,412,417],{"type":14,"tag":206,"props":404,"children":405},{"style":219},[406],{"type":20,"value":407},"      ca_certificate_file ",{"type":14,"tag":206,"props":409,"children":410},{"style":240},[411],{"type":20,"value":243},{"type":14,"tag":206,"props":413,"children":414},{"style":251},[415],{"type":20,"value":416}," \"couperIntermediate.crt\"",{"type":14,"tag":206,"props":418,"children":419},{"style":321},[420],{"type":20,"value":324},{"type":14,"tag":206,"props":422,"children":424},{"class":208,"line":423},14,[425],{"type":14,"tag":206,"props":426,"children":427},{"style":321},[428],{"type":20,"value":429},"      # OR(AND!)\n",{"type":14,"tag":206,"props":431,"children":433},{"class":208,"line":432},15,[434,439,443,448],{"type":14,"tag":206,"props":435,"children":436},{"style":219},[437],{"type":20,"value":438},"      leaf_certificate_file ",{"type":14,"tag":206,"props":440,"children":441},{"style":240},[442],{"type":20,"value":243},{"type":14,"tag":206,"props":444,"children":445},{"style":251},[446],{"type":20,"value":447}," \"couperClient.crt\"",{"type":14,"tag":206,"props":449,"children":450},{"style":321},[451],{"type":20,"value":324},{"type":14,"tag":206,"props":453,"children":455},{"class":208,"line":454},16,[456],{"type":14,"tag":206,"props":457,"children":458},{"style":225},[459],{"type":20,"value":355},{"type":14,"tag":206,"props":461,"children":463},{"class":208,"line":462},17,[464],{"type":14,"tag":206,"props":465,"children":466},{"style":225},[467],{"type":20,"value":468},"  }\n",{"type":14,"tag":470,"props":471,"children":473},"blocks",{":values":472},"[{\"description\":\"Configures a [client certificate](/configuration/block/client_certificate) (zero or more).\",\"name\":\"client_certificate\"},{\"description\":\"Configures a [server certificate](/configuration/block/server_certificate) (zero or more).\",\"name\":\"server_certificate\"}]",[],{"type":14,"tag":475,"props":476,"children":477},"style",{},[478],{"type":20,"value":479},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":231,"depth":231,"links":481},[482,483],{"id":170,"depth":231,"text":173},{"id":191,"depth":231,"text":194},"markdown","content:2.configuration:4.block:server_tls.md","content","2.configuration/4.block/server_tls.md","md",1713208324367]