<!DOCTYPE html>
<html data-head-attrs="">
<head><title>JWT</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="prefetch" href="/api/_content/navigation"><link rel="prefetch" href="/api/_content/query/rpAdrlLIA9.json"><link rel="prefetch" href="/api/_content/query/6VR3urAcHj.json"><link rel="prefetch" href="/api/_content/query/rpAdrlLIA9.json"><meta name="description" content="The jwt block lets you configure JSON Web Token access control for your gateway.
Like all access control types, the jwt block is defined in
the definitions Block and can be referenced in all configuration blocks by its
required label."><meta name="head:count" content="7"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/entry.22a7c9d5.js"><link rel="preload" as="style" href="/_nuxt/entry.02528095.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/default.6a6d343c.js"><link rel="preload" as="style" href="/_nuxt/default.f85e48d4.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Logo.8a0cfadb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_plugin-vue_export-helper.a1a6add7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/GithubIcon.e87b433f.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/SearchBar.vue_vue_type_script_setup_true_lang.ddfea4c0.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/SearchResult.207f031a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/SearchResultItem.394300c3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentNavigation.a36a655d.js"><link rel="preload" as="style" href="/_nuxt/ContentNavigation.537896a3.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentList.04e51254.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ContentSlot.ae4fc57e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenEmpty.b05f6d38.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/DocumentDrivenNotFound.ec5868c4.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Markdown.dc78ce78.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCode.1104984e.js"><link rel="preload" as="style" href="/_nuxt/ProseCode.e63e49c6.css"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/SideNavbar.vue_vue_type_script_setup_true_lang.eda9478e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/SearchBar.b50615ab.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/SideNavbar.c1d2ff06.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/_...slug_.4df10875.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseH1.a6f4cac9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseP.b812e45a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseCodeInline.9f24520e.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseA.8ab4e9b9.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseEm.5b5a7bf7.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTable.5cb51bdb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseThead.f070ecc6.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTr.b22d2845.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTh.9be843a2.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTbody.abffe8cb.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseTd.fb0e0024.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Attributes.adf88e70.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseUl.fbb5a8e5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseLi.efff749a.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseBlockquote.1eaf9ac3.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/ProseStrong.37d2d3e5.js"><link rel="modulepreload" as="script" crossorigin href="/_nuxt/Duration.d185a893.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ProseH2.23dd0b16.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ProseH3.4f389024.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ProseH4.75ba7691.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ProseH5.8d07e1a2.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ProseH6.bb9bf1d0.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ProseHr.48e92ca1.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ProseImg.f04ca466.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/ProseOl.34b82a9f.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/algoliasearch-lite.esm.browser.4e056454.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/algoliasearch.esm.browser.4490c712.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/recommend.esm.browser.349dc2eb.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/web-socket.16ae4091.js"><link rel="prefetch" as="script" crossorigin href="/_nuxt/error-component.810a52a1.js"><link rel="stylesheet" href="/_nuxt/entry.02528095.css"><link rel="stylesheet" href="/_nuxt/default.f85e48d4.css"><link rel="stylesheet" href="/_nuxt/ContentNavigation.537896a3.css"><link rel="stylesheet" href="/_nuxt/ProseCode.e63e49c6.css"></head>
<body data-head-attrs=""><div id="__nuxt"><div class="antialiasing text-slate-700"><header class="flex justify-between p-1 headerShadow"><div class="relative w-2/5 flex items-center m-4"><svg width="30%" height="30%" viewbox="0 0 152 165" xmlns="http://www.w3.org/2000/svg" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;" class="box-border h-16 w-16 md:w-18 md:h-18 xl:w-22 xl:h-22"><g id="Page-1"><g id="Desktop-HD-Copy"><g id="couper-4"><g id="Group-39"><g id="Layer1"><path d="M15,116c0,0 -6.651,-73.835 61,-74c65.001,-0.158 62,74 62,74c0,0 -58.325,18.728 -123,0Z" style="fill:#fff;"></path></g><path id="Fill-2" d="M87.395,42.775c-3.714,-0.699 -7.537,-1.106 -11.457,-1.106c-33.907,-0 -61.394,27.439 -61.394,61.286l-0,11.331l22.913,6.435l-0,-17.766c-0,-29.935 21.511,-54.818 49.938,-60.18" style="fill:#e3e4e4;"></path><path id="Path" d="M97.262,0.364l-8.564,14.806l-8.479,-14.806l-8.569,14.821l-8.537,-14.806l-8.569,14.812l-2.537,-4.38l-12.157,0l0,6.029l8.669,0l6.025,10.408l8.557,-14.797l8.54,14.806l8.551,-14.791l8.479,14.803l8.564,-14.803l2.533,4.422l10.107,0l-0,-6.028l-6.604,-0l-6.009,-10.496Z" style="fill:#65b32e;"></path><path id="Fill-12" d="M40.784,15.473c1.062,-3.264 -0.732,-6.771 -4.002,-7.827c-3.27,-1.056 -6.778,0.731 -7.84,3.999c-1.059,3.26 0.736,6.766 4.001,7.823c3.274,1.056 6.783,-0.731 7.841,-3.995" style="fill:#fff;"></path><path id="Fill-121" serif:id="Fill-12" d="M122.784,15.473c1.062,-3.264 -0.732,-6.771 -4.002,-7.827c-3.27,-1.056 -6.778,0.731 -7.84,3.999c-1.059,3.26 0.736,6.766 4.001,7.823c3.274,1.056 6.783,-0.731 7.841,-3.995" style="fill:#fff;"></path><path id="Fill-4" d="M17.565,114.748l-0,-11.795c-0,-32.129 26.186,-58.269 58.372,-58.269c32.189,0 58.375,26.14 58.375,58.269l-0,11.756c-6.208,1.724 -26.413,6.514 -59.115,6.514c-32.536,-0 -51.711,-4.742 -57.632,-6.475m12.942,-101.15c-0,-2.43 1.978,-4.404 4.412,-4.404c2.433,0 4.411,1.974 4.411,4.404c0,2.429 -1.978,4.404 -4.411,4.404c-2.434,-0 -4.412,-1.975 -4.412,-4.404m81.771,-0c-0,-2.43 1.981,-4.404 4.415,-4.404c2.433,0 4.411,1.974 4.411,4.404c0,2.429 -1.978,4.404 -4.411,4.404c-2.434,-0 -4.415,-1.975 -4.415,-4.404m7.621,42.492l0,-32.614c4.189,-1.363 7.244,-5.251 7.244,-9.878c0,-5.751 -4.689,-10.433 -10.45,-10.433c-5.765,0 -10.454,4.682 -10.454,10.433c-0,4.765 3.237,8.75 7.621,9.992l0,27.506c-10.653,-7.786 -23.737,-12.44 -37.923,-12.44c-14.183,-0 -27.267,4.654 -37.92,12.44l-0,-27.587c4.245,-1.326 7.352,-5.245 7.352,-9.911c0,-5.751 -4.689,-10.433 -10.45,-10.433c-5.762,0 -10.451,4.682 -10.451,10.433c-0,4.726 3.185,8.681 7.509,9.959l0,32.533c-12.552,11.741 -20.451,28.38 -20.451,46.863l-0,49.187l6.039,0l-0,-31.113c5.628,1.54 17.175,4.105 34.846,5.408l-0.021,25.702l6.039,0.006l0.021,-25.332c5.146,0.272 10.69,0.441 16.747,0.441c6.58,-0 12.601,-0.199 18.169,-0.513l-0.018,25.398l6.039,0.006l0.021,-25.802c17.532,-1.353 29.236,-3.888 34.904,-5.377l-0,31.176l6.039,0l0,-49.187c0,-18.483 -7.899,-35.122 -20.452,-46.863" style="fill:#1a1b1c;"></path><path id="Fill-6" d="M82.703,87.309c-0,7.479 6.072,13.54 13.564,13.54c7.492,0 13.561,-6.061 13.561,-13.54c0,-7.475 -6.069,-13.54 -13.561,-13.54c-7.492,0 -13.564,6.065 -13.564,13.54" style="fill:#3ea1c1;"></path><path id="Fill-8" d="M96.266,76.784c-5.813,0 -10.544,4.721 -10.544,10.526c-0,5.803 4.731,10.526 10.544,10.526c5.813,0 10.545,-4.723 10.545,-10.526c-0,-5.805 -4.732,-10.526 -10.545,-10.526m0,27.081c-9.143,-0 -16.584,-7.425 -16.584,-16.555c0,-9.127 7.441,-16.554 16.584,-16.554c9.143,-0 16.584,7.427 16.584,16.554c-0,9.13 -7.441,16.555 -16.584,16.555" style="fill:#1a1b1c;"></path><path id="Fill-10" d="M100.992,87.309c-0,-2.604 -2.117,-4.714 -4.726,-4.714c-2.609,-0 -4.723,2.11 -4.723,4.714c0,2.605 2.114,4.718 4.723,4.718c2.609,-0 4.726,-2.113 4.726,-4.718" style="fill:#1a1b1c;"></path><path id="Fill-122" serif:id="Fill-12" d="M104.858,82.514c0.806,-2.478 -0.556,-5.139 -3.038,-5.941c-2.482,-0.802 -5.145,0.555 -5.952,3.035c-0.803,2.475 0.559,5.137 3.038,5.938c2.485,0.802 5.149,-0.554 5.952,-3.032" style="fill:#fff;"></path><path id="Fill-14" d="M28.878,164.681l-6.039,0l-0,-3.014c-0,-4.612 -3.756,-8.361 -8.373,-8.361c-4.62,-0 -8.377,3.749 -8.377,8.361l0,3.014l-6.039,0l-0,-3.014c-0,-7.933 6.468,-14.39 14.416,-14.39c7.944,-0 14.412,6.457 14.412,14.39l0,3.014Z" style="fill:#aa64aa;"></path><path id="Fill-16" d="M151.749,164.681l-6.04,0l0,-3.014c0,-4.612 -3.756,-8.361 -8.373,-8.361c-4.62,-0 -8.376,3.749 -8.376,8.361l-0,3.014l-6.04,0l0,-3.014c0,-7.933 6.465,-14.39 14.416,-14.39c7.948,-0 14.413,6.457 14.413,14.39l-0,3.014Z" style="fill:#eb3d3e;"></path><path id="Fill-18" d="M69.836,164.681l-6.039,0l-0,-3.014c-0,-4.612 -3.757,-8.361 -8.377,-8.361c-4.617,-0 -8.373,3.749 -8.373,8.361l-0,3.014l-6.039,0l-0,-3.014c-0,-7.933 6.465,-14.39 14.412,-14.39c7.948,-0 14.416,6.457 14.416,14.39l-0,3.014Z" style="fill:#3ea1c1;"></path><path id="Fill-20" d="M110.792,164.681l-6.039,0l0,-3.014c0,-4.612 -3.756,-8.361 -8.376,-8.361c-4.617,-0 -8.374,3.749 -8.374,8.361l0,3.014l-6.039,0l0,-3.014c0,-7.933 6.465,-14.39 14.413,-14.39c7.947,-0 14.415,6.457 14.415,14.39l0,3.014Z" style="fill:#f6ab1f;"></path></g></g></g></g></svg><h1 class="text-2xl font-medium align-top p-4">Couper Documentation</h1><div class="box-border text-base"><div class="rounded-md bg-lime-500 p-1">edge</div></div></div><div class="flex justify-around w-full"><div class="w-4/5 py-8 px-4 sm:px-8 lg:px-16 xl:px-5 mx-auto"><div class="mb-2 text-sm font-medium text-gray-900 dark:text-gray-500"><div class="ais-InstantSearch relative"><!--v-if--><!--v-if--></div></div></div></div><div class="w-1/5"><a href="https://github.com/avenga/couper" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" class="w-8 h-8 mt-8"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></div></header><div class="flex justify-between m-2 p-2 min-h-screen"><nav class="w-1/5 min-w-min grow-0 p-2"><!--[--><!--[--><div><div class="font-semibold text-lg text-amber-500">Getting Started</div><!--[--><div class="text-base pl-2"><div class="text-base"><a href="/getting-started/running-couper" class="pl-2 border-l-2">Running Couper</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/getting-started/examples" class="pl-2 border-l-2">Examples</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/getting-started/beta-features" class="pl-2 border-l-2">About beta features</a></div></div><!--]--></div><div><div class="font-semibold text-lg text-amber-500">Configuration</div><!--[--><div class="text-base pl-2"><div class="text-base"><a href="/configuration/command-line" class="pl-2 border-l-2">Command Line Interface</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/configuration-file" class="pl-2 border-l-2">Configuration File</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/expressions" class="pl-2 border-l-2">Expressions</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/modifiers" class="pl-2 border-l-2">Modifiers</a></div></div><div class="text-base pl-2"><div class="pl-2"><div class="font-semibold text-amber-500">Block</div><!--[--><div class="pl-2 border-l-2"><a href="/configuration/block/api" class="">API</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/backend" class="">Backend</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/basic_auth" class="">Basic Auth</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/cors" class="">CORS</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/defaults" class="">Defaults</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/definitions" class="">Definitions</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/endpoint" class="">Endpoint</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/environment" class="">Environment</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/error_handler" class="">Error Handler</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/files" class="">Files</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/health" class="">Health</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/jwt_signing_profile" class="">JWT Signing Profile</a></div><div class="pl-2 border-l-2 border-sky-400 text-sky-500 rounded-r-md"><a aria-current="page" href="/configuration/block/jwt" class="router-link-active router-link-exact-active">JWT</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/oauth2_ac" class="">OAuth2 AC (Beta)</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/oauth2_req_auth" class="">OAuth2</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/oidc" class="">OIDC</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/openapi" class="">OpenAPI</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/proxy" class="">Proxy</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/rate_limit" class="">Rate Limit (Beta)</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/request" class="">Request</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/response" class="">Response</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/saml" class="">SAML</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/server" class="">Server</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/settings" class="">Settings</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/spa" class="">SPA</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/token_request" class="">Token Request (Beta)</a></div><div class="pl-2 border-l-2"><a href="/configuration/block/websockets" class="">WebSockets</a></div><!--]--></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/variables" class="pl-2 border-l-2">Variables</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/functions" class="pl-2 border-l-2">Functions</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/error-handling" class="pl-2 border-l-2">Errors</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/multiple-files" class="pl-2 border-l-2">Merging</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/configuration/access-control" class="pl-2 border-l-2">Access Control</a></div></div><!--]--></div><div><div class="font-semibold text-lg text-amber-500">Observation</div><!--[--><div class="text-base pl-2"><div class="text-base"><a href="/observation/health" class="pl-2 border-l-2">Health Check</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/observation/logging" class="pl-2 border-l-2">Logging</a></div></div><div class="text-base pl-2"><div class="text-base"><a href="/observation/metrics" class="pl-2 border-l-2">Metrics</a></div></div><!--]--></div><div><!----><!--[--><!--]--></div><!--]--><!--]--></nav><main class="grow p-5 w-3/5 prose prose-slate prose-lg prose-code:bg-sky-100 prose-code:text-sky-900 prose-code:p-1 prose-code:rounded-md prose-code:text-sm prose-blockquote:bg-purple-100 prose-blockquote:rounded-md prose-a:text-sky-600 hover:prose-a:text-amber-500"><!--[--><div><!--[--><div><h1 id="jwt"><!--[-->JWT<!--]--></h1><p><!--[-->The <code><!--[-->jwt<!--]--></code> block lets you configure JSON Web Token access control for your gateway.
Like all <a href="/configuration/access-control" class=""><!--[-->access control<!--]--></a> types, the <code><!--[-->jwt<!--]--></code> block is defined in
the <a href="/configuration/block/definitions" class=""><!--[--><code><!--[-->definitions<!--]--></code> Block<!--]--></a> and can be referenced in all configuration blocks by its
required <em><!--[-->label<!--]--></em>.<!--]--></p><p><!--[-->Since responses from endpoints protected by JWT access controls are not publicly cacheable, a <code><!--[-->Cache-Control: private<!--]--></code> header field is added to the response, unless this feature is disabled with <code><!--[-->disable_private_caching = true<!--]--></code>.<!--]--></p><table><!--[--><thead><!--[--><tr><!--[--><th align="left"><!--[-->Block name<!--]--></th><th align="left"><!--[-->Context<!--]--></th><th align="left"><!--[-->Label<!--]--></th><th align="left"><!--[-->Nested block(s)<!--]--></th><!--]--></tr><!--]--></thead><tbody><!--[--><tr><!--[--><td align="left"><!--[--><code><!--[-->jwt<!--]--></code><!--]--></td><td align="left"><!--[--><a href="/configuration/block/definitions" class=""><!--[-->Definitions Block<!--]--></a><!--]--></td><td align="left"><!--[-->⚠ required<!--]--></td><td align="left"><!--[--><a href="/configuration/block/backend" class=""><!--[-->JWKS <code><!--[-->backend<!--]--></code><!--]--></a>, <a href="/configuration/block/error_handler" class=""><!--[-->Error Handler Block(s)<!--]--></a><!--]--></td><!--]--></tr><!--]--></tbody><!--]--></table><div><h3 id="attributes"><a href="#attributes">Attributes</a></h3><table class="table-auto"><thead><tr><!--[--><th>Attributes</th><th>Type</th><th>Default</th><th>Description</th><!--]--></tr></thead><tbody><!--[--><tr><!--[--><td><code>backend</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p><a href="backend"><code>backend</code> block</a> reference for enhancing JWKS requests.</p></div></td><!--]--></tr><tr><!--[--><td><code>beta_permissions_claim</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Name of claim containing the granted permissions. The claim value must either be a string containing a space-separated list of permissions or a list of string permissions.</p></div></td><!--]--></tr><tr><!--[--><td><code>beta_permissions_map</code></td><td><div>object</div></td><td><div>-</div></td><td><div><p>Mapping of granted permissions to additional granted permissions. Maps values from <code>beta_permissions_claim</code> and those created from <code>beta_roles_map</code>. The map is called recursively.</p></div></td><!--]--></tr><tr><!--[--><td><code>beta_roles_claim</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Name of claim specifying the roles of the user represented by the token. The claim value must either be a string containing a space-separated list of role values or a list of string role values.</p></div></td><!--]--></tr><tr><!--[--><td><code>beta_roles_map</code></td><td><div>object</div></td><td><div>-</div></td><td><div><p>Mapping of roles to granted permissions. Non-mapped roles can be assigned with <code>*</code> to specific permissions.</p></div></td><!--]--></tr><tr><!--[--><td><code>claims</code></td><td><div>object</div></td><td><div>-</div></td><td><div><p>Object with claims that must be given for a valid token (equals comparison with JWT payload). The claim values are evaluated per request.</p></div></td><!--]--></tr><tr><!--[--><td><code>cookie</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Read token value from a cookie. Cannot be used together with <code>header</code> or <code>token_value</code></p></div></td><!--]--></tr><tr><!--[--><td><code>custom_log_fields</code></td><td><div>object</div></td><td><div>-</div></td><td><div><p>log fields for <a href="/observation/logging#custom-logging">custom logging</a>. Inherited by nested blocks.</p></div></td><!--]--></tr><tr><!--[--><td><code>disable_private_caching</code></td><td><div>bool</div></td><td><code>false</code></td><td><div><p>If set to <code>true</code>, Couper does not add the <code>private</code> directive to the <code>Cache-Control</code> HTTP header field value.</p></div></td><!--]--></tr><tr><!--[--><td><code>header</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Read token value from the given request header field. Implies <code>Bearer</code> if <code>Authorization</code> (case-insensitive) is used, otherwise any other header name can be used. Cannot be used together with <code>cookie</code> or <code>token_value</code>.</p></div></td><!--]--></tr><tr><!--[--><td><code>jwks_max_stale</code></td><td><div>duration</div></td><td><code>&quot;1h&quot;</code></td><td><div><p>Time period the cached JWK set stays valid after its TTL has passed.</p></div></td><!--]--></tr><tr><!--[--><td><code>jwks_ttl</code></td><td><div>duration</div></td><td><code>&quot;1h&quot;</code></td><td><div><p>Time period the JWK set stays valid and may be cached.</p></div></td><!--]--></tr><tr><!--[--><td><code>jwks_url</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>URI pointing to a set of <a href="https://datatracker.ietf.org/doc/html/rfc7517">JSON Web Keys (RFC 7517)</a></p></div></td><!--]--></tr><tr><!--[--><td><code>key</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Public key (in PEM format) for <code>RS*</code> and <code>ES*</code> variants or the secret for <code>HS*</code> algorithm.</p></div></td><!--]--></tr><tr><!--[--><td><code>key_file</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Optional file reference instead of <code>key</code> usage.</p></div></td><!--]--></tr><tr><!--[--><td><code>required_claims</code></td><td><div>tuple (string)</div></td><td><code>[]</code></td><td><div><p>List of claim names that must be given for a valid token.</p></div></td><!--]--></tr><tr><!--[--><td><code>signature_algorithm</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Valid values: <code>RS256</code>, <code>RS384</code>, <code>RS512</code>, <code>HS256</code>, <code>HS384</code>, <code>HS512</code>, <code>ES256</code>, <code>ES384</code>, <code>ES512</code></p></div></td><!--]--></tr><tr><!--[--><td><code>signing_key</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Private key (in PEM format) for <code>RS*</code> and <code>ES*</code> variants.</p></div></td><!--]--></tr><tr><!--[--><td><code>signing_key_file</code></td><td><div>string</div></td><td><div>-</div></td><td><div><p>Optional file reference instead of <code>signing_key</code> usage.</p></div></td><!--]--></tr><tr><!--[--><td><code>signing_ttl</code></td><td><div>duration</div></td><td><div>-</div></td><td><div><p>The token's time-to-live (creates the <code>exp</code> claim).</p></div></td><!--]--></tr><tr><!--[--><td><code>token_value</code></td><td><div>object</div></td><td><div>-</div></td><td><div><p>Expression to obtain the token. Cannot be used together with <code>cookie</code> or <code>header</code>.</p></div></td><!--]--></tr><!--]--></tbody></table></div><p><!--[-->The attributes <code><!--[-->header<!--]--></code>, <code><!--[-->cookie<!--]--></code> and <code><!--[-->token_value<!--]--></code> are mutually exclusive.
If all three attributes are missing, <code><!--[-->header = &quot;Authorization&quot;<!--]--></code> will be implied, i.e. the token will be read from the incoming <code><!--[-->Authorization<!--]--></code> header.<!--]--></p><p><!--[-->If the key to verify the signatures of tokens does not change over time, it should be specified via either <code><!--[-->key<!--]--></code> or <code><!--[-->key_file<!--]--></code> (together with <code><!--[-->signature_algorithm<!--]--></code>).
Otherwise, a JSON web key set should be referenced via <code><!--[-->jwks_url<!--]--></code>; in this case, the tokens need a <code><!--[-->kid<!--]--></code> header.<!--]--></p><p><!--[-->A JWT access control configured by this block can extract permissions from<!--]--></p><ul><!--[--><li><!--[-->the value of the claim specified by <code><!--[-->beta_permissions_claim<!--]--></code> and<!--]--></li><li><!--[-->the result of mapping the value of the claim specified by <code><!--[-->beta_roles_claim<!--]--></code> using the <code><!--[-->beta_roles_map<!--]--></code>.<!--]--></li><!--]--></ul><p><!--[-->The <code><!--[-->jwt<!--]--></code> block may also be referenced by the <a href="/configuration/functions" class=""><!--[--><code><!--[-->jwt_sign()<!--]--></code> function<!--]--></a>, if it has a <code><!--[-->signing_ttl<!--]--></code> defined. For <code><!--[-->HS*<!--]--></code> algorithms the signing key is taken from <code><!--[-->key<!--]--></code>/<code><!--[-->key_file<!--]--></code>, for <code><!--[-->RS*<!--]--></code> and <code><!--[-->ES*<!--]--></code> algorithms, <code><!--[-->signing_key<!--]--></code> or <code><!--[-->signing_key_file<!--]--></code> have to be specified.<!--]--></p><blockquote><!--[--><p><!--[--><strong><!--[-->Note:<!--]--></strong> A <code><!--[-->jwt<!--]--></code> block with <code><!--[-->signing_ttl<!--]--></code> cannot have the same label as a <code><!--[-->jwt_signing_profile<!--]--></code> block.<!--]--></p><!--]--></blockquote><div><h3 id="duration"><a href="#duration">Duration</a></h3><div> Values of type duration are provided as number string followed by a unit listed below. <p>Example: <code>timeout = &quot;300s&quot;</code></p></div><table><thead><tr><th align="left">Duration units</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>ns</code></td><td align="left">nanoseconds</td></tr><tr><td align="left"><code>us</code> (or <code>µs</code>)</td><td align="left">microseconds</td></tr><tr><td align="left"><code>ms</code></td><td align="left">milliseconds</td></tr><tr><td align="left"><code>s</code></td><td align="left">seconds</td></tr><tr><td align="left"><code>m</code></td><td align="left">minutes</td></tr><tr><td align="left"><code>h</code></td><td align="left">hours</td></tr></tbody></table></div></div><!--]--><div class="flex items-center justify-between"><div><a href="/configuration/block/jwt_signing_profile" class="">&lt; JWT Signing Profile</a></div><div><a href="/configuration/block/oauth2_ac" class="">OAuth2 AC (Beta) &gt;</a></div></div></div><!--]--></main><nav class="w-1/5 grow-0 p-2"><h2 class="text-amber-500">On this Page</h2><ul><!--[--><!--]--></ul></nav></div><footer class="col-span-3 text-sm leading-6 m-10"><p>Copyright couper.io</p></footer></div></div><script>window.__NUXT__=(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm){return {data:{"content-query-jk1n0DRxlU":{_path:bb,_draft:l,_partial:l,_locale:Z,_empty:l,title:x,description:bf,excerpt:{type:y,children:[{type:b,tag:z,props:{id:g},children:[{type:a,value:x}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:_},{type:b,tag:e,props:{href:R},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:$},{type:b,tag:e,props:{href:k},children:[{type:b,tag:c,props:{},children:[{type:a,value:k}]},{type:a,value:aa}]},{type:a,value:ab},{type:b,tag:A,props:{},children:[{type:a,value:B}]},{type:a,value:j}]},{type:b,tag:f,props:{},children:[{type:a,value:ac},{type:b,tag:c,props:{},children:[{type:a,value:ad}]},{type:a,value:ae},{type:b,tag:c,props:{},children:[{type:a,value:af}]},{type:a,value:j}]},{type:b,tag:C,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:h,props:{align:d},children:[{type:a,value:E}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:F}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:G}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:H}]}]}]},{type:b,tag:I,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:i,props:{align:d},children:[{type:b,tag:c,props:{},children:[{type:a,value:g}]}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:k},children:[{type:a,value:J}]}]},{type:b,tag:i,props:{align:d},children:[{type:a,value:U}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:o},children:[{type:a,value:ag},{type:b,tag:c,props:{},children:[{type:a,value:o}]}]},{type:a,value:p},{type:b,tag:e,props:{href:V},children:[{type:a,value:ah}]}]}]}]}]},{type:b,tag:K,props:{":values":ai},children:[]},{type:b,tag:f,props:{},children:[{type:a,value:aj},{type:b,tag:c,props:{},children:[{type:a,value:ak}]},{type:a,value:p},{type:b,tag:c,props:{},children:[{type:a,value:al}]},{type:a,value:q},{type:b,tag:c,props:{},children:[{type:a,value:am}]},{type:a,value:an},{type:b,tag:c,props:{},children:[{type:a,value:ao}]},{type:a,value:ap},{type:b,tag:c,props:{},children:[{type:a,value:aq}]},{type:a,value:r}]},{type:b,tag:f,props:{},children:[{type:a,value:ar},{type:b,tag:c,props:{},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{},children:[{type:a,value:u}]},{type:a,value:as},{type:b,tag:c,props:{},children:[{type:a,value:at}]},{type:a,value:au},{type:b,tag:c,props:{},children:[{type:a,value:av}]},{type:a,value:aw},{type:b,tag:c,props:{},children:[{type:a,value:ax}]},{type:a,value:r}]},{type:b,tag:f,props:{},children:[{type:a,value:ay}]},{type:b,tag:az,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:aA},{type:b,tag:c,props:{},children:[{type:a,value:aB}]},{type:a,value:aC}]},{type:b,tag:v,props:{},children:[{type:a,value:aD},{type:b,tag:c,props:{},children:[{type:a,value:aE}]},{type:a,value:aF},{type:b,tag:c,props:{},children:[{type:a,value:aG}]},{type:a,value:j}]}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:aH},{type:b,tag:e,props:{href:L},children:[{type:b,tag:c,props:{},children:[{type:a,value:W}]},{type:a,value:M}]},{type:a,value:aI},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:aJ},{type:b,tag:c,props:{},children:[{type:a,value:aK}]},{type:a,value:aL},{type:b,tag:c,props:{},children:[{type:a,value:s}]},{type:a,value:N},{type:b,tag:c,props:{},children:[{type:a,value:u}]},{type:a,value:aM},{type:b,tag:c,props:{},children:[{type:a,value:aN}]},{type:a,value:q},{type:b,tag:c,props:{},children:[{type:a,value:aO}]},{type:a,value:aP},{type:b,tag:c,props:{},children:[{type:a,value:aQ}]},{type:a,value:t},{type:b,tag:c,props:{},children:[{type:a,value:aR}]},{type:a,value:aS}]},{type:b,tag:aT,props:{},children:[{type:b,tag:f,props:{},children:[{type:b,tag:X,props:{},children:[{type:a,value:aU}]},{type:a,value:aV},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:aW},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:aX},{type:b,tag:c,props:{},children:[{type:a,value:O}]},{type:a,value:aY}]}]},{type:b,tag:Y,props:{},children:[]}]},body:{type:y,children:[{type:b,tag:z,props:{id:g},children:[{type:a,value:x}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:_},{type:b,tag:e,props:{href:R},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:$},{type:b,tag:e,props:{href:k},children:[{type:b,tag:c,props:{},children:[{type:a,value:k}]},{type:a,value:aa}]},{type:a,value:ab},{type:b,tag:A,props:{},children:[{type:a,value:B}]},{type:a,value:j}]},{type:b,tag:f,props:{},children:[{type:a,value:ac},{type:b,tag:c,props:{},children:[{type:a,value:ad}]},{type:a,value:ae},{type:b,tag:c,props:{},children:[{type:a,value:af}]},{type:a,value:j}]},{type:b,tag:C,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:h,props:{align:d},children:[{type:a,value:E}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:F}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:G}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:H}]}]}]},{type:b,tag:I,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:i,props:{align:d},children:[{type:b,tag:c,props:{},children:[{type:a,value:g}]}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:k},children:[{type:a,value:J}]}]},{type:b,tag:i,props:{align:d},children:[{type:a,value:U}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:o},children:[{type:a,value:ag},{type:b,tag:c,props:{},children:[{type:a,value:o}]}]},{type:a,value:p},{type:b,tag:e,props:{href:V},children:[{type:a,value:ah}]}]}]}]}]},{type:b,tag:K,props:{":values":ai},children:[]},{type:b,tag:f,props:{},children:[{type:a,value:aj},{type:b,tag:c,props:{},children:[{type:a,value:ak}]},{type:a,value:p},{type:b,tag:c,props:{},children:[{type:a,value:al}]},{type:a,value:q},{type:b,tag:c,props:{},children:[{type:a,value:am}]},{type:a,value:an},{type:b,tag:c,props:{},children:[{type:a,value:ao}]},{type:a,value:ap},{type:b,tag:c,props:{},children:[{type:a,value:aq}]},{type:a,value:r}]},{type:b,tag:f,props:{},children:[{type:a,value:ar},{type:b,tag:c,props:{},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{},children:[{type:a,value:u}]},{type:a,value:as},{type:b,tag:c,props:{},children:[{type:a,value:at}]},{type:a,value:au},{type:b,tag:c,props:{},children:[{type:a,value:av}]},{type:a,value:aw},{type:b,tag:c,props:{},children:[{type:a,value:ax}]},{type:a,value:r}]},{type:b,tag:f,props:{},children:[{type:a,value:ay}]},{type:b,tag:az,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:aA},{type:b,tag:c,props:{},children:[{type:a,value:aB}]},{type:a,value:aC}]},{type:b,tag:v,props:{},children:[{type:a,value:aD},{type:b,tag:c,props:{},children:[{type:a,value:aE}]},{type:a,value:aF},{type:b,tag:c,props:{},children:[{type:a,value:aG}]},{type:a,value:j}]}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:aH},{type:b,tag:e,props:{href:L},children:[{type:b,tag:c,props:{},children:[{type:a,value:W}]},{type:a,value:M}]},{type:a,value:aI},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:aJ},{type:b,tag:c,props:{},children:[{type:a,value:aK}]},{type:a,value:aL},{type:b,tag:c,props:{},children:[{type:a,value:s}]},{type:a,value:N},{type:b,tag:c,props:{},children:[{type:a,value:u}]},{type:a,value:aM},{type:b,tag:c,props:{},children:[{type:a,value:aN}]},{type:a,value:q},{type:b,tag:c,props:{},children:[{type:a,value:aO}]},{type:a,value:aP},{type:b,tag:c,props:{},children:[{type:a,value:aQ}]},{type:a,value:t},{type:b,tag:c,props:{},children:[{type:a,value:aR}]},{type:a,value:aS}]},{type:b,tag:aT,props:{},children:[{type:b,tag:f,props:{},children:[{type:b,tag:X,props:{},children:[{type:a,value:aU}]},{type:a,value:aV},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:aW},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:aX},{type:b,tag:c,props:{},children:[{type:a,value:O}]},{type:a,value:aY}]}]},{type:b,tag:Y,props:{},children:[]}],toc:{title:P,searchDepth:aZ,depth:aZ,links:[]}},_type:a_,_id:bg,_source:a$,_file:bh,_extension:ba}},state:{"$sdd-pages":{"/configuration/block/jwt":{_path:bb,_draft:l,_partial:l,_locale:Z,_empty:l,title:x,description:bf,excerpt:{type:y,children:[{type:b,tag:z,props:{id:g},children:[{type:a,value:x}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:_},{type:b,tag:e,props:{href:R},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:$},{type:b,tag:e,props:{href:k},children:[{type:b,tag:c,props:{},children:[{type:a,value:k}]},{type:a,value:aa}]},{type:a,value:ab},{type:b,tag:A,props:{},children:[{type:a,value:B}]},{type:a,value:j}]},{type:b,tag:f,props:{},children:[{type:a,value:ac},{type:b,tag:c,props:{},children:[{type:a,value:ad}]},{type:a,value:ae},{type:b,tag:c,props:{},children:[{type:a,value:af}]},{type:a,value:j}]},{type:b,tag:C,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:h,props:{align:d},children:[{type:a,value:E}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:F}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:G}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:H}]}]}]},{type:b,tag:I,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:i,props:{align:d},children:[{type:b,tag:c,props:{},children:[{type:a,value:g}]}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:k},children:[{type:a,value:J}]}]},{type:b,tag:i,props:{align:d},children:[{type:a,value:U}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:o},children:[{type:a,value:ag},{type:b,tag:c,props:{},children:[{type:a,value:o}]}]},{type:a,value:p},{type:b,tag:e,props:{href:V},children:[{type:a,value:ah}]}]}]}]}]},{type:b,tag:K,props:{":values":ai},children:[]},{type:b,tag:f,props:{},children:[{type:a,value:aj},{type:b,tag:c,props:{},children:[{type:a,value:ak}]},{type:a,value:p},{type:b,tag:c,props:{},children:[{type:a,value:al}]},{type:a,value:q},{type:b,tag:c,props:{},children:[{type:a,value:am}]},{type:a,value:an},{type:b,tag:c,props:{},children:[{type:a,value:ao}]},{type:a,value:ap},{type:b,tag:c,props:{},children:[{type:a,value:aq}]},{type:a,value:r}]},{type:b,tag:f,props:{},children:[{type:a,value:ar},{type:b,tag:c,props:{},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{},children:[{type:a,value:u}]},{type:a,value:as},{type:b,tag:c,props:{},children:[{type:a,value:at}]},{type:a,value:au},{type:b,tag:c,props:{},children:[{type:a,value:av}]},{type:a,value:aw},{type:b,tag:c,props:{},children:[{type:a,value:ax}]},{type:a,value:r}]},{type:b,tag:f,props:{},children:[{type:a,value:ay}]},{type:b,tag:az,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:aA},{type:b,tag:c,props:{},children:[{type:a,value:aB}]},{type:a,value:aC}]},{type:b,tag:v,props:{},children:[{type:a,value:aD},{type:b,tag:c,props:{},children:[{type:a,value:aE}]},{type:a,value:aF},{type:b,tag:c,props:{},children:[{type:a,value:aG}]},{type:a,value:j}]}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:aH},{type:b,tag:e,props:{href:L},children:[{type:b,tag:c,props:{},children:[{type:a,value:W}]},{type:a,value:M}]},{type:a,value:aI},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:aJ},{type:b,tag:c,props:{},children:[{type:a,value:aK}]},{type:a,value:aL},{type:b,tag:c,props:{},children:[{type:a,value:s}]},{type:a,value:N},{type:b,tag:c,props:{},children:[{type:a,value:u}]},{type:a,value:aM},{type:b,tag:c,props:{},children:[{type:a,value:aN}]},{type:a,value:q},{type:b,tag:c,props:{},children:[{type:a,value:aO}]},{type:a,value:aP},{type:b,tag:c,props:{},children:[{type:a,value:aQ}]},{type:a,value:t},{type:b,tag:c,props:{},children:[{type:a,value:aR}]},{type:a,value:aS}]},{type:b,tag:aT,props:{},children:[{type:b,tag:f,props:{},children:[{type:b,tag:X,props:{},children:[{type:a,value:aU}]},{type:a,value:aV},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:aW},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:aX},{type:b,tag:c,props:{},children:[{type:a,value:O}]},{type:a,value:aY}]}]},{type:b,tag:Y,props:{},children:[]}]},body:{type:y,children:[{type:b,tag:z,props:{id:g},children:[{type:a,value:x}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:_},{type:b,tag:e,props:{href:R},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:$},{type:b,tag:e,props:{href:k},children:[{type:b,tag:c,props:{},children:[{type:a,value:k}]},{type:a,value:aa}]},{type:a,value:ab},{type:b,tag:A,props:{},children:[{type:a,value:B}]},{type:a,value:j}]},{type:b,tag:f,props:{},children:[{type:a,value:ac},{type:b,tag:c,props:{},children:[{type:a,value:ad}]},{type:a,value:ae},{type:b,tag:c,props:{},children:[{type:a,value:af}]},{type:a,value:j}]},{type:b,tag:C,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:h,props:{align:d},children:[{type:a,value:E}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:F}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:G}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:H}]}]}]},{type:b,tag:I,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:i,props:{align:d},children:[{type:b,tag:c,props:{},children:[{type:a,value:g}]}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:k},children:[{type:a,value:J}]}]},{type:b,tag:i,props:{align:d},children:[{type:a,value:U}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:o},children:[{type:a,value:ag},{type:b,tag:c,props:{},children:[{type:a,value:o}]}]},{type:a,value:p},{type:b,tag:e,props:{href:V},children:[{type:a,value:ah}]}]}]}]}]},{type:b,tag:K,props:{":values":ai},children:[]},{type:b,tag:f,props:{},children:[{type:a,value:aj},{type:b,tag:c,props:{},children:[{type:a,value:ak}]},{type:a,value:p},{type:b,tag:c,props:{},children:[{type:a,value:al}]},{type:a,value:q},{type:b,tag:c,props:{},children:[{type:a,value:am}]},{type:a,value:an},{type:b,tag:c,props:{},children:[{type:a,value:ao}]},{type:a,value:ap},{type:b,tag:c,props:{},children:[{type:a,value:aq}]},{type:a,value:r}]},{type:b,tag:f,props:{},children:[{type:a,value:ar},{type:b,tag:c,props:{},children:[{type:a,value:s}]},{type:a,value:t},{type:b,tag:c,props:{},children:[{type:a,value:u}]},{type:a,value:as},{type:b,tag:c,props:{},children:[{type:a,value:at}]},{type:a,value:au},{type:b,tag:c,props:{},children:[{type:a,value:av}]},{type:a,value:aw},{type:b,tag:c,props:{},children:[{type:a,value:ax}]},{type:a,value:r}]},{type:b,tag:f,props:{},children:[{type:a,value:ay}]},{type:b,tag:az,props:{},children:[{type:b,tag:v,props:{},children:[{type:a,value:aA},{type:b,tag:c,props:{},children:[{type:a,value:aB}]},{type:a,value:aC}]},{type:b,tag:v,props:{},children:[{type:a,value:aD},{type:b,tag:c,props:{},children:[{type:a,value:aE}]},{type:a,value:aF},{type:b,tag:c,props:{},children:[{type:a,value:aG}]},{type:a,value:j}]}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:aH},{type:b,tag:e,props:{href:L},children:[{type:b,tag:c,props:{},children:[{type:a,value:W}]},{type:a,value:M}]},{type:a,value:aI},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:aJ},{type:b,tag:c,props:{},children:[{type:a,value:aK}]},{type:a,value:aL},{type:b,tag:c,props:{},children:[{type:a,value:s}]},{type:a,value:N},{type:b,tag:c,props:{},children:[{type:a,value:u}]},{type:a,value:aM},{type:b,tag:c,props:{},children:[{type:a,value:aN}]},{type:a,value:q},{type:b,tag:c,props:{},children:[{type:a,value:aO}]},{type:a,value:aP},{type:b,tag:c,props:{},children:[{type:a,value:aQ}]},{type:a,value:t},{type:b,tag:c,props:{},children:[{type:a,value:aR}]},{type:a,value:aS}]},{type:b,tag:aT,props:{},children:[{type:b,tag:f,props:{},children:[{type:b,tag:X,props:{},children:[{type:a,value:aU}]},{type:a,value:aV},{type:b,tag:c,props:{},children:[{type:a,value:g}]},{type:a,value:aW},{type:b,tag:c,props:{},children:[{type:a,value:w}]},{type:a,value:aX},{type:b,tag:c,props:{},children:[{type:a,value:O}]},{type:a,value:aY}]}]},{type:b,tag:Y,props:{},children:[]}],toc:{title:P,searchDepth:aZ,depth:aZ,links:[]}},_type:a_,_id:bg,_source:a$,_file:bh,_extension:ba}},"$sdd-surrounds":{"/configuration/block/jwt":[{_path:bi,_draft:l,_partial:l,_locale:Z,_empty:l,title:bc,description:"The jwt_signing_profile block lets you configure a JSON Web Token signing\nprofile for your gateway. It is referenced in the jwt_sign() function\nby its required label.",excerpt:{type:y,children:[{type:b,tag:z,props:{id:"jwt-signing-profile"},children:[{type:a,value:bc}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:O}]},{type:a,value:" block lets you configure a JSON Web Token signing\nprofile for your gateway. It is referenced in the "},{type:b,tag:e,props:{href:L},children:[{type:b,tag:c,props:{},children:[{type:a,value:W}]},{type:a,value:M}]},{type:a,value:"\nby its required "},{type:b,tag:A,props:{},children:[{type:a,value:B}]},{type:a,value:j}]},{type:b,tag:C,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:h,props:{align:d},children:[{type:a,value:E}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:F}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:G}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:H}]}]}]},{type:b,tag:I,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:i,props:{align:d},children:[{type:b,tag:c,props:{},children:[{type:a,value:O}]}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:k},children:[{type:a,value:J}]}]},{type:b,tag:i,props:{align:d},children:[{type:a,value:"required"}]},{type:b,tag:i,props:{align:d},children:[{type:a,value:"-"}]}]}]}]},{type:b,tag:K,props:{":values":"[{\"default\":\"\",\"description\":\"claims for the JWT payload, claim values are evaluated per request\",\"name\":\"claims\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"additional header fields for the JWT, `alg` and `typ` cannot be set\",\"name\":\"headers\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"private key (in PEM format) for `RS*` and `ES*` variants or the secret for `HS*` algorithms\",\"name\":\"key\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"optional file reference instead of `key` usage\",\"name\":\"key_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"algorithm used for signing: `\\\"RS256\\\"`, `\\\"RS384\\\"`, `\\\"RS512\\\"`, `\\\"HS256\\\"`, `\\\"HS384\\\"`, `\\\"HS512\\\"`, `\\\"ES256\\\"`, `\\\"ES384\\\"`, `\\\"ES512\\\"`\",\"name\":\"signature_algorithm\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The token's time-to-live, creates the `exp` claim\",\"name\":\"ttl\",\"type\":\"string\"}]"},children:[]},{type:b,tag:Y,props:{},children:[{type:b,tag:"hr",props:{},children:[]}]},{type:b,tag:"h3",props:{id:"example"},children:[{type:a,value:"Example"}]},{type:b,tag:bj,props:{code:bk,language:bl},children:[{type:b,tag:"pre",props:{},children:[{type:b,tag:bj,props:{__ignoreMap:P},children:[{type:a,value:bk}]}]}]},{type:b,tag:f,props:{},children:[{type:a,value:"A detailed example can be found "},{type:b,tag:e,props:{href:"https:\u002F\u002Fgithub.com\u002Favenga\u002Fcouper-examples\u002Fblob\u002Fmaster\u002Fcreating-jwt\u002FREADME.md",rel:["nofollow"]},children:[{type:a,value:"here"}]},{type:a,value:j}]}]},_type:a_,_id:"content:2.configuration:4.block:jwt_signing_profile.md",_source:a$,_file:"2.configuration\u002F4.block\u002Fjwt_signing_profile.md",_extension:ba},{_path:bm,_draft:l,_partial:l,_locale:Z,_empty:l,title:bd,description:"The beta_oauth2 block lets you configure the oauth2_authorization_url() function and an access\ncontrol for an OAuth2 Authorization Code Grant Flow redirect endpoint.\nLike all access control types, the beta_oauth2 block is defined in the definitions block and can be referenced in all configuration blocks by its required label.",excerpt:{type:y,children:[{type:b,tag:z,props:{id:"oauth2-ac-beta"},children:[{type:a,value:bd}]},{type:b,tag:f,props:{},children:[{type:a,value:n},{type:b,tag:c,props:{},children:[{type:a,value:be}]},{type:a,value:" block lets you configure the "},{type:b,tag:e,props:{href:L},children:[{type:b,tag:c,props:{},children:[{type:a,value:"oauth2_authorization_url()"}]},{type:a,value:M}]},{type:a,value:" and an access\ncontrol for an OAuth2 "},{type:b,tag:X,props:{},children:[{type:a,value:"Authorization Code Grant Flow"}]},{type:a,value:" redirect endpoint.\nLike all "},{type:b,tag:e,props:{href:R},children:[{type:a,value:S}]},{type:a,value:T},{type:b,tag:c,props:{},children:[{type:a,value:be}]},{type:a,value:" block is defined in the "},{type:b,tag:e,props:{href:k},children:[{type:b,tag:c,props:{},children:[{type:a,value:k}]},{type:a,value:" block"}]},{type:a,value:" and can be referenced in all configuration blocks by its required "},{type:b,tag:A,props:{},children:[{type:a,value:B}]},{type:a,value:j}]},{type:b,tag:C,props:{},children:[{type:b,tag:D,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:h,props:{align:d},children:[{type:a,value:E}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:F}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:G}]},{type:b,tag:h,props:{align:d},children:[{type:a,value:H}]}]}]},{type:b,tag:I,props:{},children:[{type:b,tag:m,props:{},children:[{type:b,tag:i,props:{align:d},children:[{type:b,tag:c,props:{},children:[{type:a,value:be}]}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:k},children:[{type:a,value:J}]}]},{type:b,tag:i,props:{align:d},children:[{type:a,value:U}]},{type:b,tag:i,props:{align:d},children:[{type:b,tag:e,props:{href:o},children:[{type:a,value:"Backend Block"}]},{type:a,value:p},{type:b,tag:e,props:{href:V},children:[{type:a,value:"Error Handler Block"}]}]}]}]}]},{type:b,tag:K,props:{":values":"[{\"default\":\"\",\"description\":\"The authorization server endpoint URL used for authorization.\",\"name\":\"authorization_endpoint\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"[`backend` block](backend) reference.\",\"name\":\"backend\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The client identifier.\",\"name\":\"client_id\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The client password.\",\"name\":\"client_secret\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"log fields for [custom logging](\u002Fobservation\u002Flogging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"The grant type. Required, to be set to: `authorization_code`\",\"name\":\"grant_type\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The Couper endpoint for receiving the authorization code. Relative URL references are resolved against the origin of the current request URL. The origin can be changed with the `accept_forwarded_url`([settings](settings)) attribute if Couper is running behind a proxy.\",\"name\":\"redirect_uri\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"A space separated list of requested scope values for the access token.\",\"name\":\"scope\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The authorization server endpoint URL used for requesting the token.\",\"name\":\"token_endpoint\",\"type\":\"string\"},{\"default\":\"\\\"client_secret_basic\\\"\",\"description\":\"Defines the method to authenticate the client at the token endpoint. If set to `client_secret_post`, the client credentials are transported in the request body. If set to `client_secret_basic`, the client credentials are transported via Basic Authentication.\",\"name\":\"token_endpoint_auth_method\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The method to verify the integrity of the authorization code flow. Available values: `ccm_s256` (`code_challenge` parameter with `code_challenge_method` `S256`), `state` (`state` parameter)\",\"name\":\"verifier_method\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The value of the (unhashed) verifier. E.g. using cookie value created with `oauth2_verifier()` function](..\u002Ffunctions)\",\"name\":\"verifier_value\",\"type\":\"string\"}]"},children:[]},{type:b,tag:f,props:{},children:[{type:a,value:"If the authorization server supports the "},{type:b,tag:c,props:{},children:[{type:a,value:"code_challenge_method"}]},{type:a,value:" "},{type:b,tag:c,props:{},children:[{type:a,value:"S256"}]},{type:a,value:" (a.k.a. PKCE, see RFC 7636), we recommend "},{type:b,tag:c,props:{},children:[{type:a,value:"verifier_method = \"ccm_s256\""}]},{type:a,value:j}]},{type:b,tag:f,props:{},children:[{type:a,value:"The HTTP header field "},{type:b,tag:c,props:{},children:[{type:a,value:"Accept: application\u002Fjson"}]},{type:a,value:" is automatically added to the token request. This can be modified with "},{type:b,tag:e,props:{href:"..\u002Fmodifiers#request-header"},children:[{type:a,value:"request header modifiers"}]},{type:a,value:" in a "},{type:b,tag:e,props:{href:o},children:[{type:a,value:"backend block"}]},{type:a,value:j}]}]},_type:a_,_id:"content:2.configuration:4.block:oauth2_ac.md",_source:a$,_file:"2.configuration\u002F4.block\u002Foauth2_ac.md",_extension:ba}]},"$sdd-globals":{},"$sdd-navigation":[{title:"Getting Started",_path:"\u002Fgetting-started",children:[{title:"Running Couper",_path:"\u002Fgetting-started\u002Frunning-couper"},{title:"Examples",_path:"\u002Fgetting-started\u002Fexamples"},{title:"About beta features",_path:"\u002Fgetting-started\u002Fbeta-features"}]},{title:"Configuration",_path:"\u002Fconfiguration",children:[{title:"Command Line Interface",_path:"\u002Fconfiguration\u002Fcommand-line"},{title:"Configuration File",_path:"\u002Fconfiguration\u002Fconfiguration-file"},{title:"Expressions",_path:"\u002Fconfiguration\u002Fexpressions"},{title:"Modifiers",_path:"\u002Fconfiguration\u002Fmodifiers"},{title:"Block",_path:"\u002Fconfiguration\u002Fblock",children:[{title:"API",_path:"\u002Fconfiguration\u002Fblock\u002Fapi"},{title:"Backend",_path:"\u002Fconfiguration\u002Fblock\u002Fbackend"},{title:"Basic Auth",_path:"\u002Fconfiguration\u002Fblock\u002Fbasic_auth"},{title:"CORS",_path:"\u002Fconfiguration\u002Fblock\u002Fcors"},{title:"Defaults",_path:"\u002Fconfiguration\u002Fblock\u002Fdefaults"},{title:"Definitions",_path:"\u002Fconfiguration\u002Fblock\u002Fdefinitions"},{title:"Endpoint",_path:"\u002Fconfiguration\u002Fblock\u002Fendpoint"},{title:"Environment",_path:"\u002Fconfiguration\u002Fblock\u002Fenvironment"},{title:"Error Handler",_path:"\u002Fconfiguration\u002Fblock\u002Ferror_handler"},{title:"Files",_path:"\u002Fconfiguration\u002Fblock\u002Ffiles"},{title:"Health",_path:"\u002Fconfiguration\u002Fblock\u002Fhealth"},{title:bc,_path:bi},{title:x,_path:bb},{title:bd,_path:bm},{title:"OAuth2",_path:"\u002Fconfiguration\u002Fblock\u002Foauth2_req_auth"},{title:"OIDC",_path:"\u002Fconfiguration\u002Fblock\u002Foidc"},{title:"OpenAPI",_path:"\u002Fconfiguration\u002Fblock\u002Fopenapi"},{title:"Proxy",_path:"\u002Fconfiguration\u002Fblock\u002Fproxy"},{title:"Rate Limit (Beta)",_path:"\u002Fconfiguration\u002Fblock\u002Frate_limit"},{title:"Request",_path:"\u002Fconfiguration\u002Fblock\u002Frequest"},{title:"Response",_path:"\u002Fconfiguration\u002Fblock\u002Fresponse"},{title:"SAML",_path:"\u002Fconfiguration\u002Fblock\u002Fsaml"},{title:"Server",_path:"\u002Fconfiguration\u002Fblock\u002Fserver"},{title:"Settings",_path:"\u002Fconfiguration\u002Fblock\u002Fsettings"},{title:"SPA",_path:"\u002Fconfiguration\u002Fblock\u002Fspa"},{title:"Token Request (Beta)",_path:"\u002Fconfiguration\u002Fblock\u002Ftoken_request"},{title:"WebSockets",_path:"\u002Fconfiguration\u002Fblock\u002Fwebsockets"}]},{title:"Variables",_path:"\u002Fconfiguration\u002Fvariables"},{title:"Functions",_path:"\u002Fconfiguration\u002Ffunctions"},{title:"Errors",_path:"\u002Fconfiguration\u002Ferror-handling"},{title:"Merging",_path:"\u002Fconfiguration\u002Fmultiple-files"},{title:"Access Control",_path:"\u002Fconfiguration\u002Faccess-control"}]},{title:"Observation",_path:"\u002Fobservation",children:[{title:"Health Check",_path:"\u002Fobservation\u002Fhealth"},{title:"Logging",_path:"\u002Fobservation\u002Flogging"},{title:"Metrics",_path:"\u002Fobservation\u002Fmetrics"}]},{title:"Introduction",_path:N}],"$sdocs-search-result":null},_errors:{},serverRendered:Q,config:{public:{content:{base:"_content",tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:{theme:"slack-dark",preload:[bl,"html","shell"],apiURL:"\u002Fapi\u002F_content\u002Fhighlight"},wsUrl:P,documentDriven:{page:Q,navigation:Q,surround:Q,globals:{},layoutFallbacks:["theme"],injectPage:Q}},algolia:{apiKey:"5551c3e4dfb61914988abf95fd9b762f",applicationId:"MSIN2HU7WH",lite:Q,instantSearch:{theme:"algolia"},docSearch:{},globalIndex:P}},app:{baseURL:N,buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:P}}}}("text","element","code-inline","left","a","p","jwt","th","td",".","definitions",false,"tr","The ","backend",", "," and "," header.","key"," or ","key_file","li","signing_ttl","JWT","root","h1","em","label","table","thead","Block name","Context","Label","Nested block(s)","tbody","Definitions Block","attributes","..\u002Ffunctions"," function","\u002F","jwt_signing_profile","",true,"..\u002Faccess-control","access control"," types, the ","⚠ required","error_handler","jwt_sign()","strong","duration","en"," block lets you configure JSON Web Token access control for your gateway.\nLike all "," block is defined in\nthe "," Block"," and can be referenced in all configuration blocks by its\nrequired ","Since responses from endpoints protected by JWT access controls are not publicly cacheable, a ","Cache-Control: private"," header field is added to the response, unless this feature is disabled with ","disable_private_caching = true","JWKS ","Error Handler Block(s)","[{\"default\":\"\",\"description\":\"[`backend` block](backend) reference for enhancing JWKS requests.\",\"name\":\"backend\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Name of claim containing the granted permissions. The claim value must either be a string containing a space-separated list of permissions or a list of string permissions.\",\"name\":\"beta_permissions_claim\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Mapping of granted permissions to additional granted permissions. Maps values from `beta_permissions_claim` and those created from `beta_roles_map`. The map is called recursively.\",\"name\":\"beta_permissions_map\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Name of claim specifying the roles of the user represented by the token. The claim value must either be a string containing a space-separated list of role values or a list of string role values.\",\"name\":\"beta_roles_claim\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Mapping of roles to granted permissions. Non-mapped roles can be assigned with `*` to specific permissions.\",\"name\":\"beta_roles_map\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Object with claims that must be given for a valid token (equals comparison with JWT payload). The claim values are evaluated per request.\",\"name\":\"claims\",\"type\":\"object\"},{\"default\":\"\",\"description\":\"Read token value from a cookie. Cannot be used together with `header` or `token_value`\",\"name\":\"cookie\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"log fields for [custom logging](\u002Fobservation\u002Flogging#custom-logging). Inherited by nested blocks.\",\"name\":\"custom_log_fields\",\"type\":\"object\"},{\"default\":\"false\",\"description\":\"If set to `true`, Couper does not add the `private` directive to the `Cache-Control` HTTP header field value.\",\"name\":\"disable_private_caching\",\"type\":\"bool\"},{\"default\":\"\",\"description\":\"Read token value from the given request header field. Implies `Bearer` if `Authorization` (case-insensitive) is used, otherwise any other header name can be used. Cannot be used together with `cookie` or `token_value`.\",\"name\":\"header\",\"type\":\"string\"},{\"default\":\"\\\"1h\\\"\",\"description\":\"Time period the cached JWK set stays valid after its TTL has passed.\",\"name\":\"jwks_max_stale\",\"type\":\"duration\"},{\"default\":\"\\\"1h\\\"\",\"description\":\"Time period the JWK set stays valid and may be cached.\",\"name\":\"jwks_ttl\",\"type\":\"duration\"},{\"default\":\"\",\"description\":\"URI pointing to a set of [JSON Web Keys (RFC 7517)](https:\u002F\u002Fdatatracker.ietf.org\u002Fdoc\u002Fhtml\u002Frfc7517)\",\"name\":\"jwks_url\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Public key (in PEM format) for `RS*` and `ES*` variants or the secret for `HS*` algorithm.\",\"name\":\"key\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Optional file reference instead of `key` usage.\",\"name\":\"key_file\",\"type\":\"string\"},{\"default\":\"[]\",\"description\":\"List of claim names that must be given for a valid token.\",\"name\":\"required_claims\",\"type\":\"tuple (string)\"},{\"default\":\"\",\"description\":\"Valid values: `RS256`, `RS384`, `RS512`, `HS256`, `HS384`, `HS512`, `ES256`, `ES384`, `ES512`\",\"name\":\"signature_algorithm\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Private key (in PEM format) for `RS*` and `ES*` variants.\",\"name\":\"signing_key\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"Optional file reference instead of `signing_key` usage.\",\"name\":\"signing_key_file\",\"type\":\"string\"},{\"default\":\"\",\"description\":\"The token's time-to-live (creates the `exp` claim).\",\"name\":\"signing_ttl\",\"type\":\"duration\"},{\"default\":\"\",\"description\":\"Expression to obtain the token. Cannot be used together with `cookie` or `header`.\",\"name\":\"token_value\",\"type\":\"object\"}]","The attributes ","header","cookie","token_value"," are mutually exclusive.\nIf all three attributes are missing, ","header = \"Authorization\""," will be implied, i.e. the token will be read from the incoming ","Authorization","If the key to verify the signatures of tokens does not change over time, it should be specified via either "," (together with ","signature_algorithm",").\nOtherwise, a JSON web key set should be referenced via ","jwks_url","; in this case, the tokens need a ","kid","A JWT access control configured by this block can extract permissions from","ul","the value of the claim specified by ","beta_permissions_claim"," and","the result of mapping the value of the claim specified by ","beta_roles_claim"," using the ","beta_roles_map"," block may also be referenced by the ",", if it has a "," defined. For ","HS*"," algorithms the signing key is taken from ",", for ","RS*","ES*"," algorithms, ","signing_key","signing_key_file"," have to be specified.","blockquote","Note:"," A "," block with "," cannot have the same label as a "," block.",2,"markdown","content","md","\u002Fconfiguration\u002Fblock\u002Fjwt","JWT Signing Profile","OAuth2 AC (Beta)","beta_oauth2","The jwt block lets you configure JSON Web Token access control for your gateway.\nLike all access control types, the jwt block is defined in\nthe definitions Block and can be referenced in all configuration blocks by its\nrequired label.","content:2.configuration:4.block:jwt.md","2.configuration\u002F4.block\u002Fjwt.md","\u002Fconfiguration\u002Fblock\u002Fjwt_signing_profile","code","jwt_signing_profile \"myjwt\" {\n  signature_algorithm = \"RS256\"\n  key_file = \"priv_key.pem\"\n  ttl = \"600s\"\n  claims = {\n    iss = \"MyAS\"\n    iat = unixtime()\n  }\n  headers = {\n    kid = \"my-jwk-id\"\n  }\n}\n","hcl","\u002Fconfiguration\u002Fblock\u002Foauth2_ac"))</script><script type="module" src="/_nuxt/entry.22a7c9d5.js" crossorigin></script><script type="module" src="/_nuxt/default.6a6d343c.js" crossorigin></script><script type="module" src="/_nuxt/Logo.8a0cfadb.js" crossorigin></script><script type="module" src="/_nuxt/SearchBar.b50615ab.js" crossorigin></script><script type="module" src="/_nuxt/SearchResult.207f031a.js" crossorigin></script><script type="module" src="/_nuxt/GithubIcon.e87b433f.js" crossorigin></script><script type="module" src="/_nuxt/SideNavbar.c1d2ff06.js" crossorigin></script><script type="module" src="/_nuxt/_...slug_.4df10875.js" crossorigin></script><script type="module" src="/_nuxt/ProseH1.a6f4cac9.js" crossorigin></script><script type="module" src="/_nuxt/ProseP.b812e45a.js" crossorigin></script><script type="module" src="/_nuxt/ProseCodeInline.9f24520e.js" crossorigin></script><script type="module" src="/_nuxt/ProseA.8ab4e9b9.js" crossorigin></script><script type="module" src="/_nuxt/ProseEm.5b5a7bf7.js" crossorigin></script><script type="module" src="/_nuxt/ProseTable.5cb51bdb.js" crossorigin></script><script type="module" src="/_nuxt/ProseThead.f070ecc6.js" crossorigin></script><script type="module" src="/_nuxt/ProseTr.b22d2845.js" crossorigin></script><script type="module" src="/_nuxt/ProseTh.9be843a2.js" crossorigin></script><script type="module" src="/_nuxt/ProseTbody.abffe8cb.js" crossorigin></script><script type="module" src="/_nuxt/ProseTd.fb0e0024.js" crossorigin></script><script type="module" src="/_nuxt/Attributes.adf88e70.js" crossorigin></script><script type="module" src="/_nuxt/ProseUl.fbb5a8e5.js" crossorigin></script><script type="module" src="/_nuxt/ProseLi.efff749a.js" crossorigin></script><script type="module" src="/_nuxt/ProseBlockquote.1eaf9ac3.js" crossorigin></script><script type="module" src="/_nuxt/ProseStrong.37d2d3e5.js" crossorigin></script><script type="module" src="/_nuxt/Duration.d185a893.js" crossorigin></script></body>
</html>