[{"data":1,"prerenderedAt":731},["Reactive",2],{"content-query-I9NLSuyFOY":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":9,"body":10,"_type":726,"_id":727,"_source":728,"_file":729,"_extension":730},"/configuration/configuration-file","configuration",false,"","Configuration File","Overview how to configure Couper with its configuration file.",{"type":11,"children":12,"toc":721},"root",[13,21,38,45,59,82,88,101,144,150,155,555,715],{"type":14,"tag":15,"props":16,"children":18},"element","h1",{"id":17},"configuration-file",[19],{"type":20,"value":8},"text",{"type":14,"tag":22,"props":23,"children":24},"p",{},[25,27,36],{"type":20,"value":26},"The language for Couper's configuration file is ",{"type":14,"tag":28,"props":29,"children":33},"a",{"href":30,"rel":31},"https://github.com/hashicorp/hcl/tree/hcl2#information-model-and-syntax",[32],"nofollow",[34],{"type":20,"value":35},"HCL 2.0",{"type":20,"value":37},", a configuration language by HashiCorp.",{"type":14,"tag":39,"props":40,"children":42},"h2",{"id":41},"ide-extension",[43],{"type":20,"value":44},"IDE Extension",{"type":14,"tag":22,"props":46,"children":47},{},[48,50,57],{"type":20,"value":49},"Couper provides its own IDE extension that adds Couper-specific highlighting and autocompletion to Couper's configuration file ",{"type":14,"tag":51,"props":52,"children":54},"code",{"className":53},[],[55],{"type":20,"value":56},"couper.hcl",{"type":20,"value":58}," in Visual Studio Code.",{"type":14,"tag":22,"props":60,"children":61},{},[62,64,71,73,80],{"type":20,"value":63},"Get it from the ",{"type":14,"tag":28,"props":65,"children":68},{"href":66,"rel":67},"https://marketplace.visualstudio.com/items?itemName=couper.couperconf",[32],[69],{"type":20,"value":70},"Visual Studio Market Place",{"type":20,"value":72}," or visit the ",{"type":14,"tag":28,"props":74,"children":77},{"href":75,"rel":76},"https://github.com/coupergateway/couper-vscode",[32],[78],{"type":20,"value":79},"Extension repository",{"type":20,"value":81},".",{"type":14,"tag":39,"props":83,"children":85},{"id":84},"file-name",[86],{"type":20,"value":87},"File Name",{"type":14,"tag":22,"props":89,"children":90},{},[91,93,99],{"type":20,"value":92},"The file-ending of your configuration file should be ",{"type":14,"tag":51,"props":94,"children":96},{"className":95},[],[97],{"type":20,"value":98},".hcl",{"type":20,"value":100}," to have syntax highlighting within your IDE.",{"type":14,"tag":22,"props":102,"children":103},{},[104,106,111,113,119,121,127,129,135,137,143],{"type":20,"value":105},"The file name defaults to ",{"type":14,"tag":51,"props":107,"children":109},{"className":108},[],[110],{"type":20,"value":56},{"type":20,"value":112}," in your working directory. This can be changed with the ",{"type":14,"tag":51,"props":114,"children":116},{"className":115},[],[117],{"type":20,"value":118},"-f",{"type":20,"value":120}," command-line flag. With ",{"type":14,"tag":51,"props":122,"children":124},{"className":123},[],[125],{"type":20,"value":126},"-f /opt/couper/my_conf.hcl",{"type":20,"value":128}," couper changes the working directory to ",{"type":14,"tag":51,"props":130,"children":132},{"className":131},[],[133],{"type":20,"value":134},"/opt/couper",{"type":20,"value":136}," and loads ",{"type":14,"tag":51,"props":138,"children":140},{"className":139},[],[141],{"type":20,"value":142},"my_conf.hcl",{"type":20,"value":81},{"type":14,"tag":39,"props":145,"children":147},{"id":146},"basic-file-structure",[148],{"type":20,"value":149},"Basic File Structure",{"type":14,"tag":22,"props":151,"children":152},{},[153],{"type":20,"value":154},"Couper's configuration file consists of nested configuration blocks that configure\nthe gateway. There are a large number of options, but let's focus on the main structure first:",{"type":14,"tag":156,"props":157,"children":161},"pre",{"className":158,"code":159,"language":160,"meta":7,"style":7},"language-hcl shiki shiki-themes slack-dark","server \"my_project\" {\n  files {\n    # ...\n  }\n\n  spa {\n    # ...\n  }\n\n  api {\n    access_control = [\"foo\"]\n    endpoint \"/bar\" {\n      proxy {\n        backend { }\n      }\n      request \"sub-request\" {\n        backend { }\n      }\n      response { }\n    }\n  }\n}\n\ndefinitions {\n  # ...\n}\n\nsettings {\n  # ...\n}\n\ndefaults {\n  # ...\n}\n","hcl",[162],{"type":14,"tag":51,"props":163,"children":164},{"__ignoreMap":7},[165,189,202,212,221,231,244,252,260,268,281,312,330,343,357,366,384,396,404,417,426,434,443,451,464,473,481,489,502,510,518,526,539,547],{"type":14,"tag":166,"props":167,"children":170},"span",{"class":168,"line":169},"line",1,[171,177,183],{"type":14,"tag":166,"props":172,"children":174},{"style":173},"--shiki-default:#4EC9B0",[175],{"type":20,"value":176},"server",{"type":14,"tag":166,"props":178,"children":180},{"style":179},"--shiki-default:#9CDCFE",[181],{"type":20,"value":182}," \"my_project\"",{"type":14,"tag":166,"props":184,"children":186},{"style":185},"--shiki-default:#E6E6E6",[187],{"type":20,"value":188}," {\n",{"type":14,"tag":166,"props":190,"children":192},{"class":168,"line":191},2,[193,198],{"type":14,"tag":166,"props":194,"children":195},{"style":173},[196],{"type":20,"value":197},"  files",{"type":14,"tag":166,"props":199,"children":200},{"style":185},[201],{"type":20,"value":188},{"type":14,"tag":166,"props":203,"children":205},{"class":168,"line":204},3,[206],{"type":14,"tag":166,"props":207,"children":209},{"style":208},"--shiki-default:#6A9955",[210],{"type":20,"value":211},"    # ...\n",{"type":14,"tag":166,"props":213,"children":215},{"class":168,"line":214},4,[216],{"type":14,"tag":166,"props":217,"children":218},{"style":185},[219],{"type":20,"value":220},"  }\n",{"type":14,"tag":166,"props":222,"children":224},{"class":168,"line":223},5,[225],{"type":14,"tag":166,"props":226,"children":228},{"emptyLinePlaceholder":227},true,[229],{"type":20,"value":230},"\n",{"type":14,"tag":166,"props":232,"children":234},{"class":168,"line":233},6,[235,240],{"type":14,"tag":166,"props":236,"children":237},{"style":173},[238],{"type":20,"value":239},"  spa",{"type":14,"tag":166,"props":241,"children":242},{"style":185},[243],{"type":20,"value":188},{"type":14,"tag":166,"props":245,"children":247},{"class":168,"line":246},7,[248],{"type":14,"tag":166,"props":249,"children":250},{"style":208},[251],{"type":20,"value":211},{"type":14,"tag":166,"props":253,"children":255},{"class":168,"line":254},8,[256],{"type":14,"tag":166,"props":257,"children":258},{"style":185},[259],{"type":20,"value":220},{"type":14,"tag":166,"props":261,"children":263},{"class":168,"line":262},9,[264],{"type":14,"tag":166,"props":265,"children":266},{"emptyLinePlaceholder":227},[267],{"type":20,"value":230},{"type":14,"tag":166,"props":269,"children":271},{"class":168,"line":270},10,[272,277],{"type":14,"tag":166,"props":273,"children":274},{"style":173},[275],{"type":20,"value":276},"  api",{"type":14,"tag":166,"props":278,"children":279},{"style":185},[280],{"type":20,"value":188},{"type":14,"tag":166,"props":282,"children":284},{"class":168,"line":283},11,[285,290,296,301,307],{"type":14,"tag":166,"props":286,"children":287},{"style":179},[288],{"type":20,"value":289},"    access_control ",{"type":14,"tag":166,"props":291,"children":293},{"style":292},"--shiki-default:#D4D4D4",[294],{"type":20,"value":295},"=",{"type":14,"tag":166,"props":297,"children":298},{"style":185},[299],{"type":20,"value":300}," [",{"type":14,"tag":166,"props":302,"children":304},{"style":303},"--shiki-default:#CE9178",[305],{"type":20,"value":306},"\"foo\"",{"type":14,"tag":166,"props":308,"children":309},{"style":185},[310],{"type":20,"value":311},"]\n",{"type":14,"tag":166,"props":313,"children":315},{"class":168,"line":314},12,[316,321,326],{"type":14,"tag":166,"props":317,"children":318},{"style":173},[319],{"type":20,"value":320},"    endpoint",{"type":14,"tag":166,"props":322,"children":323},{"style":179},[324],{"type":20,"value":325}," \"/bar\"",{"type":14,"tag":166,"props":327,"children":328},{"style":185},[329],{"type":20,"value":188},{"type":14,"tag":166,"props":331,"children":333},{"class":168,"line":332},13,[334,339],{"type":14,"tag":166,"props":335,"children":336},{"style":173},[337],{"type":20,"value":338},"      proxy",{"type":14,"tag":166,"props":340,"children":341},{"style":185},[342],{"type":20,"value":188},{"type":14,"tag":166,"props":344,"children":346},{"class":168,"line":345},14,[347,352],{"type":14,"tag":166,"props":348,"children":349},{"style":173},[350],{"type":20,"value":351},"        backend",{"type":14,"tag":166,"props":353,"children":354},{"style":185},[355],{"type":20,"value":356}," { }\n",{"type":14,"tag":166,"props":358,"children":360},{"class":168,"line":359},15,[361],{"type":14,"tag":166,"props":362,"children":363},{"style":185},[364],{"type":20,"value":365},"      }\n",{"type":14,"tag":166,"props":367,"children":369},{"class":168,"line":368},16,[370,375,380],{"type":14,"tag":166,"props":371,"children":372},{"style":173},[373],{"type":20,"value":374},"      request",{"type":14,"tag":166,"props":376,"children":377},{"style":179},[378],{"type":20,"value":379}," \"sub-request\"",{"type":14,"tag":166,"props":381,"children":382},{"style":185},[383],{"type":20,"value":188},{"type":14,"tag":166,"props":385,"children":387},{"class":168,"line":386},17,[388,392],{"type":14,"tag":166,"props":389,"children":390},{"style":173},[391],{"type":20,"value":351},{"type":14,"tag":166,"props":393,"children":394},{"style":185},[395],{"type":20,"value":356},{"type":14,"tag":166,"props":397,"children":399},{"class":168,"line":398},18,[400],{"type":14,"tag":166,"props":401,"children":402},{"style":185},[403],{"type":20,"value":365},{"type":14,"tag":166,"props":405,"children":407},{"class":168,"line":406},19,[408,413],{"type":14,"tag":166,"props":409,"children":410},{"style":173},[411],{"type":20,"value":412},"      response",{"type":14,"tag":166,"props":414,"children":415},{"style":185},[416],{"type":20,"value":356},{"type":14,"tag":166,"props":418,"children":420},{"class":168,"line":419},20,[421],{"type":14,"tag":166,"props":422,"children":423},{"style":185},[424],{"type":20,"value":425},"    }\n",{"type":14,"tag":166,"props":427,"children":429},{"class":168,"line":428},21,[430],{"type":14,"tag":166,"props":431,"children":432},{"style":185},[433],{"type":20,"value":220},{"type":14,"tag":166,"props":435,"children":437},{"class":168,"line":436},22,[438],{"type":14,"tag":166,"props":439,"children":440},{"style":185},[441],{"type":20,"value":442},"}\n",{"type":14,"tag":166,"props":444,"children":446},{"class":168,"line":445},23,[447],{"type":14,"tag":166,"props":448,"children":449},{"emptyLinePlaceholder":227},[450],{"type":20,"value":230},{"type":14,"tag":166,"props":452,"children":454},{"class":168,"line":453},24,[455,460],{"type":14,"tag":166,"props":456,"children":457},{"style":173},[458],{"type":20,"value":459},"definitions",{"type":14,"tag":166,"props":461,"children":462},{"style":185},[463],{"type":20,"value":188},{"type":14,"tag":166,"props":465,"children":467},{"class":168,"line":466},25,[468],{"type":14,"tag":166,"props":469,"children":470},{"style":208},[471],{"type":20,"value":472},"  # ...\n",{"type":14,"tag":166,"props":474,"children":476},{"class":168,"line":475},26,[477],{"type":14,"tag":166,"props":478,"children":479},{"style":185},[480],{"type":20,"value":442},{"type":14,"tag":166,"props":482,"children":484},{"class":168,"line":483},27,[485],{"type":14,"tag":166,"props":486,"children":487},{"emptyLinePlaceholder":227},[488],{"type":20,"value":230},{"type":14,"tag":166,"props":490,"children":492},{"class":168,"line":491},28,[493,498],{"type":14,"tag":166,"props":494,"children":495},{"style":173},[496],{"type":20,"value":497},"settings",{"type":14,"tag":166,"props":499,"children":500},{"style":185},[501],{"type":20,"value":188},{"type":14,"tag":166,"props":503,"children":505},{"class":168,"line":504},29,[506],{"type":14,"tag":166,"props":507,"children":508},{"style":208},[509],{"type":20,"value":472},{"type":14,"tag":166,"props":511,"children":513},{"class":168,"line":512},30,[514],{"type":14,"tag":166,"props":515,"children":516},{"style":185},[517],{"type":20,"value":442},{"type":14,"tag":166,"props":519,"children":521},{"class":168,"line":520},31,[522],{"type":14,"tag":166,"props":523,"children":524},{"emptyLinePlaceholder":227},[525],{"type":20,"value":230},{"type":14,"tag":166,"props":527,"children":529},{"class":168,"line":528},32,[530,535],{"type":14,"tag":166,"props":531,"children":532},{"style":173},[533],{"type":20,"value":534},"defaults",{"type":14,"tag":166,"props":536,"children":537},{"style":185},[538],{"type":20,"value":188},{"type":14,"tag":166,"props":540,"children":542},{"class":168,"line":541},33,[543],{"type":14,"tag":166,"props":544,"children":545},{"style":208},[546],{"type":20,"value":472},{"type":14,"tag":166,"props":548,"children":550},{"class":168,"line":549},34,[551],{"type":14,"tag":166,"props":552,"children":553},{"style":185},[554],{"type":20,"value":442},{"type":14,"tag":556,"props":557,"children":558},"ul",{},[559,570,581,592,611,621,632,643,654,665,674,685,695,705],{"type":14,"tag":560,"props":561,"children":562},"li",{},[563,568],{"type":14,"tag":51,"props":564,"children":566},{"className":565},[],[567],{"type":20,"value":176},{"type":20,"value":569}," main configuration block(s).",{"type":14,"tag":560,"props":571,"children":572},{},[573,579],{"type":14,"tag":51,"props":574,"children":576},{"className":575},[],[577],{"type":20,"value":578},"files",{"type":20,"value":580}," configuration block for file serving.",{"type":14,"tag":560,"props":582,"children":583},{},[584,590],{"type":14,"tag":51,"props":585,"children":587},{"className":586},[],[588],{"type":20,"value":589},"spa",{"type":20,"value":591}," configuration block for Web serving (SPA assets).",{"type":14,"tag":560,"props":593,"children":594},{},[595,601,603,609],{"type":14,"tag":51,"props":596,"children":598},{"className":597},[],[599],{"type":20,"value":600},"api",{"type":20,"value":602}," configuration block(s) that bundle(s) endpoints under a certain base path or ",{"type":14,"tag":51,"props":604,"children":606},{"className":605},[],[607],{"type":20,"value":608},"access_control",{"type":20,"value":610}," list.",{"type":14,"tag":560,"props":612,"children":613},{},[614,619],{"type":14,"tag":51,"props":615,"children":617},{"className":616},[],[618],{"type":20,"value":608},{"type":20,"value":620}," attribute that sets access control for a block context.",{"type":14,"tag":560,"props":622,"children":623},{},[624,630],{"type":14,"tag":51,"props":625,"children":627},{"className":626},[],[628],{"type":20,"value":629},"endpoint",{"type":20,"value":631}," configuration block for Couper's entry points.",{"type":14,"tag":560,"props":633,"children":634},{},[635,641],{"type":14,"tag":51,"props":636,"children":638},{"className":637},[],[639],{"type":20,"value":640},"proxy",{"type":20,"value":642}," configuration block for a proxy request and response to an origin.",{"type":14,"tag":560,"props":644,"children":645},{},[646,652],{"type":14,"tag":51,"props":647,"children":649},{"className":648},[],[650],{"type":20,"value":651},"backend",{"type":20,"value":653}," configuration block for connection to local/remote backend service(s).",{"type":14,"tag":560,"props":655,"children":656},{},[657,663],{"type":14,"tag":51,"props":658,"children":660},{"className":659},[],[661],{"type":20,"value":662},"request",{"type":20,"value":664}," configuration block for a manual request to an origin.",{"type":14,"tag":560,"props":666,"children":667},{},[668,673],{"type":14,"tag":51,"props":669,"children":671},{"className":670},[],[672],{"type":20,"value":651},{"type":20,"value":653},{"type":14,"tag":560,"props":675,"children":676},{},[677,683],{"type":14,"tag":51,"props":678,"children":680},{"className":679},[],[681],{"type":20,"value":682},"response",{"type":20,"value":684}," configuration block for a manual client response.",{"type":14,"tag":560,"props":686,"children":687},{},[688,693],{"type":14,"tag":51,"props":689,"children":691},{"className":690},[],[692],{"type":20,"value":459},{"type":20,"value":694}," block for predefined configurations, that can be referenced.",{"type":14,"tag":560,"props":696,"children":697},{},[698,703],{"type":14,"tag":51,"props":699,"children":701},{"className":700},[],[702],{"type":20,"value":497},{"type":20,"value":704}," block for server configuration which applies to the running instance.",{"type":14,"tag":560,"props":706,"children":707},{},[708,713],{"type":14,"tag":51,"props":709,"children":711},{"className":710},[],[712],{"type":20,"value":534},{"type":20,"value":714}," block for default/fallback values.",{"type":14,"tag":716,"props":717,"children":718},"style",{},[719],{"type":20,"value":720},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":191,"depth":191,"links":722},[723,724,725],{"id":41,"depth":191,"text":44},{"id":84,"depth":191,"text":87},{"id":146,"depth":191,"text":149},"markdown","content:2.configuration:1.configuration-file.md","content","2.configuration/1.configuration-file.md","md",1724855195521]