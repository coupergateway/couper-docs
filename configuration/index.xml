<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Configuration on Couper Documentation</title><link>https://docs.couper.io/configuration/</link><description>Recent content in Configuration on Couper Documentation</description><generator>Hugo</generator><language>en-us</language><atom:link href="https://docs.couper.io/configuration/index.xml" rel="self" type="application/rss+xml"/><item><title>Access Control</title><link>https://docs.couper.io/configuration/access-control/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/access-control/</guid><description>&lt;h1 id="access-control"&gt;Access Control&lt;/h1&gt;
&lt;p&gt;The configuration of access controls is twofold in Couper: You define the particular
type such as &lt;code&gt;jwt&lt;/code&gt; or &lt;code&gt;basic_auth&lt;/code&gt; in &lt;a href="https://docs.couper.io/configuration/block/definitions"&gt;&lt;code&gt;definitions&lt;/code&gt;&lt;/a&gt;, each with a distinct label
(must not be one of the reserved names: &lt;code&gt;granted_permissions&lt;/code&gt;, &lt;code&gt;required_permission&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Anywhere in the &lt;a href="https://docs.couper.io/configuration/block/server"&gt;&lt;code&gt;server&lt;/code&gt; block&lt;/a&gt; those labels can be used in the &lt;code&gt;access_control&lt;/code&gt;
list to protect the respective block.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;üìù Access permissions are inherited by nested blocks.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can also disable access control for blocks with &lt;code&gt;disable_access_control&lt;/code&gt;: With &lt;code&gt;disable_access_control = [&amp;quot;bar&amp;quot;]&lt;/code&gt;,
the &lt;code&gt;access_control&lt;/code&gt; named &lt;code&gt;bar&lt;/code&gt; will be disabled for the corresponding block context.&lt;/p&gt;</description></item><item><title>Command Line Interface (CLI)</title><link>https://docs.couper.io/configuration/command-line/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/command-line/</guid><description>&lt;h1 id="command-line-interface"&gt;Command Line Interface&lt;/h1&gt;
&lt;p&gt;Couper is build as binary called &lt;code&gt;couper&lt;/code&gt; with the following commands:&lt;/p&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th style="text-align: left"&gt;Command&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Description&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;run&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Start the server with given configuration file.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;help&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Print the usage for the given command: &lt;code&gt;help run&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;verify&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Verify the syntax of the given configuration file.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;version&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Print the current version and build information.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Most of the following command-line options map to &lt;a href="https://docs.couper.io/configuration/block/settings"&gt;settings&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="basic-options"&gt;Basic Options&lt;/h2&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th style="text-align: left"&gt;Argument&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Default&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Environment&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Description&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;-f&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;couper.hcl&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;COUPER_FILE&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Path to a Couper configuration file.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;-d&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;COUPER_FILE_DIRECTORY&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Path to a directory containing Couper configuration files.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;-p&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;8080&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;COUPER_DEFAULT_PORT&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Sets the default port to the given value and does not override explicit &lt;code&gt;[host:port]&lt;/code&gt; configurations from file.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;-e&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;&amp;quot;&amp;quot;&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;COUPER_ENVIRONMENT&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Name of environment in which Couper is currently running.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;-watch&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;false&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;COUPER_WATCH&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Watch for configuration file changes and reload on modifications.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;-watch-retries&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;5&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;COUPER_WATCH_RETRIES&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Maximum retry count for configuration reloads which could not bind the configured port.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;-watch-retry-delay&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;500ms&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;COUPER_WATCH_RETRY_DELAY&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Delay &lt;a href="#duration"&gt;duration&lt;/a&gt; before next attempt if an error occurs.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Apart from &lt;code&gt;e&lt;/code&gt; and &lt;code&gt;p&lt;/code&gt;, these options &lt;strong&gt;do not&lt;/strong&gt; map to &lt;a href="https://docs.couper.io/configuration/block/settings"&gt;settings&lt;/a&gt;.&lt;/p&gt;</description></item><item><title>Configuration File</title><link>https://docs.couper.io/configuration/configuration-file/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/configuration-file/</guid><description>&lt;h1 id="configuration-file"&gt;Configuration File&lt;/h1&gt;
&lt;p&gt;The language for Couper&amp;rsquo;s configuration file is &lt;a href="https://github.com/hashicorp/hcl/tree/hcl2#information-model-and-syntax"&gt;HCL 2.0&lt;/a&gt;, a configuration language by HashiCorp.&lt;/p&gt;
&lt;h2 id="ide-extension"&gt;IDE Extension&lt;/h2&gt;
&lt;p&gt;Couper provides its own IDE extension that adds Couper-specific highlighting and autocompletion to Couper&amp;rsquo;s configuration file &lt;code&gt;couper.hcl&lt;/code&gt; in Visual Studio Code.&lt;/p&gt;
&lt;p&gt;Get it from the &lt;a href="https://marketplace.visualstudio.com/items?itemName=couper.couperconf"&gt;Visual Studio Market Place&lt;/a&gt; or visit the &lt;a href="https://github.com/coupergateway/couper-vscode"&gt;Extension repository&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="file-name"&gt;File Name&lt;/h2&gt;
&lt;p&gt;The file-ending of your configuration file should be &lt;code&gt;.hcl&lt;/code&gt; to have syntax highlighting within your IDE.&lt;/p&gt;
&lt;p&gt;The file name defaults to &lt;code&gt;couper.hcl&lt;/code&gt; in your working directory. This can be changed with the &lt;code&gt;-f&lt;/code&gt; command-line flag. With &lt;code&gt;-f /opt/couper/my_conf.hcl&lt;/code&gt; couper changes the working directory to &lt;code&gt;/opt/couper&lt;/code&gt; and loads &lt;code&gt;my_conf.hcl&lt;/code&gt;.&lt;/p&gt;</description></item><item><title>Errors</title><link>https://docs.couper.io/configuration/error-handling/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/error-handling/</guid><description>&lt;h1 id="errors"&gt;Errors&lt;/h1&gt;
&lt;h2 id="introduction"&gt;Introduction&lt;/h2&gt;
&lt;p&gt;Errors can occur in various places: due to invalid client requests or problems on the backend and network side.
Couper specifies some generic error categories (like &lt;code&gt;configuration&lt;/code&gt;, &lt;code&gt;server&lt;/code&gt;, &lt;code&gt;backend&lt;/code&gt; or &lt;code&gt;access_control&lt;/code&gt;) to help you identify the occurring problems faster.&lt;/p&gt;
&lt;h2 id="error-messages"&gt;Error messages&lt;/h2&gt;
&lt;p&gt;Error messages are only sent to the client as a summary.
Detailed information is provided via log message. This way, all information can be viewed without accidentally revealing confidential information.&lt;/p&gt;</description></item><item><title>Expressions</title><link>https://docs.couper.io/configuration/expressions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/expressions/</guid><description>&lt;h1 id="expressions"&gt;Expressions&lt;/h1&gt;
&lt;p&gt;Since we use &lt;a href="https://github.com/hashicorp/hcl/tree/hcl2#information-model-and-syntax"&gt;HCL 2.0&lt;/a&gt; for our configuration, we are able to use attribute values as expression.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-text-size-adjust:none;"&gt;&lt;code class="language-hcl" data-lang="hcl"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;//&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;Arithmetic&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;with&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;literals&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;and&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;application&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;-&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;provided&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;variables&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sum &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt; &lt;span style="color:#960050;background-color:#1e0010"&gt;+&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;addend&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;//&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;String&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;interpolation&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;and&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;templates&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;message &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Hello, ${name}!&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;//&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;Application&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;-&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;provided&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;functions&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;shouty_message &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;upper&lt;/span&gt;(&lt;span style="color:#66d9ef"&gt;message&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;See &lt;a href="https://docs.couper.io/configuration/functions"&gt;functions&lt;/a&gt;.&lt;/p&gt;</description></item><item><title>Functions</title><link>https://docs.couper.io/configuration/functions/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/functions/</guid><description>&lt;h1 id="functions"&gt;Functions&lt;/h1&gt;
&lt;p&gt;This functions can be used and combined as standalone call with all kind of hcl expressions. But some of them requires a &lt;code&gt;definitions&lt;/code&gt; reference.&lt;/p&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th style="text-align: left"&gt;Name&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Type&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Description&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Arguments&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Example&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;base64_decode&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Decodes Base64 data, as specified in RFC 4648.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;encoded&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;base64_decode(&amp;quot;Zm9v&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;base64_encode&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Encodes Base64 data, as specified in RFC 4648.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;decoded&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;base64_encode(&amp;quot;foo&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;can&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;bool&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Tries to evaluate the expression given in its first argument.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;expression&lt;/code&gt; (expression)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;{ for k in [&amp;quot;not_there&amp;quot;, &amp;quot;method&amp;quot;, &amp;quot;path&amp;quot;] : k =&amp;gt; request[k] if can(request[k]) }&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;contains&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;bool&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Determines whether a given list contains a given single value as one of its elements.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;list&lt;/code&gt; (tuple or list), &lt;code&gt;value&lt;/code&gt; (various)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;contains([1,2,3], 2)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;default&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Returns the first of the given arguments that is not null or an empty string. If no argument matches, the last argument is returned.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;arg...&lt;/code&gt; (various)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;default(request.cookies.foo, &amp;quot;bar&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;join&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Concatenates together the string elements of one or more lists with a given separator.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;sep&lt;/code&gt; (string), &lt;code&gt;lists...&lt;/code&gt; (tuples or lists)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;join(&amp;quot;-&amp;quot;, [0,1,2,3])&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;json_decode&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;various&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Parses the given JSON string and, if it is valid, returns the value it represents.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;encoded&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;json_decode(&amp;quot;{\&amp;quot;foo\&amp;quot;: 1}&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;json_encode&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Returns a JSON serialization of the given value.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;val&lt;/code&gt; (various)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;json_encode(request.context.myJWT)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;jwt_sign&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Creates and signs a JSON Web Token (JWT) from information from a referenced &lt;a href="https://docs.couper.io/configuration/block/jwt_signing_profile"&gt;JWT Signing Profile Block&lt;/a&gt; (or &lt;a href="https://docs.couper.io/configuration/block/jwt"&gt;JWT Block&lt;/a&gt; with &lt;code&gt;signing_ttl&lt;/code&gt;) and additional claims provided as a function parameter.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;label&lt;/code&gt; (string), &lt;code&gt;claims&lt;/code&gt; (object)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;jwt_sign(&amp;quot;myJWT&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;keys&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;list&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Takes a map and returns a sorted list of the map keys.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;inputMap&lt;/code&gt; (object or map)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;keys(request.headers)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;length&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;integer&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Returns the number of elements in the given collection.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;collection&lt;/code&gt; (tuple, list or map; &lt;strong&gt;no object&lt;/strong&gt;)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;length([0,1,2,3])&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;lookup&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;various&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Performs a dynamic lookup into a map. The default (third argument) is returned if the key (second argument) is not found in the inputMap (first argument).&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;inputMap&lt;/code&gt; (object or map), &lt;code&gt;key&lt;/code&gt; (string), &lt;code&gt;default&lt;/code&gt; (various)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;lookup({a = 1}, &amp;quot;b&amp;quot;, &amp;quot;def&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;merge&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;object or tuple&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Deep-merges two or more of either objects or tuples. &lt;code&gt;null&lt;/code&gt; arguments are ignored. An attribute value with a different type than the current value is set as the new value. &lt;code&gt;merge()&lt;/code&gt; with no parameters returns &lt;code&gt;null&lt;/code&gt;.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;arg...&lt;/code&gt; (object or tuple)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;merge(request.headers, { x-additional = &amp;quot;myval&amp;quot; })&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;oauth2_authorization_url&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Creates an OAuth2 authorization URL from a referenced &lt;a href="https://docs.couper.io/configuration/block/beta_oauth2"&gt;OAuth2 AC (Beta) Block&lt;/a&gt; or &lt;a href="https://docs.couper.io/configuration/block/oidc"&gt;OIDC Block&lt;/a&gt;.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;label&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;oauth2_authorization_url(&amp;quot;myOAuth2&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;oauth2_verifier&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Creates a cryptographically random key as specified in RFC 7636, applicable for all verifier methods; e.g. to be set as a cookie and read into &lt;code&gt;verifier_value&lt;/code&gt;. Multiple calls of this function in the same client request context return the same value.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;oauth2_verifier()&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;relative_url&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Returns a relative URL by retaining &lt;code&gt;path&lt;/code&gt;, &lt;code&gt;query&lt;/code&gt; and &lt;code&gt;fragment&lt;/code&gt; components. The input URL &lt;code&gt;s&lt;/code&gt; must begin with &lt;code&gt;/&amp;lt;path&amp;gt;&lt;/code&gt;, &lt;code&gt;//&amp;lt;authority&amp;gt;&lt;/code&gt;, &lt;code&gt;http://&lt;/code&gt; or &lt;code&gt;https://&lt;/code&gt;, otherwise an error is thrown.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;s&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;relative_url(&amp;quot;https://httpbin.org/anything?query#fragment&amp;quot;) // returns &amp;quot;/anything?query#fragment&amp;quot;&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;saml_sso_url&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Creates a SAML SingleSignOn URL (including the &lt;code&gt;SAMLRequest&lt;/code&gt; parameter) from a referenced &lt;a href="https://docs.couper.io/configuration/block/saml"&gt;SAML Block&lt;/a&gt;.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;label&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;saml_sso_url(&amp;quot;mySAML&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;set_intersection&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;list or tuple&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Returns a new set containing the elements that exist in all of the given sets.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;sets...&lt;/code&gt; (tuple or list)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;set_intersection([&amp;quot;A&amp;quot;, &amp;quot;B&amp;quot;, &amp;quot;C&amp;quot;], [&amp;quot;B&amp;quot;, D&amp;quot;])&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;split&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;tuple&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Divides a given string by a given separator, returning a list of strings containing the characters between the separator sequences.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;sep&lt;/code&gt; (string), &lt;code&gt;str&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;split(&amp;quot; &amp;quot;, &amp;quot;foo bar qux&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;substr&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Extracts a sequence of characters from another string and creates a new string. The &amp;ldquo;&lt;code&gt;offset&lt;/code&gt;&amp;rdquo; index may be negative, in which case it is relative to the end of the given string. The &amp;ldquo;&lt;code&gt;length&lt;/code&gt;&amp;rdquo; may be &lt;code&gt;-1&lt;/code&gt;, in which case the remainder of the string after the given offset will be returned.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;str&lt;/code&gt; (string), &lt;code&gt;offset&lt;/code&gt; (integer), &lt;code&gt;length&lt;/code&gt; (integer)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;substr(&amp;quot;abcdef&amp;quot;, 3, -1)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;to_lower&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Converts a given string to lowercase.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;s&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;to_lower(request.cookies.name)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;to_number&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;number&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Converts its argument to a number value. Only numbers, &lt;code&gt;null&lt;/code&gt;, and strings containing decimal representations of numbers can be converted to number. All other values will produce an error.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;num&lt;/code&gt; (string or number)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;to_number(&amp;quot;1,23&amp;quot;)&lt;/code&gt;, &lt;code&gt;to_number(env.PI)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;to_upper&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Converts a given string to uppercase.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;s&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;to_upper(&amp;quot;CamelCase&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;trim&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Removes any whitespace characters from the start and end of the given string.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;str&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;trim(&amp;quot; foo &amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;unixtime&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;integer&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Retrieves the current UNIX timestamp in seconds.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;unixtime()&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;url_decode&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;URL-decodes a given string according to RFC 3986.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;s&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;url_decode(&amp;quot;abc%25%26%2C123&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;url_encode&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;URL-encodes a given string according to RFC 3986.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;s&lt;/code&gt; (string)&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;url_encode(&amp;quot;abc%&amp;amp;,123&amp;quot;)&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;</description></item><item><title>Merge of Configuration File(s)</title><link>https://docs.couper.io/configuration/multiple-files/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/multiple-files/</guid><description>&lt;h1 id="merging"&gt;Merging&lt;/h1&gt;
&lt;p&gt;Couper supports merging of blocks and attributes from multiple configuration files
(see &lt;a href="https://docs.couper.io/configuration/command-line#basic-options"&gt;Basic Options of Command Line Interface&lt;/a&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="#merging"&gt;Merging&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#general-rules-of-merging"&gt;General Rules of Merging&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#merging-of-server-blocks"&gt;Merging of &lt;code&gt;server&lt;/code&gt; Blocks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#merging-of-definitions-blocks"&gt;Merging of &lt;code&gt;definitions&lt;/code&gt; Blocks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#merging-of-defaults-blocks"&gt;Merging of &lt;code&gt;defaults&lt;/code&gt; Blocks&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="#merging-of-settings-blocks"&gt;Merging of &lt;code&gt;settings&lt;/code&gt; Blocks&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="general-rules-of-merging"&gt;General Rules of Merging&lt;/h2&gt;
&lt;p&gt;When merging, all attributes (except &lt;code&gt;environment_variables&lt;/code&gt; in the &lt;code&gt;defaults&lt;/code&gt; block) replace existing attributes with the same name, if any, otherwise they are added.&lt;/p&gt;
&lt;p&gt;Blocks that cannot have labels (eg. &lt;code&gt;cors&lt;/code&gt;, &lt;code&gt;files&lt;/code&gt; etc.) replace existing blocks with the same name, if any, otherwise they are added.&lt;/p&gt;</description></item><item><title>Modifiers</title><link>https://docs.couper.io/configuration/modifiers/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/modifiers/</guid><description>&lt;h1 id="modifiers"&gt;Modifiers&lt;/h1&gt;
&lt;h2 id="request-header"&gt;Request Header&lt;/h2&gt;
&lt;p&gt;Couper offers three attributes to manipulate the request header fields. The header
attributes can be defined unordered within the configuration file but will be
executed ordered as follows:&lt;/p&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th style="text-align: left"&gt;Modifier&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Contexts&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Description&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;remove_request_headers&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="https://docs.couper.io/configuration/block/endpoint"&gt;Endpoint Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/proxy"&gt;Proxy Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/backend"&gt;Backend Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/error_handler"&gt;Error Handler&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;List of request header to be removed from the upstream request.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;set_request_headers&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="https://docs.couper.io/configuration/block/endpoint"&gt;Endpoint Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/proxy"&gt;Proxy Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/backend"&gt;Backend Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/error_handler"&gt;Error Handler&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Key/value(s) pairs to set request header in the upstream request.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;add_request_headers&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;a href="https://docs.couper.io/configuration/block/endpoint"&gt;Endpoint Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/proxy"&gt;Proxy Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/backend"&gt;Backend Block&lt;/a&gt;, &lt;a href="https://docs.couper.io/configuration/block/error_handler"&gt;Error Handler&lt;/a&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Key/value(s) pairs to add request header to the upstream request.&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;All &lt;code&gt;*_request_headers&lt;/code&gt; are executed from: &lt;code&gt;endpoint&lt;/code&gt;, &lt;code&gt;proxy&lt;/code&gt;, &lt;code&gt;backend&lt;/code&gt; and &lt;code&gt;error_handler&lt;/code&gt;.&lt;/p&gt;</description></item><item><title>Variables</title><link>https://docs.couper.io/configuration/variables/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://docs.couper.io/configuration/variables/</guid><description>&lt;h1 id="variables"&gt;Variables&lt;/h1&gt;
&lt;p&gt;The configuration file allows the use of some predefined variables. There are two phases when those variables get evaluated.
The first phase is at config load which is currently related to &lt;code&gt;env&lt;/code&gt; and simple &lt;strong&gt;function&lt;/strong&gt; usage.
The second evaluation will happen during the request/response handling.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;env&lt;/code&gt; are the environment variables.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;request&lt;/code&gt; is the client request.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;backend_requests&lt;/code&gt; contains all modified backend requests.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;backend_responses&lt;/code&gt; contains all original backend responses.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="couper"&gt;&lt;code&gt;couper&lt;/code&gt;&lt;/h2&gt;
&lt;table&gt;
 &lt;thead&gt;
 &lt;tr&gt;
 &lt;th style="text-align: left"&gt;Variable&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Type&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Description&lt;/th&gt;
 &lt;th style="text-align: left"&gt;Example&lt;/th&gt;
 &lt;/tr&gt;
 &lt;/thead&gt;
 &lt;tbody&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;version&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;Couper&amp;rsquo;s version number.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;&amp;quot;1.9.2&amp;quot;&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;tr&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;environment&lt;/code&gt;&lt;/td&gt;
 &lt;td style="text-align: left"&gt;string&lt;/td&gt;
 &lt;td style="text-align: left"&gt;The &lt;a href="https://docs.couper.io/configuration/command-line#basic-options"&gt;environment&lt;/a&gt; Couper currently runs in.&lt;/td&gt;
 &lt;td style="text-align: left"&gt;&lt;code&gt;&amp;quot;prod&amp;quot;&lt;/code&gt;&lt;/td&gt;
 &lt;/tr&gt;
 &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="env"&gt;&lt;code&gt;env&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Environment variables can be accessed everywhere within the configuration file
since these references get evaluated at start.&lt;/p&gt;</description></item></channel></rss>