[{"data":1,"prerenderedAt":1512},["ShallowReactive",2],{"content-query-74RtNrRZdQ":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":7,"title":8,"description":7,"body":9,"_type":1507,"_id":1508,"_source":1509,"_file":1510,"_extension":1511},"/getting-started/examples","getting-started",false,"","Examples",{"type":10,"children":11,"toc":1500},"root",[12,20,27,33,205,226,238,244,265,408,428,448,454,468,717,745,751,1104,1106,1186,1192,1197,1494],{"type":13,"tag":14,"props":15,"children":17},"element","h1",{"id":16},"examples",[18],{"type":19,"value":8},"text",{"type":13,"tag":21,"props":22,"children":24},"h2",{"id":23},"file-and-web-serving",[25],{"type":19,"value":26},"File and Web Serving",{"type":13,"tag":28,"props":29,"children":30},"p",{},[31],{"type":19,"value":32},"Couper contains a Web server for simple file serving and also takes care of the more complex web serving of SPA assets.",{"type":13,"tag":34,"props":35,"children":39},"pre",{"className":36,"code":37,"language":38,"meta":7,"style":7},"language-hcl shiki shiki-themes slack-dark","server \"example\" {\n\n  files {\n    document_root = \"htdocs\"\n  }\n\n  spa {\n    bootstrap_file = \"htdocs/index.html\"\n    paths = [\"/**\"]\n  }\n}\n","hcl",[40],{"type":13,"tag":41,"props":42,"children":43},"code",{"__ignoreMap":7},[44,68,78,91,112,121,129,142,160,188,196],{"type":13,"tag":45,"props":46,"children":49},"span",{"class":47,"line":48},"line",1,[50,56,62],{"type":13,"tag":45,"props":51,"children":53},{"style":52},"--shiki-default:#4EC9B0",[54],{"type":19,"value":55},"server",{"type":13,"tag":45,"props":57,"children":59},{"style":58},"--shiki-default:#9CDCFE",[60],{"type":19,"value":61}," \"example\"",{"type":13,"tag":45,"props":63,"children":65},{"style":64},"--shiki-default:#E6E6E6",[66],{"type":19,"value":67}," {\n",{"type":13,"tag":45,"props":69,"children":71},{"class":47,"line":70},2,[72],{"type":13,"tag":45,"props":73,"children":75},{"emptyLinePlaceholder":74},true,[76],{"type":19,"value":77},"\n",{"type":13,"tag":45,"props":79,"children":81},{"class":47,"line":80},3,[82,87],{"type":13,"tag":45,"props":83,"children":84},{"style":52},[85],{"type":19,"value":86},"  files",{"type":13,"tag":45,"props":88,"children":89},{"style":64},[90],{"type":19,"value":67},{"type":13,"tag":45,"props":92,"children":94},{"class":47,"line":93},4,[95,100,106],{"type":13,"tag":45,"props":96,"children":97},{"style":58},[98],{"type":19,"value":99},"    document_root ",{"type":13,"tag":45,"props":101,"children":103},{"style":102},"--shiki-default:#D4D4D4",[104],{"type":19,"value":105},"=",{"type":13,"tag":45,"props":107,"children":109},{"style":108},"--shiki-default:#CE9178",[110],{"type":19,"value":111}," \"htdocs\"\n",{"type":13,"tag":45,"props":113,"children":115},{"class":47,"line":114},5,[116],{"type":13,"tag":45,"props":117,"children":118},{"style":64},[119],{"type":19,"value":120},"  }\n",{"type":13,"tag":45,"props":122,"children":124},{"class":47,"line":123},6,[125],{"type":13,"tag":45,"props":126,"children":127},{"emptyLinePlaceholder":74},[128],{"type":19,"value":77},{"type":13,"tag":45,"props":130,"children":132},{"class":47,"line":131},7,[133,138],{"type":13,"tag":45,"props":134,"children":135},{"style":52},[136],{"type":19,"value":137},"  spa",{"type":13,"tag":45,"props":139,"children":140},{"style":64},[141],{"type":19,"value":67},{"type":13,"tag":45,"props":143,"children":145},{"class":47,"line":144},8,[146,151,155],{"type":13,"tag":45,"props":147,"children":148},{"style":58},[149],{"type":19,"value":150},"    bootstrap_file ",{"type":13,"tag":45,"props":152,"children":153},{"style":102},[154],{"type":19,"value":105},{"type":13,"tag":45,"props":156,"children":157},{"style":108},[158],{"type":19,"value":159}," \"htdocs/index.html\"\n",{"type":13,"tag":45,"props":161,"children":163},{"class":47,"line":162},9,[164,169,173,178,183],{"type":13,"tag":45,"props":165,"children":166},{"style":58},[167],{"type":19,"value":168},"    paths ",{"type":13,"tag":45,"props":170,"children":171},{"style":102},[172],{"type":19,"value":105},{"type":13,"tag":45,"props":174,"children":175},{"style":64},[176],{"type":19,"value":177}," [",{"type":13,"tag":45,"props":179,"children":180},{"style":108},[181],{"type":19,"value":182},"\"/**\"",{"type":13,"tag":45,"props":184,"children":185},{"style":64},[186],{"type":19,"value":187},"]\n",{"type":13,"tag":45,"props":189,"children":191},{"class":47,"line":190},10,[192],{"type":13,"tag":45,"props":193,"children":194},{"style":64},[195],{"type":19,"value":120},{"type":13,"tag":45,"props":197,"children":199},{"class":47,"line":198},11,[200],{"type":13,"tag":45,"props":201,"children":202},{"style":64},[203],{"type":19,"value":204},"}\n",{"type":13,"tag":28,"props":206,"children":207},{},[208,210,216,218,224],{"type":19,"value":209},"The ",{"type":13,"tag":41,"props":211,"children":213},{"className":212},[],[214],{"type":19,"value":215},"files",{"type":19,"value":217}," block configures Couper's file server. It needs to know which directory to serve (",{"type":13,"tag":41,"props":219,"children":221},{"className":220},[],[222],{"type":19,"value":223},"document_root",{"type":19,"value":225},").",{"type":13,"tag":28,"props":227,"children":228},{},[229,230,236],{"type":19,"value":209},{"type":13,"tag":41,"props":231,"children":233},{"className":232},[],[234],{"type":19,"value":235},"spa",{"type":19,"value":237}," block is responsible for serving the bootstrap document for all paths that match the paths list.",{"type":13,"tag":21,"props":239,"children":241},{"id":240},"exposing-apis",[242],{"type":19,"value":243},"Exposing APIs",{"type":13,"tag":28,"props":245,"children":246},{},[247,249,255,257,263],{"type":19,"value":248},"Couper's main concept is exposing APIs via the configuration block ",{"type":13,"tag":41,"props":250,"children":252},{"className":251},[],[253],{"type":19,"value":254},"endpoint",{"type":19,"value":256},", fetching data from upstream or remote services, represented by the configuration block ",{"type":13,"tag":41,"props":258,"children":260},{"className":259},[],[261],{"type":19,"value":262},"backend",{"type":19,"value":264},".",{"type":13,"tag":34,"props":266,"children":268},{"className":36,"code":267,"language":38,"meta":7,"style":7},"server \"example\"{\n\n  endpoint \"/public/**\"{\n\n    proxy {\n      backend {\n        origin = \"https://httpbin.org\"\n        path = \"/**\"\n      }\n    }\n  }\n}\n",[269],{"type":13,"tag":41,"props":270,"children":271},{"__ignoreMap":7},[272,288,295,312,319,331,343,360,377,385,393,400],{"type":13,"tag":45,"props":273,"children":274},{"class":47,"line":48},[275,279,283],{"type":13,"tag":45,"props":276,"children":277},{"style":52},[278],{"type":19,"value":55},{"type":13,"tag":45,"props":280,"children":281},{"style":58},[282],{"type":19,"value":61},{"type":13,"tag":45,"props":284,"children":285},{"style":64},[286],{"type":19,"value":287},"{\n",{"type":13,"tag":45,"props":289,"children":290},{"class":47,"line":70},[291],{"type":13,"tag":45,"props":292,"children":293},{"emptyLinePlaceholder":74},[294],{"type":19,"value":77},{"type":13,"tag":45,"props":296,"children":297},{"class":47,"line":80},[298,303,308],{"type":13,"tag":45,"props":299,"children":300},{"style":52},[301],{"type":19,"value":302},"  endpoint",{"type":13,"tag":45,"props":304,"children":305},{"style":58},[306],{"type":19,"value":307}," \"/public/**\"",{"type":13,"tag":45,"props":309,"children":310},{"style":64},[311],{"type":19,"value":287},{"type":13,"tag":45,"props":313,"children":314},{"class":47,"line":93},[315],{"type":13,"tag":45,"props":316,"children":317},{"emptyLinePlaceholder":74},[318],{"type":19,"value":77},{"type":13,"tag":45,"props":320,"children":321},{"class":47,"line":114},[322,327],{"type":13,"tag":45,"props":323,"children":324},{"style":52},[325],{"type":19,"value":326},"    proxy",{"type":13,"tag":45,"props":328,"children":329},{"style":64},[330],{"type":19,"value":67},{"type":13,"tag":45,"props":332,"children":333},{"class":47,"line":123},[334,339],{"type":13,"tag":45,"props":335,"children":336},{"style":52},[337],{"type":19,"value":338},"      backend",{"type":13,"tag":45,"props":340,"children":341},{"style":64},[342],{"type":19,"value":67},{"type":13,"tag":45,"props":344,"children":345},{"class":47,"line":131},[346,351,355],{"type":13,"tag":45,"props":347,"children":348},{"style":58},[349],{"type":19,"value":350},"        origin ",{"type":13,"tag":45,"props":352,"children":353},{"style":102},[354],{"type":19,"value":105},{"type":13,"tag":45,"props":356,"children":357},{"style":108},[358],{"type":19,"value":359}," \"https://httpbin.org\"\n",{"type":13,"tag":45,"props":361,"children":362},{"class":47,"line":144},[363,368,372],{"type":13,"tag":45,"props":364,"children":365},{"style":58},[366],{"type":19,"value":367},"        path ",{"type":13,"tag":45,"props":369,"children":370},{"style":102},[371],{"type":19,"value":105},{"type":13,"tag":45,"props":373,"children":374},{"style":108},[375],{"type":19,"value":376}," \"/**\"\n",{"type":13,"tag":45,"props":378,"children":379},{"class":47,"line":162},[380],{"type":13,"tag":45,"props":381,"children":382},{"style":64},[383],{"type":19,"value":384},"      }\n",{"type":13,"tag":45,"props":386,"children":387},{"class":47,"line":190},[388],{"type":13,"tag":45,"props":389,"children":390},{"style":64},[391],{"type":19,"value":392},"    }\n",{"type":13,"tag":45,"props":394,"children":395},{"class":47,"line":198},[396],{"type":13,"tag":45,"props":397,"children":398},{"style":64},[399],{"type":19,"value":120},{"type":13,"tag":45,"props":401,"children":403},{"class":47,"line":402},12,[404],{"type":13,"tag":45,"props":405,"children":406},{"style":64},[407],{"type":19,"value":204},{"type":13,"tag":28,"props":409,"children":410},{},[411,413,419,421,427],{"type":19,"value":412},"This basic configuration defines an upstream backend service (",{"type":13,"tag":41,"props":414,"children":416},{"className":415},[],[417],{"type":19,"value":418},"https://httpbin.org",{"type":19,"value":420},") and \"mounts\" it on the local API endpoint ",{"type":13,"tag":41,"props":422,"children":424},{"className":423},[],[425],{"type":19,"value":426},"/public/**",{"type":19,"value":264},{"type":13,"tag":28,"props":429,"children":430},{},[431,433,439,441,447],{"type":19,"value":432},"An incoming request ",{"type":13,"tag":41,"props":434,"children":436},{"className":435},[],[437],{"type":19,"value":438},"/public/foo",{"type":19,"value":440}," will result in an outgoing request ",{"type":13,"tag":41,"props":442,"children":444},{"className":443},[],[445],{"type":19,"value":446},"https://httpbin.org/foo",{"type":19,"value":264},{"type":13,"tag":21,"props":449,"children":451},{"id":450},"securing-apis",[452],{"type":19,"value":453},"Securing APIs",{"type":13,"tag":28,"props":455,"children":456},{},[457,459,466],{"type":19,"value":458},"Access control is controlled by an\n",{"type":13,"tag":460,"props":461,"children":463},"a",{"href":462},"/configuration/access-control",[464],{"type":19,"value":465},"access control",{"type":19,"value":467}," attribute that can be set for many blocks.",{"type":13,"tag":34,"props":469,"children":471},{"className":36,"code":470,"language":38,"meta":7,"style":7},"server \"example\" {\n\n  endpoint \"/private/**\" {\n    access_control = [\"accessToken\"]\n\n    proxy {\n      backend {\n        origin = \"https://httpbin.org\"\n        path = \"/**\"\n      }\n    }\n  }\n\n  definitions {\n    jwt \"accessToken\" {\n      signature_algorithm = \"RS256\"\n      key_file = \"keys/public.pem\"\n    }\n  }\n}\n",[472],{"type":13,"tag":41,"props":473,"children":474},{"__ignoreMap":7},[475,490,497,513,538,545,556,567,582,597,604,611,618,626,639,657,675,693,701,709],{"type":13,"tag":45,"props":476,"children":477},{"class":47,"line":48},[478,482,486],{"type":13,"tag":45,"props":479,"children":480},{"style":52},[481],{"type":19,"value":55},{"type":13,"tag":45,"props":483,"children":484},{"style":58},[485],{"type":19,"value":61},{"type":13,"tag":45,"props":487,"children":488},{"style":64},[489],{"type":19,"value":67},{"type":13,"tag":45,"props":491,"children":492},{"class":47,"line":70},[493],{"type":13,"tag":45,"props":494,"children":495},{"emptyLinePlaceholder":74},[496],{"type":19,"value":77},{"type":13,"tag":45,"props":498,"children":499},{"class":47,"line":80},[500,504,509],{"type":13,"tag":45,"props":501,"children":502},{"style":52},[503],{"type":19,"value":302},{"type":13,"tag":45,"props":505,"children":506},{"style":58},[507],{"type":19,"value":508}," \"/private/**\"",{"type":13,"tag":45,"props":510,"children":511},{"style":64},[512],{"type":19,"value":67},{"type":13,"tag":45,"props":514,"children":515},{"class":47,"line":93},[516,521,525,529,534],{"type":13,"tag":45,"props":517,"children":518},{"style":58},[519],{"type":19,"value":520},"    access_control ",{"type":13,"tag":45,"props":522,"children":523},{"style":102},[524],{"type":19,"value":105},{"type":13,"tag":45,"props":526,"children":527},{"style":64},[528],{"type":19,"value":177},{"type":13,"tag":45,"props":530,"children":531},{"style":108},[532],{"type":19,"value":533},"\"accessToken\"",{"type":13,"tag":45,"props":535,"children":536},{"style":64},[537],{"type":19,"value":187},{"type":13,"tag":45,"props":539,"children":540},{"class":47,"line":114},[541],{"type":13,"tag":45,"props":542,"children":543},{"emptyLinePlaceholder":74},[544],{"type":19,"value":77},{"type":13,"tag":45,"props":546,"children":547},{"class":47,"line":123},[548,552],{"type":13,"tag":45,"props":549,"children":550},{"style":52},[551],{"type":19,"value":326},{"type":13,"tag":45,"props":553,"children":554},{"style":64},[555],{"type":19,"value":67},{"type":13,"tag":45,"props":557,"children":558},{"class":47,"line":131},[559,563],{"type":13,"tag":45,"props":560,"children":561},{"style":52},[562],{"type":19,"value":338},{"type":13,"tag":45,"props":564,"children":565},{"style":64},[566],{"type":19,"value":67},{"type":13,"tag":45,"props":568,"children":569},{"class":47,"line":144},[570,574,578],{"type":13,"tag":45,"props":571,"children":572},{"style":58},[573],{"type":19,"value":350},{"type":13,"tag":45,"props":575,"children":576},{"style":102},[577],{"type":19,"value":105},{"type":13,"tag":45,"props":579,"children":580},{"style":108},[581],{"type":19,"value":359},{"type":13,"tag":45,"props":583,"children":584},{"class":47,"line":162},[585,589,593],{"type":13,"tag":45,"props":586,"children":587},{"style":58},[588],{"type":19,"value":367},{"type":13,"tag":45,"props":590,"children":591},{"style":102},[592],{"type":19,"value":105},{"type":13,"tag":45,"props":594,"children":595},{"style":108},[596],{"type":19,"value":376},{"type":13,"tag":45,"props":598,"children":599},{"class":47,"line":190},[600],{"type":13,"tag":45,"props":601,"children":602},{"style":64},[603],{"type":19,"value":384},{"type":13,"tag":45,"props":605,"children":606},{"class":47,"line":198},[607],{"type":13,"tag":45,"props":608,"children":609},{"style":64},[610],{"type":19,"value":392},{"type":13,"tag":45,"props":612,"children":613},{"class":47,"line":402},[614],{"type":13,"tag":45,"props":615,"children":616},{"style":64},[617],{"type":19,"value":120},{"type":13,"tag":45,"props":619,"children":621},{"class":47,"line":620},13,[622],{"type":13,"tag":45,"props":623,"children":624},{"emptyLinePlaceholder":74},[625],{"type":19,"value":77},{"type":13,"tag":45,"props":627,"children":629},{"class":47,"line":628},14,[630,635],{"type":13,"tag":45,"props":631,"children":632},{"style":52},[633],{"type":19,"value":634},"  definitions",{"type":13,"tag":45,"props":636,"children":637},{"style":64},[638],{"type":19,"value":67},{"type":13,"tag":45,"props":640,"children":642},{"class":47,"line":641},15,[643,648,653],{"type":13,"tag":45,"props":644,"children":645},{"style":52},[646],{"type":19,"value":647},"    jwt",{"type":13,"tag":45,"props":649,"children":650},{"style":58},[651],{"type":19,"value":652}," \"accessToken\"",{"type":13,"tag":45,"props":654,"children":655},{"style":64},[656],{"type":19,"value":67},{"type":13,"tag":45,"props":658,"children":660},{"class":47,"line":659},16,[661,666,670],{"type":13,"tag":45,"props":662,"children":663},{"style":58},[664],{"type":19,"value":665},"      signature_algorithm ",{"type":13,"tag":45,"props":667,"children":668},{"style":102},[669],{"type":19,"value":105},{"type":13,"tag":45,"props":671,"children":672},{"style":108},[673],{"type":19,"value":674}," \"RS256\"\n",{"type":13,"tag":45,"props":676,"children":678},{"class":47,"line":677},17,[679,684,688],{"type":13,"tag":45,"props":680,"children":681},{"style":58},[682],{"type":19,"value":683},"      key_file ",{"type":13,"tag":45,"props":685,"children":686},{"style":102},[687],{"type":19,"value":105},{"type":13,"tag":45,"props":689,"children":690},{"style":108},[691],{"type":19,"value":692}," \"keys/public.pem\"\n",{"type":13,"tag":45,"props":694,"children":696},{"class":47,"line":695},18,[697],{"type":13,"tag":45,"props":698,"children":699},{"style":64},[700],{"type":19,"value":392},{"type":13,"tag":45,"props":702,"children":704},{"class":47,"line":703},19,[705],{"type":13,"tag":45,"props":706,"children":707},{"style":64},[708],{"type":19,"value":120},{"type":13,"tag":45,"props":710,"children":712},{"class":47,"line":711},20,[713],{"type":13,"tag":45,"props":714,"children":715},{"style":64},[716],{"type":19,"value":204},{"type":13,"tag":28,"props":718,"children":719},{},[720,722,728,730,735,737,743],{"type":19,"value":721},"This configuration protects the endpoint ",{"type":13,"tag":41,"props":723,"children":725},{"className":724},[],[726],{"type":19,"value":727},"/private/**",{"type":19,"value":729}," with the access control ",{"type":13,"tag":41,"props":731,"children":733},{"className":732},[],[734],{"type":19,"value":533},{"type":19,"value":736}," configured in the ",{"type":13,"tag":41,"props":738,"children":740},{"className":739},[],[741],{"type":19,"value":742},"definitions",{"type":19,"value":744}," block.",{"type":13,"tag":21,"props":746,"children":748},{"id":747},"routing-path-mapping",[749],{"type":19,"value":750},"Routing: Path Mapping",{"type":13,"tag":34,"props":752,"children":754},{"className":36,"code":753,"language":38,"meta":7,"style":7},"api \"my_api\" {\n  base_path = \"/api/v1\"\n\n  endpoint \"/login/**\" {\n    proxy {\n      backend {\n        origin = \"http://identityprovider:8080\"\n      }\n    }\n  }\n\n  endpoint \"/cart/**\" {\n    proxy {\n      url = \"http://cartservice:8080/api/v1/**\"\n    }\n  }\n\n  endpoint \"/account/{id}\" {\n    proxy {\n      backend {\n        path = \"/user/${request.param.id}/info\"\n        origin = \"http://accountservice:8080\"\n      }\n    }\n  }\n}\n",[755],{"type":13,"tag":41,"props":756,"children":757},{"__ignoreMap":7},[758,775,792,799,815,826,837,853,860,867,874,881,897,908,925,932,939,946,978,989,1000,1055,1072,1080,1088,1096],{"type":13,"tag":45,"props":759,"children":760},{"class":47,"line":48},[761,766,771],{"type":13,"tag":45,"props":762,"children":763},{"style":52},[764],{"type":19,"value":765},"api",{"type":13,"tag":45,"props":767,"children":768},{"style":58},[769],{"type":19,"value":770}," \"my_api\"",{"type":13,"tag":45,"props":772,"children":773},{"style":64},[774],{"type":19,"value":67},{"type":13,"tag":45,"props":776,"children":777},{"class":47,"line":70},[778,783,787],{"type":13,"tag":45,"props":779,"children":780},{"style":58},[781],{"type":19,"value":782},"  base_path ",{"type":13,"tag":45,"props":784,"children":785},{"style":102},[786],{"type":19,"value":105},{"type":13,"tag":45,"props":788,"children":789},{"style":108},[790],{"type":19,"value":791}," \"/api/v1\"\n",{"type":13,"tag":45,"props":793,"children":794},{"class":47,"line":80},[795],{"type":13,"tag":45,"props":796,"children":797},{"emptyLinePlaceholder":74},[798],{"type":19,"value":77},{"type":13,"tag":45,"props":800,"children":801},{"class":47,"line":93},[802,806,811],{"type":13,"tag":45,"props":803,"children":804},{"style":52},[805],{"type":19,"value":302},{"type":13,"tag":45,"props":807,"children":808},{"style":58},[809],{"type":19,"value":810}," \"/login/**\"",{"type":13,"tag":45,"props":812,"children":813},{"style":64},[814],{"type":19,"value":67},{"type":13,"tag":45,"props":816,"children":817},{"class":47,"line":114},[818,822],{"type":13,"tag":45,"props":819,"children":820},{"style":52},[821],{"type":19,"value":326},{"type":13,"tag":45,"props":823,"children":824},{"style":64},[825],{"type":19,"value":67},{"type":13,"tag":45,"props":827,"children":828},{"class":47,"line":123},[829,833],{"type":13,"tag":45,"props":830,"children":831},{"style":52},[832],{"type":19,"value":338},{"type":13,"tag":45,"props":834,"children":835},{"style":64},[836],{"type":19,"value":67},{"type":13,"tag":45,"props":838,"children":839},{"class":47,"line":131},[840,844,848],{"type":13,"tag":45,"props":841,"children":842},{"style":58},[843],{"type":19,"value":350},{"type":13,"tag":45,"props":845,"children":846},{"style":102},[847],{"type":19,"value":105},{"type":13,"tag":45,"props":849,"children":850},{"style":108},[851],{"type":19,"value":852}," \"http://identityprovider:8080\"\n",{"type":13,"tag":45,"props":854,"children":855},{"class":47,"line":144},[856],{"type":13,"tag":45,"props":857,"children":858},{"style":64},[859],{"type":19,"value":384},{"type":13,"tag":45,"props":861,"children":862},{"class":47,"line":162},[863],{"type":13,"tag":45,"props":864,"children":865},{"style":64},[866],{"type":19,"value":392},{"type":13,"tag":45,"props":868,"children":869},{"class":47,"line":190},[870],{"type":13,"tag":45,"props":871,"children":872},{"style":64},[873],{"type":19,"value":120},{"type":13,"tag":45,"props":875,"children":876},{"class":47,"line":198},[877],{"type":13,"tag":45,"props":878,"children":879},{"emptyLinePlaceholder":74},[880],{"type":19,"value":77},{"type":13,"tag":45,"props":882,"children":883},{"class":47,"line":402},[884,888,893],{"type":13,"tag":45,"props":885,"children":886},{"style":52},[887],{"type":19,"value":302},{"type":13,"tag":45,"props":889,"children":890},{"style":58},[891],{"type":19,"value":892}," \"/cart/**\"",{"type":13,"tag":45,"props":894,"children":895},{"style":64},[896],{"type":19,"value":67},{"type":13,"tag":45,"props":898,"children":899},{"class":47,"line":620},[900,904],{"type":13,"tag":45,"props":901,"children":902},{"style":52},[903],{"type":19,"value":326},{"type":13,"tag":45,"props":905,"children":906},{"style":64},[907],{"type":19,"value":67},{"type":13,"tag":45,"props":909,"children":910},{"class":47,"line":628},[911,916,920],{"type":13,"tag":45,"props":912,"children":913},{"style":58},[914],{"type":19,"value":915},"      url ",{"type":13,"tag":45,"props":917,"children":918},{"style":102},[919],{"type":19,"value":105},{"type":13,"tag":45,"props":921,"children":922},{"style":108},[923],{"type":19,"value":924}," \"http://cartservice:8080/api/v1/**\"\n",{"type":13,"tag":45,"props":926,"children":927},{"class":47,"line":641},[928],{"type":13,"tag":45,"props":929,"children":930},{"style":64},[931],{"type":19,"value":392},{"type":13,"tag":45,"props":933,"children":934},{"class":47,"line":659},[935],{"type":13,"tag":45,"props":936,"children":937},{"style":64},[938],{"type":19,"value":120},{"type":13,"tag":45,"props":940,"children":941},{"class":47,"line":677},[942],{"type":13,"tag":45,"props":943,"children":944},{"emptyLinePlaceholder":74},[945],{"type":19,"value":77},{"type":13,"tag":45,"props":947,"children":948},{"class":47,"line":695},[949,953,958,963,968,973],{"type":13,"tag":45,"props":950,"children":951},{"style":52},[952],{"type":19,"value":302},{"type":13,"tag":45,"props":954,"children":955},{"style":64},[956],{"type":19,"value":957}," \"/",{"type":13,"tag":45,"props":959,"children":960},{"style":58},[961],{"type":19,"value":962},"account",{"type":13,"tag":45,"props":964,"children":965},{"style":64},[966],{"type":19,"value":967},"/{",{"type":13,"tag":45,"props":969,"children":970},{"style":52},[971],{"type":19,"value":972},"id",{"type":13,"tag":45,"props":974,"children":975},{"style":64},[976],{"type":19,"value":977},"}\" {\n",{"type":13,"tag":45,"props":979,"children":980},{"class":47,"line":703},[981,985],{"type":13,"tag":45,"props":982,"children":983},{"style":52},[984],{"type":19,"value":326},{"type":13,"tag":45,"props":986,"children":987},{"style":64},[988],{"type":19,"value":67},{"type":13,"tag":45,"props":990,"children":991},{"class":47,"line":711},[992,996],{"type":13,"tag":45,"props":993,"children":994},{"style":52},[995],{"type":19,"value":338},{"type":13,"tag":45,"props":997,"children":998},{"style":64},[999],{"type":19,"value":67},{"type":13,"tag":45,"props":1001,"children":1003},{"class":47,"line":1002},21,[1004,1008,1012,1017,1023,1028,1032,1037,1041,1045,1050],{"type":13,"tag":45,"props":1005,"children":1006},{"style":58},[1007],{"type":19,"value":367},{"type":13,"tag":45,"props":1009,"children":1010},{"style":102},[1011],{"type":19,"value":105},{"type":13,"tag":45,"props":1013,"children":1014},{"style":108},[1015],{"type":19,"value":1016}," \"/user/",{"type":13,"tag":45,"props":1018,"children":1020},{"style":1019},"--shiki-default:#569CD6",[1021],{"type":19,"value":1022},"${",{"type":13,"tag":45,"props":1024,"children":1025},{"style":58},[1026],{"type":19,"value":1027},"request",{"type":13,"tag":45,"props":1029,"children":1030},{"style":102},[1031],{"type":19,"value":264},{"type":13,"tag":45,"props":1033,"children":1034},{"style":58},[1035],{"type":19,"value":1036},"param",{"type":13,"tag":45,"props":1038,"children":1039},{"style":102},[1040],{"type":19,"value":264},{"type":13,"tag":45,"props":1042,"children":1043},{"style":58},[1044],{"type":19,"value":972},{"type":13,"tag":45,"props":1046,"children":1047},{"style":1019},[1048],{"type":19,"value":1049},"}",{"type":13,"tag":45,"props":1051,"children":1052},{"style":108},[1053],{"type":19,"value":1054},"/info\"\n",{"type":13,"tag":45,"props":1056,"children":1058},{"class":47,"line":1057},22,[1059,1063,1067],{"type":13,"tag":45,"props":1060,"children":1061},{"style":58},[1062],{"type":19,"value":350},{"type":13,"tag":45,"props":1064,"children":1065},{"style":102},[1066],{"type":19,"value":105},{"type":13,"tag":45,"props":1068,"children":1069},{"style":108},[1070],{"type":19,"value":1071}," \"http://accountservice:8080\"\n",{"type":13,"tag":45,"props":1073,"children":1075},{"class":47,"line":1074},23,[1076],{"type":13,"tag":45,"props":1077,"children":1078},{"style":64},[1079],{"type":19,"value":384},{"type":13,"tag":45,"props":1081,"children":1083},{"class":47,"line":1082},24,[1084],{"type":13,"tag":45,"props":1085,"children":1086},{"style":64},[1087],{"type":19,"value":392},{"type":13,"tag":45,"props":1089,"children":1091},{"class":47,"line":1090},25,[1092],{"type":13,"tag":45,"props":1093,"children":1094},{"style":64},[1095],{"type":19,"value":120},{"type":13,"tag":45,"props":1097,"children":1099},{"class":47,"line":1098},26,[1100],{"type":13,"tag":45,"props":1101,"children":1102},{"style":64},[1103],{"type":19,"value":204},{"type":19,"value":1105},"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",{"type":13,"tag":1107,"props":1108,"children":1109},"table",{},[1110,1130],{"type":13,"tag":1111,"props":1112,"children":1113},"thead",{},[1114],{"type":13,"tag":1115,"props":1116,"children":1117},"tr",{},[1118,1125],{"type":13,"tag":1119,"props":1120,"children":1122},"th",{"align":1121},"left",[1123],{"type":19,"value":1124},"Incoming request",{"type":13,"tag":1119,"props":1126,"children":1127},{"align":1121},[1128],{"type":19,"value":1129},"Outgoing request",{"type":13,"tag":1131,"props":1132,"children":1133},"tbody",{},[1134,1152,1169],{"type":13,"tag":1115,"props":1135,"children":1136},{},[1137,1143],{"type":13,"tag":1138,"props":1139,"children":1140},"td",{"align":1121},[1141],{"type":19,"value":1142},"/api/v1/login/foo",{"type":13,"tag":1138,"props":1144,"children":1145},{"align":1121},[1146],{"type":13,"tag":41,"props":1147,"children":1149},{"className":1148},[],[1150],{"type":19,"value":1151},"http://identityprovider:8080/login/foo",{"type":13,"tag":1115,"props":1153,"children":1154},{},[1155,1160],{"type":13,"tag":1138,"props":1156,"children":1157},{"align":1121},[1158],{"type":19,"value":1159},"/api/v1/cart/items",{"type":13,"tag":1138,"props":1161,"children":1162},{"align":1121},[1163],{"type":13,"tag":41,"props":1164,"children":1166},{"className":1165},[],[1167],{"type":19,"value":1168},"http://cartservice:8080/api/v1/items",{"type":13,"tag":1115,"props":1170,"children":1171},{},[1172,1177],{"type":13,"tag":1138,"props":1173,"children":1174},{"align":1121},[1175],{"type":19,"value":1176},"/api/v1/account/brenda",{"type":13,"tag":1138,"props":1178,"children":1179},{"align":1121},[1180],{"type":13,"tag":41,"props":1181,"children":1183},{"className":1182},[],[1184],{"type":19,"value":1185},"http://accountservice:8080/user/brenda/info",{"type":13,"tag":21,"props":1187,"children":1189},{"id":1188},"using-variables-and-expressions",[1190],{"type":19,"value":1191},"Using Variables and Expressions",{"type":13,"tag":28,"props":1193,"children":1194},{},[1195],{"type":19,"value":1196},"An example to send an additional header with client request header to a configured\nbackend and gets evaluated on per-request basis:",{"type":13,"tag":34,"props":1198,"children":1200},{"className":36,"code":1199,"language":38,"meta":7,"style":7},"server {\n  endpoint \"/\" {\n    proxy {\n      backend {\n        origin = \"https://httpbin.org/\"\n        path = \"/anything\"\n        set_request_headers = {\n          # simple variable lookup\n          x-uuid = request.id\n          # template string\n          user-agent = \"myproxyClient/${request.headers.app-version}\"\n          # expressions and function calls\n          x-env-user = env.USER != \"\" ? to_upper(env.USER) : \"UNKNOWN\"\n        }\n      }\n    }\n  }\n}\n",[1201],{"type":13,"tag":41,"props":1202,"children":1203},{"__ignoreMap":7},[1204,1215,1231,1242,1253,1269,1285,1301,1310,1328,1336,1388,1396,1458,1466,1473,1480,1487],{"type":13,"tag":45,"props":1205,"children":1206},{"class":47,"line":48},[1207,1211],{"type":13,"tag":45,"props":1208,"children":1209},{"style":52},[1210],{"type":19,"value":55},{"type":13,"tag":45,"props":1212,"children":1213},{"style":64},[1214],{"type":19,"value":67},{"type":13,"tag":45,"props":1216,"children":1217},{"class":47,"line":70},[1218,1222,1227],{"type":13,"tag":45,"props":1219,"children":1220},{"style":52},[1221],{"type":19,"value":302},{"type":13,"tag":45,"props":1223,"children":1224},{"style":58},[1225],{"type":19,"value":1226}," \"/\"",{"type":13,"tag":45,"props":1228,"children":1229},{"style":64},[1230],{"type":19,"value":67},{"type":13,"tag":45,"props":1232,"children":1233},{"class":47,"line":80},[1234,1238],{"type":13,"tag":45,"props":1235,"children":1236},{"style":52},[1237],{"type":19,"value":326},{"type":13,"tag":45,"props":1239,"children":1240},{"style":64},[1241],{"type":19,"value":67},{"type":13,"tag":45,"props":1243,"children":1244},{"class":47,"line":93},[1245,1249],{"type":13,"tag":45,"props":1246,"children":1247},{"style":52},[1248],{"type":19,"value":338},{"type":13,"tag":45,"props":1250,"children":1251},{"style":64},[1252],{"type":19,"value":67},{"type":13,"tag":45,"props":1254,"children":1255},{"class":47,"line":114},[1256,1260,1264],{"type":13,"tag":45,"props":1257,"children":1258},{"style":58},[1259],{"type":19,"value":350},{"type":13,"tag":45,"props":1261,"children":1262},{"style":102},[1263],{"type":19,"value":105},{"type":13,"tag":45,"props":1265,"children":1266},{"style":108},[1267],{"type":19,"value":1268}," \"https://httpbin.org/\"\n",{"type":13,"tag":45,"props":1270,"children":1271},{"class":47,"line":123},[1272,1276,1280],{"type":13,"tag":45,"props":1273,"children":1274},{"style":58},[1275],{"type":19,"value":367},{"type":13,"tag":45,"props":1277,"children":1278},{"style":102},[1279],{"type":19,"value":105},{"type":13,"tag":45,"props":1281,"children":1282},{"style":108},[1283],{"type":19,"value":1284}," \"/anything\"\n",{"type":13,"tag":45,"props":1286,"children":1287},{"class":47,"line":131},[1288,1293,1297],{"type":13,"tag":45,"props":1289,"children":1290},{"style":58},[1291],{"type":19,"value":1292},"        set_request_headers ",{"type":13,"tag":45,"props":1294,"children":1295},{"style":102},[1296],{"type":19,"value":105},{"type":13,"tag":45,"props":1298,"children":1299},{"style":64},[1300],{"type":19,"value":67},{"type":13,"tag":45,"props":1302,"children":1303},{"class":47,"line":144},[1304],{"type":13,"tag":45,"props":1305,"children":1307},{"style":1306},"--shiki-default:#6A9955",[1308],{"type":19,"value":1309},"          # simple variable lookup\n",{"type":13,"tag":45,"props":1311,"children":1312},{"class":47,"line":162},[1313,1318,1323],{"type":13,"tag":45,"props":1314,"children":1315},{"style":58},[1316],{"type":19,"value":1317},"          x-uuid",{"type":13,"tag":45,"props":1319,"children":1320},{"style":102},[1321],{"type":19,"value":1322}," =",{"type":13,"tag":45,"props":1324,"children":1325},{"style":64},[1326],{"type":19,"value":1327}," request.id\n",{"type":13,"tag":45,"props":1329,"children":1330},{"class":47,"line":190},[1331],{"type":13,"tag":45,"props":1332,"children":1333},{"style":1306},[1334],{"type":19,"value":1335},"          # template string\n",{"type":13,"tag":45,"props":1337,"children":1338},{"class":47,"line":198},[1339,1344,1348,1353,1357,1361,1365,1370,1374,1379,1383],{"type":13,"tag":45,"props":1340,"children":1341},{"style":58},[1342],{"type":19,"value":1343},"          user-agent",{"type":13,"tag":45,"props":1345,"children":1346},{"style":102},[1347],{"type":19,"value":1322},{"type":13,"tag":45,"props":1349,"children":1350},{"style":108},[1351],{"type":19,"value":1352}," \"myproxyClient/",{"type":13,"tag":45,"props":1354,"children":1355},{"style":1019},[1356],{"type":19,"value":1022},{"type":13,"tag":45,"props":1358,"children":1359},{"style":58},[1360],{"type":19,"value":1027},{"type":13,"tag":45,"props":1362,"children":1363},{"style":102},[1364],{"type":19,"value":264},{"type":13,"tag":45,"props":1366,"children":1367},{"style":58},[1368],{"type":19,"value":1369},"headers",{"type":13,"tag":45,"props":1371,"children":1372},{"style":102},[1373],{"type":19,"value":264},{"type":13,"tag":45,"props":1375,"children":1376},{"style":58},[1377],{"type":19,"value":1378},"app-version",{"type":13,"tag":45,"props":1380,"children":1381},{"style":1019},[1382],{"type":19,"value":1049},{"type":13,"tag":45,"props":1384,"children":1385},{"style":108},[1386],{"type":19,"value":1387},"\"\n",{"type":13,"tag":45,"props":1389,"children":1390},{"class":47,"line":402},[1391],{"type":13,"tag":45,"props":1392,"children":1393},{"style":1306},[1394],{"type":19,"value":1395},"          # expressions and function calls\n",{"type":13,"tag":45,"props":1397,"children":1398},{"class":47,"line":620},[1399,1404,1408,1413,1418,1423,1428,1434,1439,1443,1448,1453],{"type":13,"tag":45,"props":1400,"children":1401},{"style":58},[1402],{"type":19,"value":1403},"          x-env-user",{"type":13,"tag":45,"props":1405,"children":1406},{"style":102},[1407],{"type":19,"value":1322},{"type":13,"tag":45,"props":1409,"children":1410},{"style":64},[1411],{"type":19,"value":1412}," env.USER ",{"type":13,"tag":45,"props":1414,"children":1415},{"style":102},[1416],{"type":19,"value":1417},"!=",{"type":13,"tag":45,"props":1419,"children":1420},{"style":108},[1421],{"type":19,"value":1422}," \"\"",{"type":13,"tag":45,"props":1424,"children":1425},{"style":102},[1426],{"type":19,"value":1427}," ?",{"type":13,"tag":45,"props":1429,"children":1431},{"style":1430},"--shiki-default:#DCDCAA",[1432],{"type":19,"value":1433}," to_upper",{"type":13,"tag":45,"props":1435,"children":1436},{"style":64},[1437],{"type":19,"value":1438},"(env",{"type":13,"tag":45,"props":1440,"children":1441},{"style":102},[1442],{"type":19,"value":264},{"type":13,"tag":45,"props":1444,"children":1445},{"style":58},[1446],{"type":19,"value":1447},"USER",{"type":13,"tag":45,"props":1449,"children":1450},{"style":64},[1451],{"type":19,"value":1452},") : ",{"type":13,"tag":45,"props":1454,"children":1455},{"style":108},[1456],{"type":19,"value":1457},"\"UNKNOWN\"\n",{"type":13,"tag":45,"props":1459,"children":1460},{"class":47,"line":628},[1461],{"type":13,"tag":45,"props":1462,"children":1463},{"style":64},[1464],{"type":19,"value":1465},"        }\n",{"type":13,"tag":45,"props":1467,"children":1468},{"class":47,"line":641},[1469],{"type":13,"tag":45,"props":1470,"children":1471},{"style":64},[1472],{"type":19,"value":384},{"type":13,"tag":45,"props":1474,"children":1475},{"class":47,"line":659},[1476],{"type":13,"tag":45,"props":1477,"children":1478},{"style":64},[1479],{"type":19,"value":392},{"type":13,"tag":45,"props":1481,"children":1482},{"class":47,"line":677},[1483],{"type":13,"tag":45,"props":1484,"children":1485},{"style":64},[1486],{"type":19,"value":120},{"type":13,"tag":45,"props":1488,"children":1489},{"class":47,"line":695},[1490],{"type":13,"tag":45,"props":1491,"children":1492},{"style":64},[1493],{"type":19,"value":204},{"type":13,"tag":1495,"props":1496,"children":1497},"style",{},[1498],{"type":19,"value":1499},"html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":7,"searchDepth":70,"depth":70,"links":1501},[1502,1503,1504,1505,1506],{"id":23,"depth":70,"text":26},{"id":240,"depth":70,"text":243},{"id":450,"depth":70,"text":453},{"id":747,"depth":70,"text":750},{"id":1188,"depth":70,"text":1191},"markdown","content:1.getting-started:3.examples.md","content","1.getting-started/3.examples.md","md",1738423147616]